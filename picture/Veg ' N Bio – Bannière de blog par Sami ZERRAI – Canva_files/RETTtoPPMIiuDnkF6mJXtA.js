(function() {var e,m="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this,aa={};function n(a,b){(aa[a]=aa[a]||[]).push(b);var c=m;a=a.split(".");for(var d=0;d<a.length-1&&c;d++)c=c[a[d]];a=a[a.length-1];c&&c[a]instanceof Function&&(c[a]=b(c[a]))}
function ba(){ba=function(){};if(!m.Symbol){m.Symbol=ca;var a=[],b=function(b){return function(d){a=[];d=b(d);for(var f=[],g=0,h=d.length;g<h;g++){var l;a:if(l=d[g],14>l.length)l=!1;else{for(var k=0;14>k;k++)if(l[k]!="jscomp_symbol_"[k]){l=!1;break a}l=!0}l?a.push(d[g]):f.push(d[g])}return f}};n("Object.keys",b);n("Object.getOwnPropertyNames",b);n("Object.getOwnPropertySymbols",function(c){return function(d){b.Qj=Object.getOwnPropertyNames(d);a.push.apply(c(d));return a}})}}var da=0;
function ca(a){return"jscomp_symbol_"+a+da++}function ea(){ba();m.Symbol.iterator||(m.Symbol.iterator=m.Symbol("iterator"));ea=function(){}}function p(a){ea();ba();ea();var b=a[Symbol.iterator];if(b)return b.call(a);var c=0;return{next:function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}}}function r(a){if(!(a instanceof Array)){a=p(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}
function t(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(b,d);f&&Object.defineProperty(a,d,f)}else a[d]=b[d]}function fa(a,b){ea();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d}
var ha="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};function u(a,b){if(b){for(var c=m,d=a.split("."),f=0;f<d.length-1;f++){var g=d[f];g in c||(c[g]={});c=c[g]}d=d[d.length-1];f=c[d];b=b(f);if(b!=f){a=aa[a]||[];for(f=0;f<a.length;f++)b=a[f](b);ha(c,d,{configurable:!0,writable:!0,value:b})}}}
u("Array.prototype.keys",function(a){return a?a:function(){return fa(this,function(a){return a})}});function w(a,b){return Object.prototype.hasOwnProperty.call(a,b)}
u("WeakMap",function(a){function b(a){this.Ic=(l+=Math.random()+1).toString();if(a){ba();ea();a=p(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}}function c(a){if(!w(a,g)){var b={};b[g]=h;ha(a,g,{value:b})}}function d(a){return function(b){var c=a(b);if(w(b,g)&&w(b[g],g)&&b[g][g]===h)for(b=0;b<c.length;b++)if(c[b]==g){c.splice(b,1);break}return c}}function f(a){return function(b){c(b);return a(b)}}if(function(){if(!a||!Object.seal)return!1;var b=Object.seal({}),c=Object.seal({}),d=
new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==d.get(c)}())return a;var g="$jscomp_hidden_"+Math.random().toString().substring(2),h={};n("Object.getOwnPropertyNames",d);n("Object.keys",d);n("Reflect.enumerate",d);n("Reflect.ownKeys",d);n("Object.freeze",f);n("Object.preventExtensions",f);n("Object.seal",f);var l=0;b.prototype.set=function(a,b){c(a);if(!w(a,g))throw Error("WeakMap key fail: "+a);a[g][this.Ic]=b;return this};b.prototype.get=function(a){return w(a,
g)?a[g][this.Ic]:void 0};b.prototype.has=function(a){return w(a,g)&&w(a[g],this.Ic)};b.prototype.delete=function(a){return w(a,g)&&w(a[g],this.Ic)?delete a[g][this.Ic]:!1};return b});
u("Map",function(a){function b(){var a={};return a.previous=a.next=a.head=a}function c(a,b){var c=a.Ua,d={next:function(){if(c){for(;c.head!=a.Ua;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}}};d[Symbol.iterator]=function(){return d};return d}function d(a,b){var c;c=b&&typeof b;"object"==c||"function"==c?g.has(b)?c=g.get(b):(c=""+ ++h,g.set(b,c)):c="p_"+b;var d=a.vc[c];if(d&&w(a.vc,c))for(a=0;a<d.length;a++){var f=d[a];if(b!==b&&f.key!==
f.key||b===f.key)return{id:c,list:d,index:a,la:f}}return{id:c,list:d,index:-1,la:void 0}}function f(a){this.vc={};this.Ua=b();this.size=0;if(a){a=p(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}}if(function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a(p([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),f=d.next();if(f.done||f.value[0]!=b||"s"!=f.value[1])return!1;
f=d.next();return f.done||4!=f.value[0].x||"t"!=f.value[1]||!d.next().done?!1:!0}catch(g){return!1}}())return a;ba();ea();var g=new WeakMap;f.prototype.set=function(a,b){var c=d(this,a);c.list||(c.list=this.vc[c.id]=[]);c.la?c.la.value=b:(c.la={next:this.Ua,previous:this.Ua.previous,head:this.Ua,key:a,value:b},c.list.push(c.la),this.Ua.previous.next=c.la,this.Ua.previous=c.la,this.size++);return this};f.prototype.delete=function(a){a=d(this,a);return a.la&&a.list?(a.list.splice(a.index,1),a.list.length||
delete this.vc[a.id],a.la.previous.next=a.la.next,a.la.next.previous=a.la.previous,a.la.head=null,this.size--,!0):!1};f.prototype.clear=function(){this.vc={};this.Ua=this.Ua.previous=b();this.size=0};f.prototype.has=function(a){return!!d(this,a).la};f.prototype.get=function(a){return(a=d(this,a).la)&&a.value};f.prototype.entries=function(){return c(this,function(a){return[a.key,a.value]})};f.prototype.keys=function(){return c(this,function(a){return a.key})};f.prototype.values=function(){return c(this,
function(a){return a.value})};f.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};f.prototype[Symbol.iterator]=f.prototype.entries;var h=0;return f});u("Object.assign",function(a){return a?a:function(a,c){for(var d=1;d<arguments.length;d++){var f=arguments[d];if(f)for(var g in f)w(f,g)&&(a[g]=f[g])}return a}});
u("Array.prototype.fill",function(a){return a?a:function(a,c,d){var f=this.length||0;0>c&&(c=Math.max(0,f+c));if(null==d||d>f)d=f;d=Number(d);0>d&&(d=Math.max(0,f+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}});u("Array.prototype.entries",function(a){return a?a:function(){return fa(this,function(a,c){return[a,c]})}});u("Array.prototype.values",function(a){return a?a:function(){return fa(this,function(a,c){return c})}});
u("Array.prototype.find",function(a){return a?a:function(a,c){a:{var d=this;d instanceof String&&(d=String(d));for(var f=d.length,g=0;g<f;g++){var h=d[g];if(a.call(c,h,g,d)){a=h;break a}}a=void 0}return a}});function x(a,b){if(!a)throw new TypeError("Cannot adopt constructor "+a);if("object"!==typeof b)throw new TypeError("Cannot adopt non-object value "+b);if(null===b)throw new TypeError("Cannot adopt null value");return Object.create(a.prototype,ia(b))}
function ia(a){var b=Object.create(null);Object.keys(a).forEach(function(c){b[c]={value:a[c],writable:!0,enumerable:!0,configurable:!0}});return b};function z(a){this.type=a}z.prototype.required=function(a,b){b=b[a];if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};z.prototype.optional=function(a,b){b=b[a];if(null!=b&&typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};
z.prototype.Ca=function(a,b){b=b[a];if(null!=b)if(Array.isArray(b))for(a=0;a<b.length;a++)this.required(String(a),b);else throw new TypeError("expected repeated "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};var A=new z("string"),ka=new z("boolean"),la=new z("number"),ma=new z("object");function B(a){if(null==a||"object"!=typeof a)throw new TypeError("expected an object, found: "+a);return a}function C(a,b){return la.optional(a,b)||0}
function D(a,b){return la.optional(a,b)}function E(a,b){return A.required(a,b)}function F(a,b){return A.optional(a,b)}function G(a,b){return ka.optional(a,b)||!1}function H(a,b){return ka.optional(a,b)}function I(a,b,c){return a(ma.required(b,c))}function J(a,b,c){return(b=ma.optional(b,c))?a(b):b}function K(a,b,c){return(b=ma.Ca(b,c))?b.map(a):b}function L(a,b,c){return a(b,A.required(b,c))}function M(a,b,c){c=A.optional(b,c);return null!=c?a(b,c):c}
function na(a,b,c){return oa(pa,qa.bind(null,a),b,c)}function oa(a,b,c,d){d=d[c];if(null==d)return d;if("object"!==typeof d)throw new TypeError('expected map for property "'+c+'", found: '+JSON.stringify(d));for(var f=new Map,g=p(Object.keys(d)),h=g.next();!h.done;h=g.next())h=h.value,f.set(a(c,h),b(c,h,d));return f}function pa(a,b){return b}
function qa(a,b,c,d){c=d[c];if(null==c||"object"!==typeof c)throw new TypeError('expected object value in property "'+b+'", found: '+JSON.stringify(c));return a(c)}function ra(a,b,c){b=c[b];if("string"!==typeof b)throw new TypeError('expected string value in property "'+a+'", found: '+JSON.stringify(b));return b}function sa(a){this.type=a}
sa.prototype.required=function(a,b){if(null==b||typeof b!=this.type)throw new TypeError("expected "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};sa.prototype.optional=function(a,b){if(null!=b){if(typeof b!=this.type)throw new TypeError("expected optional "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b}};
sa.prototype.Ca=function(a,b){if(Array.isArray(b)){if(0==b.length)return;for(var c=0;c<b.length;c++)this.required(a+"["+String(c)+"]",b[c])}else throw new TypeError("expected repeated "+this.type+' for property "'+a+'", found: '+JSON.stringify(b));return b};var N=new sa("string"),ta=new sa("number");function ua(a,b){return 0!==b?ta.required(a,b):void 0}
function va(a,b,c){if(null==c||"object"!==typeof c)throw new TypeError('expected object value in property "'+b+'", found: '+JSON.stringify(c));return a(c)};function wa(){}function O(a,b,c){for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];if(!a)throw Error(2>arguments.length?"invalid argument":xa.apply(wa,[].concat([b],r(d))));}function Q(a,b,c){for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];if(!a)throw Error(2>arguments.length?"invalid state":xa.apply(wa,[].concat([b],r(d))));}
function ya(a,b,c){for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];if(null==a)throw Error(2>arguments.length?"argument is null":xa.apply(wa,[].concat([b],r(d))));return a}function xa(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];var f=0;return a.replace(/\{}/g,function(){return f<c.length?c[f++]:"{}"})};function za(a,b){switch(b){case "THUMBNAIL":return"THUMBNAIL";case "THUMBNAIL_LARGE":return"THUMBNAIL_LARGE";case "SCREEN":return"SCREEN";case "PRINT":return"PRINT";case "ORIGINAL":return"ORIGINAL";default:throw new TypeError('expected MediaQuality for property "'+a+'", found: '+JSON.stringify(b));}}
function Aa(a,b){switch(b){case "RECOLORABLE":return"RECOLORABLE";case "BACKGROUND_R":return"BACKGROUND_R";case "BACKGROUND_G":return"BACKGROUND_G";case "BACKGROUND_B":return"BACKGROUND_B";case "BACKGROUND_A":return"BACKGROUND_A";default:throw new TypeError('expected SpritesheetLayerType for property "'+a+'", found: '+JSON.stringify(b));}}function Ba(a){this.id=a.id;this.version=a.version}Ba.prototype.g=function(){return this.id};Ba.prototype.getVersion=function(){return this.version};
function Ca(a){return new Ba({id:E("id",a),version:C("version",a)})}function Da(a){this.Qh=a.Qh;this.Ph=a.Ph;this.vg=a.vg;this.Rg=a.Rg||[]}function Ea(a){return new Da({Qh:C("spritesWide",a),Ph:C("spritesHigh",a),vg:G("fullyRecolorable",a),Rg:K(Fa,"layers",a)})}function Ga(a){this.type=a.type;this.Qg=a.Qg;this.color=a.color}function Fa(a){return new Ga({type:L(Aa,"type",a),Qg:D("layerIndex",a),color:F("color",a)})};function Ha(a){switch(a){case "PENDING":return"PENDING";case "SUCCEEDED":return"SUCCEEDED";case "FAILED":return"FAILED";default:throw new TypeError('expected AvatarBundleStatus for property "status", found: '+JSON.stringify(a));}}function Ia(a,b){switch(b){case "PENDING":return"PENDING";case "SUCCEEDED":return"SUCCEEDED";case "FAILED":return"FAILED";default:throw new TypeError('expected AvatarBundleStatus for property "'+a+'", found: '+JSON.stringify(b));}}
function Ja(a,b){switch(b){case "AD":return"AD";case "AE":return"AE";case "AF":return"AF";case "AG":return"AG";case "AI":return"AI";case "AL":return"AL";case "AM":return"AM";case "AO":return"AO";case "AQ":return"AQ";case "AR":return"AR";case "AS":return"AS";case "AT":return"AT";case "AU":return"AU";case "AW":return"AW";case "AX":return"AX";case "AZ":return"AZ";case "BA":return"BA";case "BB":return"BB";case "BD":return"BD";case "BE":return"BE";case "BF":return"BF";case "BG":return"BG";case "BH":return"BH";
case "BI":return"BI";case "BJ":return"BJ";case "BL":return"BL";case "BM":return"BM";case "BN":return"BN";case "BO":return"BO";case "BQ":return"BQ";case "BR":return"BR";case "BS":return"BS";case "BT":return"BT";case "BV":return"BV";case "BW":return"BW";case "BY":return"BY";case "BZ":return"BZ";case "CA":return"CA";case "CC":return"CC";case "CD":return"CD";case "CF":return"CF";case "CG":return"CG";case "CH":return"CH";case "CI":return"CI";case "CK":return"CK";case "CL":return"CL";case "CM":return"CM";
case "CN":return"CN";case "CO":return"CO";case "CR":return"CR";case "CU":return"CU";case "CV":return"CV";case "CW":return"CW";case "CX":return"CX";case "CY":return"CY";case "CZ":return"CZ";case "DE":return"DE";case "DJ":return"DJ";case "DK":return"DK";case "DM":return"DM";case "DO":return"DO";case "DZ":return"DZ";case "EC":return"EC";case "EE":return"EE";case "EG":return"EG";case "EH":return"EH";case "ER":return"ER";case "ES":return"ES";case "ET":return"ET";case "FI":return"FI";case "FJ":return"FJ";
case "FK":return"FK";case "FM":return"FM";case "FO":return"FO";case "FR":return"FR";case "GA":return"GA";case "GB":return"GB";case "GD":return"GD";case "GE":return"GE";case "GF":return"GF";case "GG":return"GG";case "GH":return"GH";case "GI":return"GI";case "GL":return"GL";case "GM":return"GM";case "GN":return"GN";case "GP":return"GP";case "GQ":return"GQ";case "GR":return"GR";case "GS":return"GS";case "GT":return"GT";case "GU":return"GU";case "GW":return"GW";case "GY":return"GY";case "HK":return"HK";
case "HM":return"HM";case "HN":return"HN";case "HR":return"HR";case "HT":return"HT";case "HU":return"HU";case "ID":return"ID";case "IE":return"IE";case "IL":return"IL";case "IM":return"IM";case "IN":return"IN";case "IO":return"IO";case "IQ":return"IQ";case "IR":return"IR";case "IS":return"IS";case "IT":return"IT";case "JE":return"JE";case "JM":return"JM";case "JO":return"JO";case "JP":return"JP";case "KE":return"KE";case "KG":return"KG";case "KH":return"KH";case "KI":return"KI";case "KM":return"KM";
case "KN":return"KN";case "KP":return"KP";case "KR":return"KR";case "KW":return"KW";case "KY":return"KY";case "KZ":return"KZ";case "LA":return"LA";case "LB":return"LB";case "LC":return"LC";case "LI":return"LI";case "LK":return"LK";case "LR":return"LR";case "LS":return"LS";case "LT":return"LT";case "LU":return"LU";case "LV":return"LV";case "LY":return"LY";case "MA":return"MA";case "MC":return"MC";case "MD":return"MD";case "ME":return"ME";case "MF":return"MF";case "MG":return"MG";case "MH":return"MH";
case "MK":return"MK";case "ML":return"ML";case "MM":return"MM";case "MN":return"MN";case "MO":return"MO";case "MP":return"MP";case "MQ":return"MQ";case "MR":return"MR";case "MS":return"MS";case "MT":return"MT";case "MU":return"MU";case "MV":return"MV";case "MW":return"MW";case "MX":return"MX";case "MY":return"MY";case "MZ":return"MZ";case "NA":return"NA";case "NC":return"NC";case "NE":return"NE";case "NF":return"NF";case "NG":return"NG";case "NI":return"NI";case "NL":return"NL";case "NO":return"NO";
case "NP":return"NP";case "NR":return"NR";case "NU":return"NU";case "NZ":return"NZ";case "OM":return"OM";case "PA":return"PA";case "PE":return"PE";case "PF":return"PF";case "PG":return"PG";case "PH":return"PH";case "PK":return"PK";case "PL":return"PL";case "PM":return"PM";case "PN":return"PN";case "PR":return"PR";case "PS":return"PS";case "PT":return"PT";case "PW":return"PW";case "PY":return"PY";case "QA":return"QA";case "RE":return"RE";case "RO":return"RO";case "RS":return"RS";case "RU":return"RU";
case "RW":return"RW";case "SA":return"SA";case "SB":return"SB";case "SC":return"SC";case "SD":return"SD";case "SE":return"SE";case "SG":return"SG";case "SH":return"SH";case "SI":return"SI";case "SJ":return"SJ";case "SK":return"SK";case "SL":return"SL";case "SM":return"SM";case "SN":return"SN";case "SO":return"SO";case "SR":return"SR";case "SS":return"SS";case "ST":return"ST";case "SV":return"SV";case "SX":return"SX";case "SY":return"SY";case "SZ":return"SZ";case "TC":return"TC";case "TD":return"TD";
case "TF":return"TF";case "TG":return"TG";case "TH":return"TH";case "TJ":return"TJ";case "TK":return"TK";case "TL":return"TL";case "TM":return"TM";case "TN":return"TN";case "TO":return"TO";case "TR":return"TR";case "TT":return"TT";case "TV":return"TV";case "TW":return"TW";case "TZ":return"TZ";case "UA":return"UA";case "UG":return"UG";case "UM":return"UM";case "US":return"US";case "UY":return"UY";case "UZ":return"UZ";case "VA":return"VA";case "VC":return"VC";case "VE":return"VE";case "VG":return"VG";
case "VI":return"VI";case "VN":return"VN";case "VU":return"VU";case "WF":return"WF";case "WS":return"WS";case "YE":return"YE";case "YT":return"YT";case "ZA":return"ZA";case "ZM":return"ZM";case "ZW":return"ZW";case "ZZ":return"ZZ";default:throw new TypeError('expected CountryCode for property "'+a+'", found: '+JSON.stringify(b));}}
function Ka(a,b){switch(b){case "ROOT":return"ROOT";case "USER":return"USER";case "REVIEWER":return"REVIEWER";case "ETCHER":return"ETCHER";case "SUPPORT":return"SUPPORT";case "THIRD_PARTY":return"THIRD_PARTY";case "FUSION":return"FUSION";case "MARKETPLACE_ADMIN":return"MARKETPLACE_ADMIN";default:throw new TypeError('expected UserRole for property "'+a+'", found: '+JSON.stringify(b));}}function La(a){this.version=a.version;this.sizes=a.sizes||new Map;this.status=a.status}La.prototype.getVersion=function(){return this.version};
function Ma(a){var b=ua("version",a.version),c=a.sizes,d=va.bind(null,Na);if(!(c instanceof Map))throw new TypeError('expected Map for property "sizes", found: '+JSON.stringify(c));for(var f={},g=p(c.keys()),h=g.next();!h.done;h=g.next()){h=h.value;if("string"!==typeof h)throw new TypeError('expected string key in property "sizes", found: '+JSON.stringify(h));f[h]=d("sizes",c.get(h))}a=a.status;a=N.optional("status",a?Ha(a):null);return{version:b,sizes:f,status:a}}
function Oa(a){return new La({version:C("version",a),sizes:na(Pa,"sizes",a),status:M(Ia,"status",a)})}function Qa(a){this.size=a.size;this.width=a.width;this.height=a.height;this.url=a.url}Qa.prototype.Z=function(){return this.width};Qa.prototype.O=function(){return this.height};Qa.prototype.ha=function(){return this.url};function Na(a){return{size:ua("size",a.size),width:ua("width",a.width),height:ua("height",a.height),url:N.required("url",a.url)}}
function Pa(a){return new Qa({size:C("size",a),width:C("width",a),height:C("height",a),url:E("url",a)})}function Ra(a){this.id=a.id;this.username=a.username;this.$d=a.$d;this.displayName=a.displayName;this.Pd=a.Pd;this.zd=a.zd;this.za=a.za;this.vb=a.vb;this.fe=a.fe||[];this.locale=a.locale;this.Ee=a.Ee}e=Ra.prototype;e.g=function(){return this.id};e.H=function(){return this.username};e.Md=function(){return this.$d};e.Aa=function(){return this.displayName};e.Kd=function(){return this.Pd};e.Jd=function(){return this.zd};
e.Fc=function(){return this.za};e.yg=function(){return this.vb};e.Nd=function(){return this.fe};e.Wb=function(){return this.locale};function Sa(a){var b=E("id",a),c=F("username",a),d=F("personalBrand",a),f=F("displayName",a),g=F("homepage",a),h=F("city",a),l=M(Ja,"countryCode",a),k=I(Oa,"avatar",a),q;q=A.Ca("roles",a);q=null!=q?q.map(Ka.bind(null,"roles")):q;return new Ra({id:b,username:c,$d:d,displayName:f,Pd:g,zd:h,za:l,vb:k,fe:q,locale:E("locale",a),Ee:G("deactivated",a)})}
e.Se=function(){var a=this.vb&&this.vb.sizes.get("50");return a&&a.url||null};function Ta(a){a=void 0===a?{}:a;this.id=a.id||"";this.displayName=a.displayName||null;this.brandname=a.Gj||null;this.personal=a.Gb||!1;this.contributor=a.Hj||!1;this.layoutContributor=a.Lj||!1;this.thirdParty=a.Pj||!1;this.brandColor=a.Fj||null}Ta.prototype.g=function(){return this.id};Ta.prototype.Aa=function(){return this.displayName};function Ua(a){return a?x(Ta,a):null}
function Va(a){a=void 0===a?{}:a;this.id=a.id||"UNKNOWN_USER_ID";this.username=a.username||"";this.personalBrand=a.$d||"";this.displayName=a.displayName||"";this.homepage=a.Pd||null;this.city=a.zd||null;this.countryCode=a.za||null;this.avatar=a.vb||null;this.roles=a.fe||[];this.deactivated=a.Ee||!1;this.locale=a.locale||"en"}e=Va.prototype;e.g=function(){return this.id};e.H=function(){return this.username};e.Md=function(){return this.personalBrand};e.Aa=function(){return this.displayName};e.Kd=function(){return this.homepage};
e.Jd=function(){return this.city};e.Fc=function(){return this.countryCode};e.Ne=function(){return this.avatar};e.Nd=function(){return this.roles};function Wa(a){if(!a)return null;a=x(Va,a);a.avatar&&(a.avatar=Oa(a.avatar));return a}function Xa(a){return Wa(a)}e.md=function(){return Sa(Object.assign({},this,{avatar:this.avatar&&Ma(this.avatar)}))};e.Id=function(a){var b=this.Ne();return b&&(a=b.sizes.get(a))?a.ha():null};e.Se=function(){return this.Id("50")};e.na=function(){return"UAAAAAAAAAA"===this.id};
function Ya(){}function ab(){this.id="";this.creationDate=0;this.temporary=this.deactivated=!1;this.email=this.displayName="";this.emailVerified=!1;this.emailStatus=null;this.username="";this.userNotificationSettings=this.countryCode=this.city=this.homepage=null;this.avatars=[];this.apiDetails=this.google=this.facebook=this.credentials=this.avatar=null;this.roles=[];this.personalBrand="";this.brands={};this.uiInfo=null;this.features=[];this.locale="";this.profession=null}e=ab.prototype;e.g=function(){return this.id};
e.Aa=function(){return this.displayName};e.H=function(){return this.username};e.Kd=function(){return this.homepage};e.Jd=function(){return this.city};e.Fc=function(){return this.countryCode};e.Ne=function(){return this.avatar};e.Nd=function(){return this.roles};e.Md=function(){return this.personalBrand};e.Wb=function(){return this.locale};e.setLocale=function(a){this.locale=a};e.Id=function(a){var b=this.Ne();return b&&(a=b.sizes.get(a))?a.ha():null};e.na=function(){return"UAAAAAAAAAA"===this.id};
e.md=function(){return Wa({id:this.id,username:this.username,personalBrand:this.personalBrand,displayName:this.displayName,homepage:this.homepage,city:this.city,countryCode:this.countryCode,avatar:this.avatar&&Ma(this.avatar),roles:this.roles,deactivated:this.deactivated,locale:this.locale})};var bb=Oa({version:0,sizes:{50:{size:50,width:50,height:50,url:"https://static.canva.com/static/images/default_avatar_50.png"},200:{size:200,width:200,height:200,url:"https://static.canva.com/static/images/default_avatar_200.png"}}});
function cb(){this.includeAvatars=this.role=this.continuation=this.limit=this.skip=this.brand=this.query=this.emails=this.ids=null}function db(a){var b=new cb;b.ids=a;return b}cb.prototype.se=function(a){this.brand=a;return this};cb.prototype.ue=function(a){this.limit=a;return this};cb.prototype.te=function(a){this.continuation=a;return this};function eb(){this.users=[];this.emails=[]}eb.prototype.Xb=function(){return this.users};
function fb(a){if(!a)return null;a=x(eb,a);a.users=a.users.map(Wa);return a}function gb(){this.user="";this.profession=this.generateApiKeyWithType=this.avatar=this.locale=this.countryCode=this.city=this.homepage=this.currentPassword=this.roles=this.displayName=this.password=this.username=this.emailVerified=this.email=null}function hb(a){var b=new gb;b.user=a;return b}e=gb.prototype;e.g=function(){return this.user};function ib(a,b){a.username=b;return a}e.H=function(){return this.username};
function jb(a,b){a.displayName=b;return a}e.Aa=function(){return this.displayName};function kb(a,b){a.homepage=b;return a}e.Kd=function(){return this.homepage};function lb(a,b){a.city=b;return a}e.Jd=function(){return this.city};function mb(a,b){a.countryCode=b;return a}e.Fc=function(){return this.countryCode};e.Wb=function(){return this.locale};function nb(){this.user=void 0;this.verificationEmailSent=null}nb.prototype.Ia=function(){return this.user};
function ob(a){if(!a)return null;a=x(nb,a);var b;b=a.user;var c;b?(c=x(ab,b),c.avatar&&(c.avatar=Oa(c.avatar)),b.userNotificationSettings&&(c.userNotificationSettings=x(Ya,b.userNotificationSettings)),b=c):b=null;a.user=b;return a}function pb(){this.brandname=this.username=this.email=this.assignee=null}function qb(a){var b=new pb;b.assignee=null;b.email=null;b.username=a;b.brandname=null;return b}function rb(a,b){var c=new pb;c.assignee=b;c.email=null;c.username=a;c.brandname=null;return c}
function sb(){this.brandname=this.username=this.email=null}sb.prototype.H=function(){return this.username};function tb(a){return a?x(sb,a):null}function ub(a){this.version=a?a.version:0;this.formPostUrl=a?a.Ij:"";this.formFields=a?a.Le:{}}ub.prototype.getVersion=function(){return this.version};function vb(a){return a?x(ub,a):null}function wb(){}function xb(a){return Object.freeze(x(wb,a))}function yb(){}yb.prototype.ma=function(){return this.continuation};yb.prototype.getCount=function(){return this.count};
function zb(a){return Object.freeze(x(yb,a))}function Ab(a){a=void 0===a?{}:a;this.user=a.user;this.email=a.email;this.role=a.rf}Ab.prototype.Ia=function(){return this.user};function Bb(a){a=x(Ab,a);a.user=Wa(a.user);return Object.freeze(a)}function Cb(){}e=Cb.prototype;e.se=function(a){this.brand=a;return this};e.ba=function(){return this.brand};e.te=function(a){this.continuation=a;return this};e.ma=function(){return this.continuation};e.ue=function(a){this.limit=a;return this};e.Db=function(){return this.limit};
function Db(a){a.includeAvatars=!0;return a}e.Xb=function(){return this.users};function Eb(a){a=void 0===a?{}:a;this.members=a.Mj}Eb.prototype.Ag=function(){return this.members};Eb.prototype.ma=function(){return this.continuation};Eb.prototype.getCount=function(){return this.count};function Fb(a){a=x(Eb,a);a.members&&(a.members=a.members.map(Bb));return Object.freeze(a)}function Gb(){}Gb.prototype.Ag=function(){return this.members};Gb.prototype.ba=function(){return this.brand};
function Hb(a){a=x(Gb,a);a.members&&(a.members=a.members.map(Bb));return Object.freeze(a)}function Ib(){}function Jb(a){return Object.freeze(x(Ib,a))};function Kb(a){this.zc=a.zc;this.Ac=a.Ac;this.user=a.user;this.W=a.W;this.Gb=a.Gb;this.Mb=a.Mb;this.ab=a.ab;this.za=a.za;this.oc=a.oc}function Lb(a){return new Kb({zc:E("experience",a),Ac:oa(pa,ra,"experiments",a)||new Map,user:F("user",a)||null,W:F("brand",a)||null,Gb:H("personal",a)||null,Mb:D("cohort",a)||null,ab:F("tier",a)||null,za:F("countryCode",a)||null,oc:F("userLocale",a)||null})};function Mb(a){this.config=a;this.dg=null;this.Zd=[];this.ready=!1}function Nb(a,b){var c=Object.assign({},b);a.dg&&(c.design=a.dg);c.experience=a.config.zc;a.config.Ac.forEach(function(a,b){c["Experiment:"+b]=a});a.config.W&&(c.brand=a.config.W);null!=a.config.Gb&&(c.personal=a.config.Gb);null!=a.config.Mb&&(c.cohort=a.config.Mb);a.config.ab&&(c.tier=a.config.ab);null!=a.config.za&&(c.country_code=a.config.za);null!=a.config.oc&&(c.locale=a.config.oc);Ob(c);return c}
function Ob(a){try{var b=window.crypto||window.msCrypto,c=new Uint8Array(16);b.getRandomValues(c);a.insert_id=btoa(String.fromCharCode.apply(null,c))}catch(d){}}
function Pb(a,b){var c=window.lastUserTraits||Qb(new Rb),d=Sb(new Rb,"__user",a);a=a!==c.get("__user");if(b&&Tb(b)){for(var f=p(b),g=f.next();!g.done;g=f.next()){var h=p(g.value),g=h.next().value,h=h.next().value;a=a||h!==c.get(g)}c=p(b.keys());for(f=c.next();!f.done;f=c.next())f=f.value,Sb(d,f,b.get(f))}a&&(window.lastUserTraits=Qb(d));return a}
function Ub(a,b){var c=window.lastUserTraits||Qb(new Rb);a=Sb(new Rb,"__user",a);if(c&&Tb(c))for(var d=p(c.keys()),f=d.next();!f.done;f=d.next())f=f.value,"__user"!==f&&Sb(a,f,c.get(f));if(b&&Tb(b))for(c=p(b.keys()),f=c.next();!f.done;f=c.next())d=f.value,Sb(a,d,b.get(d));window.lastUserTraits=Qb(a)}function Tb(a){O(a instanceof Map,"Could not convert traits to an object; traits value not considered a Map instance");return!0}
function Vb(a,b,c){var d={};d.type=b;d.section="homepage";d.subsection=null;d.location=c;a.track("button_click",d)}Mb.prototype.zoom=function(a,b,c,d,f){this.track("zoom",{type:a,section:b,subsection:c,location:d,value:f})};function Wb(a,b){a.track(b.name,b.nf)}Mb.prototype.Fc=function(){return this.config.za};function Xb(a){this.name=a;this.nf={}}function R(a,b,c){if(a.nf[b])throw Error("duplicated property");a.nf[b]=c}function Rb(){this.items=[]}
function Sb(a,b,c){a.items.push({key:b,value:c});return a}function Qb(a){return new Map(a.items.map(function(a){return[a.key,a.value]}))};function Yb(a){Kb.call(this,a)}t(Yb,Kb);function Zb(a){Mb.call(this,a);this.Ea=null}t(Zb,Mb);e=Zb.prototype;e.track=function(a,b){window.console.log("analytics:track",this.Ea,a,Nb(this,b));return P.resolve()};e.identify=function(a,b,c){this.Ea=a;Pb(a,b)&&(Ub(a,b),window.console.log("analytics:identify",a,b,c));return P.resolve()};e.alias=function(a){window.console.log("analytics:alias",this.Ea,a);this.Ea=a};e.set=function(a){window.console.log("analytics:set",this.Ea,a);return P.resolve()};
e.union=function(a){window.console.log("analytics:union",this.Ea,a)};function $b(a){Kb.call(this,a);this.Bf=a.Bf}t($b,Kb);var bc=new ac;function ac(){}e=ac.prototype;e.setInterval=function(a,b){return window.setInterval(a,b)};e.clearInterval=function(a){window.clearInterval(a)};e.setTimeout=function(a,b){return window.setTimeout(a,b)};e.clearTimeout=function(a){window.clearTimeout(a)};e.requestAnimationFrame=function(a){return window.requestAnimationFrame(a)};e.cancelAnimationFrame=function(a){window.cancelAnimationFrame(a)};function cc(a){window.requestAnimationFrame(function(){window.requestAnimationFrame(a)})};function dc(a,b){Mb.call(this,a);this.D=b;this.readyState="PENDING";this.cj=3E4;this.Yb=this.Rd=null}t(dc,Mb);
function ec(a){var b=fc(),c=new dc(a,bc);gc(c).then(function(){for(c.ready=!0;c.Zd&&0<c.Zd.length;)c.Zd.shift()();c.Zd=null}).catch(function(){});window.segmentAnalyticsLoaded||(window.segmentAnalyticsLoaded=!0,gc(c).then(function(){var b={path:location.pathname,url:location.href};fc().page(b,{integrations:{Leanplum:!1}});a.user||(b=window.Appcues||null)&&b.anonymous();b=(new UAParser).getResult();Qb(Sb(Sb(new Rb,"Most recent browser",b.browser.name+" "+b.browser.version),"timezone",(new Date).getTimezoneOffset()/
-60))}).catch(function(){}),b.load(a.Bf));return c}function fc(){Q("undefined"!==typeof window.analytics,"SegmentAnalytics: window['analytics'] not available");return window.analytics}e=dc.prototype;e.track=function(a,b){var c=this;return gc(this).then(function(d){return new P(function(f){d.track(a,Nb(c,b),{integrations:{Leanplum:!1}},f)})}).catch(function(){})};
e.identify=function(a,b,c){var d=this;return gc(this).then(function(f){if(!Pb(a,b))return d.Rd||P.resolve();d.Rd=new P(function(g){Ub(a,b);f.identify(a,hc(b),c,function(){d.Rd=null;g()})});return d.Rd}).catch(function(){})};e.alias=function(a){gc(this).then(function(b){return b.alias(a)}).catch(function(){})};e.set=function(a){return gc(this).then(function(b){return new P(function(c){return b.identify(hc(a),c)})}).catch(function(){})};e.union=function(){};
function hc(a){var b={};if(a&&Tb(a)){a=p(a);for(var c=a.next();!c.done;c=a.next()){var d=p(c.value),c=d.next().value,d=d.next().value;b[c]=d}}return b}
function gc(a){var b=fc();if(null!==a.Yb)return a.Yb;if("SUCCESS"===a.readyState)return P.resolve(b);if("FAILURE"===a.readyState)return P.reject(Error("Segment initialization failed"));a.Yb=new P(function(c,d){var f=a.D.setTimeout(function(){a.readyState="FAILURE";a.Yb=null;d(Error("Segment initialization failed"))},a.cj);b.ready(function(){"FAILURE"!==a.readyState&&(a.D.clearTimeout(f),a.readyState="SUCCESS",a.Yb=null,c(fc()))})});return a.Yb};function ic(a){var b;fc();if(a instanceof Yb)b=new Zb(a);else if(a instanceof $b)b=ec(a);else throw Error("Invalid analytics config");a.user&&b.identify(a.user,null);return b}function jc(){var a=B(window.analyticsConfig),b=E("impl",a);switch(b){case "console":return ic(new Yb(Lb(a)));case "segment":return b=Lb(a),a=new $b({zc:b.zc,Ac:b.Ac,user:b.user,W:b.W,Gb:b.Gb,Mb:b.Mb,ab:b.ab,Bf:E("segmentWriteKey",a),za:b.za,oc:b.oc}),ic(a);default:throw Error('No such analytics type: "'+b+'"');}};function kc(){this.xhr=null}kc.prototype.cancel=function(){this.xhr&&(this.xhr.abort(),this.xhr=null)};kc.prototype.finish=function(){this.xhr=null};function lc(a){this.If=a&&a.analyticsContext||null;this.we=a&&a.authToken||null;this.xe=a&&a.authzToken||null;this.Mf=a&&a.brandRestriction||null;this.Nf=a&&a.buildName||null;this.Of=a&&a.buildSha||null;this.Ob=a&&a.csrfTokens||{};this.sf=a&&a.serverRoot||null;this.hj=!!this.sf;this.ij=this.sf?this.sf+"/_ajax":"/_ajax"}
function mc(a){var b=a.indexOf("/",1);return-1==b?a:a.substring(0,b)}lc.prototype.get=function(a,b){var c=new kc;this.send("GET",a,null,!0,null,c,b);return c};function S(a,b){var c;return(new P(function(d,f){c=a.get(b,function(a,b){200<=a&&300>a?d([b,a]):f([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}lc.prototype.post=function(a,b,c){var d=new kc;nc(this,"POST",a,b,!0,0,d,c);return d};
function T(a,b,c){var d;return(new P(function(f,g){d=a.post(b,c,function(a,b){200<=a&&300>a?f([b,a]):g([b,a])})})).cancellable().catch(P.CancellationError,function(a){d.cancel();throw a;})}function oc(a,b,c){var d=new kc;nc(a,"DELETE",b,null,!0,0,d,c);return d}function pc(a,b){var c;return(new P(function(d,f){c=oc(a,b,function(a,b){200<=a&&300>a?d([b,a]):f([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}
function nc(a,b,c,d,f,g,h,l){var k=mc(c);if(k in a.Ob){var q=a.Ob[k];a.send(b,c,d,f,q,h,function(v,y){418==v&&1>g?(a.Ob[k]==q&&delete a.Ob[k],nc(a,b,c,d,f,g+1,h,l)):(l&&l(v,y),h.finish())})}else a.send("GET","/csrf"+k,null,f,null,h,function(q,y){200==q?(k in a.Ob||(a.Ob[k]=String(y)),nc(a,b,c,d,f,g,h,l)):(l(q,null),h.finish())})}
lc.prototype.send=function(a,b,c,d,f,g,h){function l(){4==q.readyState&&k()}function k(){var a,b,c;try{a=q.status;var d,f;try{d=q.getResponseHeader("X-Canva-Auth")}catch(k){}try{f=q.getResponseHeader("X-Canva-Authz")}catch(k){}d&&(v.we="!"!=d?d:null);f&&(v.xe="!"!=f?f:null);b=q.responseText}catch(k){if(k.message&&k.message.match(/c00c023f/))a=0,b="";else throw g.finish(),k;}b=b&&b.trim?b.trim():"";d=b.substring(0,20);if(0<d.length){if("'\"])}while(1);\x3c/x\x3e//"!=d){h(500,null);g.finish();return}b=
b.substring(20);try{c=JSON.parse(b)}catch(k){h(500,null);g.finish();return}}else c=null;h(a,c);g.finish()}b=this.ij+b;var q=g.xhr=new XMLHttpRequest,v=this;q.open(a,b,d);this.hj&&(q.withCredentials=!0);"GET"!=a&&f&&q.setRequestHeader("X-Csrf-Token",f);this.If&&q.setRequestHeader("X-Canva-Analytics",this.If);this.we&&q.setRequestHeader("X-Canva-Auth",this.we);this.xe&&q.setRequestHeader("X-Canva-Authz",this.xe);this.Mf&&q.setRequestHeader("X-Canva-Brand",this.Mf);this.Nf&&q.setRequestHeader("X-Canva-Build-Name",
this.Nf);this.Of&&q.setRequestHeader("X-Canva-Build-Sha",this.Of);null===c||void 0===c?a=null:(q.setRequestHeader("Content-Type","application/json;charset\x3dUTF-8"),a=JSON.stringify(c));d?(q.onreadystatechange=l,q.send(a)):(q.send(a),k())};function U(a){this.Ei=a.fallback;this.Ug=a.localePrecedence;this.$e={};this.i=a.messages;this.bj=this.Ug[0];this.ej=!!a.returnKeys}U.prototype.format=function(a,b){if(this.ej)return[].join.call(arguments,":");var c=qc(this,a);return c.format.call(c,[].slice.call(arguments,1))};
U.prototype.Ji=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];c=this.format.apply(this,[].concat([a],r(c.map(function(a){return"number"===typeof a?a:soydata.SanitizedHtml.from(a).getContent()}))));return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)};
function qc(a,b){if(a.$e.hasOwnProperty(b))return a.$e[b];var c=a.bj,d;a.Ug.some(function(c){d=a.i[c]&&a.i[c][b];return void 0!==d});d||(c=a.Ei,d=a.i[c]&&a.i[c][b]);if(!d)throw Error("Unknown message: "+b);c=new IntlMessageFormat(d,c,rc);return a.$e[b]=c}var rc={number:{currency:{style:"currency",currency:"USD"},integer:{maximumFractionDigits:0},fixed2:{minimumFractionDigits:2,maximumFractionDigits:2}}};function sc(){this.config=window.cmsg;this.cf=this.nb=this.Ce=this.l=this.fa=this.pa=this.Y=this.He=null}function tc(a){a.He||(a.He=new uc(a.config));return a.He}function vc(a){a.Y||(a.Y=new wc(a.config));return a.Y}function xc(a){a.pa||(a.pa=new yc(a.config));return a.pa}function zc(a){a.fa||(a.fa=new Ac(a.config));return a.fa}function Bc(a){a.l||(a.l=new Cc(a.config));return a.l}function Dc(a){a.Ce||(a.Ce=new Ec(a.config));return a.Ce}function Fc(a){a.cf||(a.cf=new Gc(a.config));return a.cf}
function Ac(a){U.apply(this,arguments)}t(Ac,U);function uc(a){U.apply(this,arguments)}t(uc,U);function wc(a){U.apply(this,arguments)}t(wc,U);e=wc.prototype;e.kc=function(){return this.format("designCardStateUnderReview")};e.ic=function(){return this.format("designCardStateForSale")};e.hc=function(){return this.format("designCardStateBrandPublic")};e.jc=function(){return this.format("designCardStatePublic")};e.lc=function(){return this.format("designCardStateViewOnly")};
function yc(a){U.apply(this,arguments)}t(yc,U);yc.prototype.Sc=function(){return this.format("likeButtonLike")};yc.prototype.ua=function(){return this.format("likeButtonLiked")};function Cc(a){U.apply(this,arguments)}t(Cc,U);Cc.prototype.nj=function(){return this.format("userProfileShareText")};Cc.prototype.wi=function(){return this.format("userProfileShareDismissTitle")};function Ec(a){U.apply(this,arguments)}t(Ec,U);Ec.prototype.Pb=function(){return this.format("commentListDeleteLabel")};
Ec.prototype.Mi=function(){return this.format("commentListInputPlaceholder")};function Hc(a){U.apply(this,arguments)}t(Hc,U);function Gc(a){U.apply(this,arguments)}t(Gc,U);Gc.prototype.ea=function(a,b){return this.format("newLightboxCurrentFrame",a,b)};function Ic(a,b,c,d,f){return a.format("newLightboxEmbedCodeBy",c,b,d,f)}function Jc(a,b,c){return a.format("newLightboxBylineHtml",b,c)};function Kc(a){this.media=a.media;this.version=a.version;this.title=a.title;this.W=a.W;this.mb=a.mb;this.Oi=a.Oi;this.ri=a.ri;this.rj=a.rj;this.de=a.de;this.Qi=a.Qi;this.jj=a.jj;this.Pi=a.Pi;this.document=a.document;this.zi=a.zi;this.user=a.user}Kc.prototype.getVersion=function(){return this.version};Kc.prototype.ba=function(){return this.W};Kc.prototype.getDocument=function(){return this.document};Kc.prototype.Ia=function(){return this.user};
function Lc(a){this.id=a.id;this.qh=a.qh;this.W=a.W;this.status=a.status;this.uh=a.uh;this.ci=a.ci;this.hh=a.hh;this.nh=a.nh;this.mh=a.mh;this.Kf=a.Kf;this.mg=a.mg}Lc.prototype.g=function(){return this.id};Lc.prototype.ba=function(){return this.W};
function Mc(a,b){switch(b){case "PENDING":return"PENDING";case "TRIALING":return"TRIALING";case "ACTIVE":return"ACTIVE";case "PAST_DUE":return"PAST_DUE";case "FAILED":return"FAILED";default:throw new TypeError('expected SubscriptionStatus for property "'+a+'", found: '+JSON.stringify(b));}}function Nc(a){this.id=a.id;this.displayName=a.displayName;this.Sg=a.Sg;this.gi=a.gi;this.ab=a.ab;this.ng=a.ng;this.di=a.di;this.Lf=a.Lf;this.de=a.de}Nc.prototype.g=function(){return this.id};Nc.prototype.Aa=function(){return this.displayName};
function Oc(a){return new Nc({id:E("id",a),displayName:E("displayName",a),Sg:G("legacy",a),gi:G("userLocked",a),ab:L(Pc,"tier",a),ng:F("featureBundle",a),di:C("trialPeriodDays",a),Lf:L(Qc,"billingInterval",a),de:C("price",a)})}function Qc(a,b){switch(b){case "MONTHLY":return"MONTHLY";case "YEARLY":return"YEARLY";default:throw new TypeError('expected BillingInterval for property "'+a+'", found: '+JSON.stringify(b));}}
function Pc(a,b){switch(b){case "FREE":return"FREE";case "PAID":return"PAID";default:throw new TypeError('expected Tier for property "'+a+'", found: '+JSON.stringify(b));}};function Rc(){}
function Sc(){var a=x(Rc,window.clientInfo),b;b=x(Tc,a.brandInfo);b.brand=Ua(b.brand);if(b.subscription){var c;c=b.subscription;c=new Lc({id:E("id",c),qh:I(Oc,"plan",c),W:E("brand",c),status:L(Mc,"status",c),uh:C("quantity",c),ci:D("trialEnd",c),hh:D("paidUntil",c),nh:D("periodStart",c),mh:D("periodEnd",c),Kf:G("billed",c),mg:G("eligibleForMediaDiscounts",c)});b.subscription=c}b=Object.freeze(b);a.brandInfo=b;b=x(Uc,a.user);b.avatar&&(b.avatar=Oa(b.avatar));b=Object.freeze(b);a.user=b;return Object.freeze(a)}
function Tc(){}Tc.prototype.ba=function(){return this.brand};Tc.prototype.getSubscription=function(){return this.subscription||null};function Uc(){}e=Uc.prototype;e.g=function(){return this.id};e.yg=function(){return this.avatar};e.H=function(){return this.username};e.Aa=function(){return this.displayName};e.Nd=function(){return this.roles};e.Md=function(){return this.personalBrand};e.Wb=function(){return this.locale};
e.md=function(){return Wa({id:this.g(),username:this.H(),personalBrand:this.Md(),displayName:this.Aa(),avatar:Ma(this.yg()),roles:this.Nd(),countryCode:this.country,locale:this.Wb()})};function Vc(a){this.object=a.object;this.id=a.id;this.Qa=a.Qa;this.sa=a.sa;this.content=a.content;this.K=a.K;this.bb=a.bb;this.Ta=a.Ta;this.fc=a.fc;this.Td=a.Td;this.ec=a.ec}Vc.prototype.g=function(){return this.id};Vc.prototype.getContent=function(){return this.content};
function Wc(a){return new Vc({object:E("object",a),id:E("id",a),Qa:E("authorId",a),sa:I(Sa,"author",a),content:F("content",a),K:C("created",a),bb:C("updated",a),Ta:F("deleter",a),fc:G("resolved",a),Td:J(Xc,"latestReply",a),ec:C("replyCount",a)})}function Yc(a){this.object=a.object;this.Xh=a.Xh;this.id=a.id;this.Qa=a.Qa;this.sa=a.sa;this.content=a.content;this.K=a.K;this.bb=a.bb;this.Ta=a.Ta}Yc.prototype.g=function(){return this.id};Yc.prototype.getContent=function(){return this.content};
function Xc(a){return new Yc({object:E("object",a),Xh:E("threadId",a),id:E("id",a),Qa:E("authorId",a),sa:I(Sa,"author",a),content:F("content",a),K:C("created",a),bb:C("updated",a),Ta:F("deleter",a)})}function Zc(a){this.object=a.object;this.accessToken=a.accessToken;this.content=a.content}Zc.prototype.getContent=function(){return this.content};function $c(a){return{object:N.required("object",a.object),accessToken:N.optional("accessToken",a.accessToken),content:N.required("content",a.content)}}
function ad(a){this.id=a.id;this.K=a.K}ad.prototype.g=function(){return this.id};function bd(a){return new ad({id:E("id",a),K:C("created",a)})}function cd(a){this.object=a.object;this.accessToken=a.accessToken;this.limit=a.limit;this.C=a.C}cd.prototype.Db=function(){return this.limit};cd.prototype.ma=function(){return this.C};function dd(a){this.J=a.J||[];this.C=a.C}dd.prototype.ma=function(){return this.C};function ed(a){return new dd({J:K(Wc,"comments",a),C:F("continuation",a)})}
function fd(a){this.object=a.object;this.id=a.id}fd.prototype.g=function(){return this.id};function gd(){}function hd(){return new gd};function id(a){this.v=a;this.path="/comments"}function jd(a,b){return S(a.v,a.path+"/"+encodeURIComponent(b.object)+"?limit\x3d"+encodeURIComponent(String(b.limit))+(b.C?"\x26continuation\x3d"+encodeURIComponent(b.C):"")+(b.accessToken?"\x26accessToken\x3d"+encodeURIComponent(b.accessToken):"")).get(0).then(B).then(ed)}id.prototype.createComment=function(a){return T(this.v,this.path+"/"+encodeURIComponent(a.object),$c(a)).get(0).then(B).then(bd)};
function kd(a,b){return pc(a.v,a.path+"/"+encodeURIComponent(b.object)+"/"+encodeURIComponent(b.id)).get(0).then(B).then(hd)};function md(a,b){switch(b){case "USER":return"USER";case "BRAND":return"BRAND";case "EXTENSION":return"EXTENSION";case "DEFAULT":return"DEFAULT";default:throw new TypeError('expected AccessControlListActorType for property "'+a+'", found: '+JSON.stringify(b));}}
function nd(a,b){switch(b){case "NONE":return"NONE";case "OWNER":return"OWNER";case "VIEWER":return"VIEWER";case "REMIXER":return"REMIXER";case "EDITOR":return"EDITOR";default:throw new TypeError('expected AccessControlListRole for property "'+a+'", found: '+JSON.stringify(b));}}function od(a,b){switch(b){case "MANUAL":return"MANUAL";case "FOLDER":return"FOLDER";default:throw new TypeError('expected AccessControlListOriginType for property "'+a+'", found: '+JSON.stringify(b));}}
function pd(a,b){switch(b){case "CENTIMETERS":return"CENTIMETERS";case "INCHES":return"INCHES";case "MILLIMETERS":return"MILLIMETERS";case "PIXELS":return"PIXELS";default:throw new TypeError('expected Units for property "'+a+'", found: '+JSON.stringify(b));}}
function qd(a,b){switch(b){case "EDITING_AFFECTED":return"EDITING_AFFECTED";case "RENDERING_AFFECTED":return"RENDERING_AFFECTED";case "UNREPRESENTABLE":return"UNREPRESENTABLE";default:throw new TypeError('expected ConversionLoss for property "'+a+'", found: '+JSON.stringify(b));}}function rd(a){this.rules=a.rules||[];this.version=a.version;this.G=a.G}rd.prototype.getVersion=function(){return this.version};
function sd(a){return new rd({rules:K(td,"rules",a),version:C("version",a),G:I(ud,"owner",a)})}function vd(a){this.type=a.type;this.sh=a.sh;this.rf=a.rf;this.origin=a.origin;this.timestamp=a.timestamp}function td(a){return new vd({type:L(md,"type",a),sh:J(ud,"principal",a),rf:L(nd,"role",a),origin:J(wd,"origin",a),timestamp:D("timestamp",a)})}function xd(a){this.W=a.W;this.user=a.user}xd.prototype.ba=function(){return this.W};xd.prototype.Ia=function(){return this.user};
function ud(a){return new xd({W:E("brand",a),user:F("user",a)})}function yd(a){this.type=a.type;this.id=a.id}yd.prototype.g=function(){return this.id};function wd(a){return new yd({type:L(od,"type",a),id:F("id",a)})}function zd(a){this.default=a.default;this.view=a.view;this.xh=a.xh;this.kg=a.kg}function Ad(a){return new zd({default:F("default",a),view:F("view",a),xh:F("remix",a),kg:F("edit",a)})}function Bd(a){this.type=a.type}
function Cd(a){switch(a.type){case "REFERENCE":return O("REFERENCE"===a.type),new Dd({id:E("id",a),version:C("version",a)});case "INLINE":return O("INLINE"===a.type),new Ed({width:C("width",a),height:C("height",a),units:L(pd,"units",a)});default:throw Error("unknown case: "+a.type);}}function Dd(a){this.type="REFERENCE";this.id=a.id;this.version=a.version}t(Dd,Bd);Dd.prototype.g=function(){return this.id};Dd.prototype.getVersion=function(){return this.version};
function Ed(a){this.type="INLINE";this.width=a.width;this.height=a.height;this.units=a.units}t(Ed,Bd);Ed.prototype.Z=function(){return this.width};Ed.prototype.O=function(){return this.height};function Fd(a){this.id=a.id;this.version=a.version}Fd.prototype.g=function(){return this.id};Fd.prototype.getVersion=function(){return this.version};function Gd(a){return new Fd({id:E("id",a),version:C("version",a)})}
function Hd(a){this.id=a.id;this.pb=a.pb;this.eb=a.eb;this.origin=a.origin;this.Cb=a.Cb;this.tags=a.tags||[];this.Kb=a.Kb;this.ja=a.ja;this.version=a.version;this.timestamp=a.timestamp}Hd.prototype.g=function(){return this.id};Hd.prototype.Oe=function(){return this.ja};Hd.prototype.getVersion=function(){return this.version};
function Id(a){return new Hd({id:E("id",a),pb:E("owningBrand",a),eb:C("creationDate",a),origin:J(Gd,"origin",a),Cb:I(Ad,"extensions",a),tags:A.Ca("tags",a),Kb:J(sd,"acl",a),ja:I(Jd,"draft",a),version:C("version",a),timestamp:D("timestamp",a)})}function Kd(a){this.content=a.content;this.version=a.version;this.timestamp=a.timestamp;this.qa=a.qa;this.qb=a.qb;this.kb=a.kb;this.qc=a.qc}Kd.prototype.getContent=function(){return this.content};Kd.prototype.getVersion=function(){return this.version};
Kd.prototype.getSession=function(){return this.qa};function Jd(a){return new Kd({content:I(Ld,"content",a),version:C("version",a),timestamp:C("timestamp",a),qa:D("session",a),qb:C("pageCount",a),kb:I(Md,"imageSets",a),qc:F("associatedMedia",a)})}function Nd(a){this.mb=a.mb;this.title=a.title;this.description=a.description;this.Qc=a.Qc||[];this.doctype=a.doctype}
function Ld(a){return new Nd({mb:F("layout",a),title:F("title",a),description:F("description",a),Qc:A.Ca("keywords",a),doctype:I(Cd,"doctype",a)})}function Od(a){this.R=a.R;this.ae=a.ae}Od.prototype.Ha=function(){return this.R};function Md(a){return new Od({R:I(Pd,"thumbnail",a),ae:J(Pd,"preview",a)})}function Qd(a){this.height=a.height;this.width=a.width;this.version=a.version;this.images=a.images||[]}Qd.prototype.O=function(){return this.height};Qd.prototype.Z=function(){return this.width};
Qd.prototype.getVersion=function(){return this.version};function Pd(a){return new Qd({height:C("height",a),width:C("width",a),version:C("version",a),images:K(Rd,"images",a)})}function Sd(a){this.bucket=a.bucket;this.key=a.key;this.page=a.page;this.url=a.url}Sd.prototype.getKey=function(){return this.key};Sd.prototype.ha=function(){return this.url};function Rd(a){return new Sd({bucket:E("bucket",a),key:E("key",a),page:C("page",a),url:F("url",a)})}
function Td(a){this.width=a.width;this.height=a.height;this.url=a.url}Td.prototype.Z=function(){return this.width};Td.prototype.O=function(){return this.height};Td.prototype.ha=function(){return this.url};function Ud(a){return new Td({width:D("width",a),height:D("height",a),url:E("url",a)})}function Vd(a){this.id=a.id;this.version=a.version;this.type=a.type;this.images=a.images||new Map}Vd.prototype.g=function(){return this.id};Vd.prototype.getVersion=function(){return this.version};
function Wd(a){return new Vd({id:E("id",a),version:C("version",a),type:E("type",a),images:na(Ud,"images",a)})}function V(a){this.type=a.type;this.id=a.id;this.version=a.version}V.prototype.g=function(){return this.id};V.prototype.getVersion=function(){return this.version};
function Xd(a){switch(a.type){case "RASTER":return O("RASTER"===a.type),new Yd({id:E("id",a),version:C("version",a),files:K(Zd,"files",a)});case "VECTOR":return O("VECTOR"===a.type),new $d({id:E("id",a),version:C("version",a),files:K(Zd,"files",a)});case "DESIGN":return O("DESIGN"===a.type),new ae({id:E("id",a),version:C("version",a),files:K(Zd,"files",a)});case "FONT":return O("FONT"===a.type),new be({id:E("id",a),version:C("version",a),files:K(ce,"files",a)});case "ELEMENT_GROUP":return O("ELEMENT_GROUP"===
a.type),new de({id:E("id",a),version:C("version",a),files:K(Zd,"files",a)});case "UNKNOWN":return O("UNKNOWN"===a.type),new ee({id:E("id",a),version:C("version",a),files:K(fe,"files",a)});default:throw Error("unknown case: "+a.type);}}function Yd(a){V.call(this,{type:"RASTER",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}t(Yd,V);function $d(a){V.call(this,{type:"VECTOR",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}t($d,V);
function ae(a){V.call(this,{type:"DESIGN",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}t(ae,V);function be(a){V.call(this,{type:"FONT",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}t(be,V);function de(a){V.call(this,{type:"ELEMENT_GROUP",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}t(de,V);function ee(a){V.call(this,{type:"UNKNOWN",id:a.id,version:a.version,files:a.files});this.files=a.files||[]}t(ee,V);
function ge(a){this.url=a.url;this.width=a.width;this.height=a.height;this.qd=a.qd;this.fd=a.fd}ge.prototype.ha=function(){return this.url};ge.prototype.Z=function(){return this.width};ge.prototype.O=function(){return this.height};function Zd(a){return new ge({url:E("url",a),width:C("width",a),height:C("height",a),qd:G("watermarked",a),fd:M(za,"quality",a)})}function he(a){this.url=a.url}he.prototype.ha=function(){return this.url};function ce(a){return new he({url:E("url",a)})}
function ie(a){this.url=a.url;this.width=a.width;this.height=a.height;this.qd=a.qd;this.fd=a.fd}ie.prototype.ha=function(){return this.url};ie.prototype.Z=function(){return this.width};ie.prototype.O=function(){return this.height};function fe(a){return new ie({url:E("url",a),width:D("width",a),height:D("height",a),qd:H("watermarked",a),fd:M(za,"quality",a)})}function je(a){this.id=a.id;this.ai=a.ai;this.Ah=a.Ah||[];this.C=a.C}je.prototype.g=function(){return this.id};je.prototype.ma=function(){return this.C};
function ke(a){return new je({id:E("id",a),ai:C("totalHits",a),Ah:K(le,"results",a),C:F("continuation",a)})}function me(a){this.Bh=a.Bh;this.vh=a.vh;this.id=a.id;this.title=a.title;this.description=a.description;this.pb=a.pb;this.eb=a.eb;this.bi=a.bi;this.R=a.R;this.wc=a.wc}me.prototype.g=function(){return this.id};me.prototype.Ha=function(){return this.R};
function le(a){return new me({Bh:E("searchId",a),vh:C("rank",a),id:E("id",a),title:E("title",a),description:F("description",a),pb:E("owningBrand",a),eb:C("creationDate",a),bi:G("trashed",a),R:I(Ud,"thumbnail",a),wc:E("designTypeDisplayName",a)})};function ne(a,b){switch(b){case "FACEBOOK":return"FACEBOOK";case "GOOGLE":return"GOOGLE";case "LINKEDIN":return"LINKEDIN";case "PINTEREST":return"PINTEREST";case "TWITTER":return"TWITTER";case "WEIBO":return"WEIBO";default:throw new TypeError('expected SocialPlatform for property "'+a+'", found: '+JSON.stringify(b));}}
function oe(a,b){switch(b){case "DEFAULT":return"DEFAULT";case "GROUP":return"GROUP";case "PAGE":return"PAGE";default:throw new TypeError('expected SocialTargetType for property "'+a+'", found: '+JSON.stringify(b));}}function pe(a,b){switch(b){case "PIXELS":return"PIXELS";case "INCHES":return"INCHES";case "CENTIMETERS":return"CENTIMETERS";case "MILLIMETERS":return"MILLIMETERS";default:throw new TypeError('expected DocumentTypeDimensionsUnits for property "'+a+'", found: '+JSON.stringify(b));}}
function qe(a,b){switch(b){case "IMAGE":return"IMAGE";case "PDF":return"PDF";default:throw new TypeError('expected DocumentTypeDefaultExportSettings for property "'+a+'", found: '+JSON.stringify(b));}}
function re(a){this.id=a.id;this.name=a.name;this.sb=a.sb;this.category=a.category;this.visible=a.visible;this.Eh=a.Eh;this.Xg=a.Xg;this.Zg=a.Zg||[];this.R=a.R;this.cg=a.cg||new Map;this.xc=a.xc;this.ag=a.ag;this.lh=a.lh;this.Fg=a.Fg;this.version=a.version;this.Vg=a.Vg||[];this.eh=a.eh||[];this.th=a.th||[]}re.prototype.g=function(){return this.id};re.prototype.getName=function(){return this.name};re.prototype.Ha=function(){return this.R};re.prototype.getVersion=function(){return this.version};
function se(a){return new re({id:F("id",a),name:F("name",a),sb:F("sentenceName",a),category:F("category",a),visible:H("visible",a),Eh:H("showAsNew",a),Xg:H("multiPage",a),Zg:K(te,"newPageElements",a),R:J(ue,"thumbnail",a),cg:na(ve,"descriptions",a),xc:J(we,"dimensions",a),ag:M(qe,"defaultExportSettings",a),lh:J(xe,"pdfExportSettings",a),Fg:J(ye,"imageExportSettings",a),version:D("version",a),Vg:K(ze,"localizedDescriptions",a),eh:K(Ae,"pageFormats",a),th:K(Be,"publishHints",a)})}
function Ce(a){this.type=a.type;this.xc=a.xc;this.sg=a.sg||[];this.Yg=a.Yg;this.Qf=a.Qf}function Ae(a){return new Ce({type:F("type",a),xc:I(we,"dimensions",a),sg:K(te,"fixedElements",a),Yg:F("nameTemplate",a),Qf:I(De,"cardinality",a)})}function Ee(a){this.lower=a.lower;this.upper=a.upper}function De(a){return new Ee({lower:D("lower",a),upper:D("upper",a)})}function Fe(a){this.type=a.type}
function Be(a){switch(a.type){case "SHARE_SPEC":return O("SHARE_SPEC"===a.type),new Ge({platform:M(ne,"platform",a),Vh:M(oe,"targetType",a)});case "DOWNLOAD_SPEC":return O("DOWNLOAD_SPEC"===a.type),new He({format:M(qe,"format",a),Bc:F("fileType",a),tc:F("compression",a),Fa:D("dpi",a),Oc:D("jpgQuality",a),Pc:D("jpgTargetFileSizeKb",a)});default:throw Error("unknown case: "+a.type);}}function Ge(a){this.type="SHARE_SPEC";this.platform=a.platform;this.Vh=a.Vh}t(Ge,Fe);
function He(a){this.type="DOWNLOAD_SPEC";this.format=a.format;this.Bc=a.Bc;this.tc=a.tc;this.Fa=a.Fa;this.Oc=a.Oc;this.Pc=a.Pc}t(He,Fe);function Ie(a){this.locale=a.locale;this.name=a.name;this.sb=a.sb;this.fh=a.fh||new Map}Ie.prototype.Wb=function(){return this.locale};Ie.prototype.getName=function(){return this.name};function ze(a){return new Ie({locale:E("locale",a),name:E("name",a),sb:E("sentenceName",a),fh:oa(pa,ra,"pageNameTemplates",a)})}
function Je(a){this.type=a.type;this.placeholder=a.placeholder;this.url=a.url;this.Eg=a.Eg;this.top=a.top;this.left=a.left;this.width=a.width;this.height=a.height;this.nd=a.nd}Je.prototype.ha=function(){return this.url};Je.prototype.Z=function(){return this.width};Je.prototype.O=function(){return this.height};
function te(a){return new Je({type:E("type",a),placeholder:F("placeholder",a),url:F("url",a),Eg:F("image",a),top:C("top",a),left:C("left",a),width:C("width",a),height:C("height",a),nd:D("transparency",a)})}function Ke(a){this.bucket=a.bucket;this.key=a.key;this.url=a.url;this.width=a.width;this.height=a.height}Ke.prototype.getKey=function(){return this.key};Ke.prototype.ha=function(){return this.url};Ke.prototype.Z=function(){return this.width};Ke.prototype.O=function(){return this.height};
function ue(a){return new Ke({bucket:F("bucket",a),key:F("key",a),url:F("url",a),width:D("width",a),height:D("height",a)})}function Le(a){this.locale=a.locale;this.name=a.name;this.sb=a.sb;this.wg=a.wg;this.R=a.R}Le.prototype.Wb=function(){return this.locale};Le.prototype.getName=function(){return this.name};Le.prototype.Ha=function(){return this.R};function ve(a){return new Le({locale:E("locale",a),name:F("name",a),sb:F("sentenceName",a),wg:F("gender",a),R:J(ue,"thumbnail",a)})}
function Me(a){this.height=a.height;this.width=a.width;this.units=a.units}Me.prototype.O=function(){return this.height};Me.prototype.Z=function(){return this.width};function we(a){return new Me({height:C("height",a),width:C("width",a),units:L(pe,"units",a)})}function Ne(a){switch(a){case "PIXELS":return"px";case "CENTIMETERS":return"cm";case "INCHES":return"in";case "MILLIMETERS":return"mm";default:throw Error("Unknown units: "+a);}}
Me.prototype.print=function(){var a=this.Z(),b=this.O(),c=Ne(this.units);return a+" "+c+"  "+b+" "+c};function Oe(a){this.Fa=a.Fa}function xe(a){return new Oe({Fa:D("dpi",a)})}function Pe(a){this.Bc=a.Bc;this.tc=a.tc;this.Fa=a.Fa;this.Oc=a.Oc;this.Pc=a.Pc}function ye(a){return new Pe({Bc:F("fileType",a),tc:F("compression",a),Fa:D("dpi",a),Oc:D("jpgQuality",a),Pc:D("jpgTargetFileSizeKb",a)})};function Qe(a){this.document=a.document;this.hg=a.hg;this.G=a.G;this.gd=a.gd;this.aa=a.aa;this.ya=a.ya;this.F=a.F}Qe.prototype.getDocument=function(){return this.document};function Re(a){return new Qe({document:I(Id,"document",a),hg:I(se,"documentType",a),G:I(Sa,"owner",a),gd:C("remixCount",a),aa:C("likerCount",a),ya:C("commentCount",a),F:G("likedByMe",a)})}function Se(a){this.id=a.id;this.Ie=a.Ie;this.w=a.w}Se.prototype.g=function(){return this.id};Se.prototype.getExtension=function(){return this.Ie};
function Te(a){this.document=a.document;this.Xc=a.Xc||[];this.cb=a.cb}Te.prototype.getDocument=function(){return this.document};function Ue(a){return new Te({document:I(Re,"document",a),Xc:K(Wd,"mediaMap",a),cb:L(nd,"accessRole",a)})}function Ve(a){this.Ub=a.Ub;this.type=a.type;this.ib=a.ib}function We(a){return{follower:N.optional("follower",a.Ub),type:N.required("type",a.type),followee:N.required("followee",a.ib)}}function Xe(){}function Ye(){return new Xe}
function Ze(a){this.Ub=a.Ub;this.type=a.type;this.ib=a.ib}function $e(){}function af(){return new $e}function bf(a){this.$b=a.$b;this.type=a.type;this.ua=a.ua;this.accessToken=a.accessToken}function cf(a){return{liker:N.optional("liker",a.$b),type:N.required("type",a.type),liked:N.required("liked",a.ua),accessToken:N.optional("accessToken",a.accessToken)}}function df(){}function ef(){return new df}function ff(a){this.$b=a.$b;this.type=a.type;this.ua=a.ua}function gf(){}
function hf(){return new gf};function jf(a,b){switch(b){case "MINIMIZE_HEIGHT":return"MINIMIZE_HEIGHT";case "MAXIMIZE_FONT_SIZE":return"MAXIMIZE_FONT_SIZE";default:throw new TypeError('expected ReflowMode for property "'+a+'", found: '+JSON.stringify(b));}}function kf(a,b){switch(b){case "rows":return"COLUMN";case "columns":return"ROW";case "item":return"ITEM";default:throw new TypeError('expected GridStructureType for property "'+a+'", found: '+JSON.stringify(b));}}
function lf(a,b){switch(b){case "NON_ZERO":return"NON_ZERO";case "EVEN_ODD":return"EVEN_ODD";default:throw new TypeError('expected ShapeElementPathFillRule for property "'+a+'", found: '+JSON.stringify(b));}}function mf(a,b){switch(b){case "CHART":return"CHART";default:throw new TypeError('expected GroupGeneratorType for property "'+a+'", found: '+JSON.stringify(b));}}
function nf(a,b){switch(b){case "BAR":return"BAR";case "PIE":return"PIE";case "LINE":return"LINE";case "DONUT":return"DONUT";default:throw new TypeError('expected ChartType for property "'+a+'", found: '+JSON.stringify(b));}}function of(a,b){switch(b){case "INTERPOLATE":return"INTERPOLATE";case "PALETTE":return"PALETTE";default:throw new TypeError('expected ColoringType for property "'+a+'", found: '+JSON.stringify(b));}}
function pf(a,b){switch(b){case "RGB":return"RGB";case "HSV":return"HSV";case "HSL":return"HSL";case "LAB":return"LAB";case "HCL":return"HCL";default:throw new TypeError('expected ColorSpace for property "'+a+'", found: '+JSON.stringify(b));}}function qf(a,b){switch(b){case "CANVA":return"CANVA";case "FACEBOOK":return"FACEBOOK";case "LAYOUT":return"LAYOUT";case "DOCUMENT":return"DOCUMENT";default:throw new TypeError('expected ElementOriginType for property "'+a+'", found: '+JSON.stringify(b));}}
function rf(a){this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.bold=a.bold;this.italic=a.italic;this.lb=a.lb;this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.color=a.color}function sf(a){return new rf({fontFamily:F("fontFamily",a),fontSize:D("fontSize",a),bold:H("bold",a),italic:H("italic",a),lb:F("justification",a),letterSpacing:D("letterSpacing",a),lineHeight:D("lineHeight",a),color:F("color",a)})}function tf(a){this.title=a.title;this.Th=a.Th;this.body=a.body}
function uf(a){return new tf({title:J(sf,"title",a),Th:J(sf,"subtitle",a),body:J(sf,"body",a)})}function vf(a){this.mb=a.mb;this.title=a.title;this.description=a.description;this.Qc=a.Qc||[];this.Pf=a.Pf;this.bg=a.bg;this.gh=a.gh||[];this.doctype=a.doctype}function wf(a){return new vf({mb:E("layout",a),title:F("title",a),description:F("description",a),Qc:A.Ca("keywords",a),Pf:J(uf,"canvaDefaultFonts",a),bg:J(uf,"defaultFonts",a),gh:K(xf,"pages",a),doctype:I(Cd,"doctype",a)})}
function yf(a){this.height=a.height;this.width=a.width;this.Fa=a.Fa;this.elements=a.elements||[];this.type=a.type}yf.prototype.O=function(){return this.height};yf.prototype.Z=function(){return this.width};function xf(a){return new yf({height:C("height",a),width:C("width",a),Fa:D("dpi",a),elements:K(zf,"elements",a),type:F("type",a)})}
function Af(a){this.type=a.type;this.top=a.top;this.left=a.left;this.height=a.height;this.width=a.width;this.nd=a.nd;this.rotation=a.rotation;this.Cc=a.Cc;this.Hg=a.Hg;this.Kg=a.Kg;this.Ig=a.Ig;this.Jg=a.Jg;this.backgroundColor=a.backgroundColor;this.Jc=a.Jc;this.Wc=a.Wc;this.Yc=a.Yc;this.Vc=a.Vc;this.filter=a.filter;this.style=a.style;this.html=a.html;this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.color=a.color;this.bold=a.bold;this.italic=a.italic;this.Dc=a.Dc;this.lb=a.lb;this.letterSpacing=
a.letterSpacing;this.lineHeight=a.lineHeight;this.Tc=a.Tc||[];this.padding=a.padding;this.textTransform=a.textTransform;this.border=a.border;this.Mg=a.Mg||[];this.wh=a.wh;this.link=a.link;this.spacing=a.spacing;this.items=a.items||[];this.contents=a.contents||[];this.scale=a.scale;this.pg=a.pg||[];this.Uh=a.Uh;this.index=a.index;this.lg=a.lg;this.Cg=a.Cg;this.viewBox=a.viewBox;this.kh=a.kh||[];this.Uf=a.Uf||[];this.xg=a.xg;this.Sf=a.Sf;this.Rh=a.Rh;this.origin=a.origin}e=Af.prototype;e.O=function(){return this.height};
e.Z=function(){return this.width};e.Pe=function(){return this.filter};e.Vb=function(){return this.link};e.Ld=function(){return this.items};
function zf(a){return new Af({type:E("type",a),top:C("top",a),left:C("left",a),height:C("height",a),width:C("width",a),nd:D("transparency",a),rotation:D("rotation",a),Cc:D("flipOrientation",a),Hg:H("isBackground",a),Kg:H("isRecolorable",a),Ig:H("isCutout",a),Jg:H("isDark",a),backgroundColor:F("backgroundColor",a),Jc:J(Bf,"imageBox",a),Wc:F("mediaId",a),Yc:D("mediaVersion",a),Vc:H("mediaApproved",a),filter:J(Cf,"filter",a),style:F("style",a),html:F("html",a),fontFamily:F("fontFamily",a),fontSize:D("fontSize",
a),color:F("color",a),bold:H("bold",a),italic:H("italic",a),Dc:J(Ca,"fontMedia",a),lb:F("justification",a),letterSpacing:D("letterSpacing",a),lineHeight:D("lineHeight",a),Tc:la.Ca("lineLengths",a),padding:D("padding",a),textTransform:F("textTransform",a),border:J(Df,"border",a),Mg:K(Ef,"kerning",a),wh:M(jf,"reflowMode",a),link:F("link",a),spacing:D("spacing",a),items:K(Ff,"items",a),contents:K(Gf,"contents",a),scale:D("scale",a),pg:K(Hf,"fillColors",a),Uh:J(If,"svgMetadata",a),index:D("index",a),
lg:D("elementIndex",a),Cg:D("groupIndex",a),viewBox:J(Bf,"viewBox",a),kh:K(Jf,"paths",a),Uf:la.Ca("childRange",a),xg:M(mf,"generatorType",a),Sf:J(Kf,"chart",a),Rh:J(Ea,"spritesheetMetadata",a),origin:J(Lf,"origin",a)})}
function Mf(a){this.type=a.type;this.top=a.top;this.left=a.left;this.height=a.height;this.width=a.width;this.Cc=a.Cc;this.backgroundColor=a.backgroundColor;this.Jc=a.Jc;this.Wc=a.Wc;this.Yc=a.Yc;this.Vc=a.Vc;this.filter=a.filter;this.html=a.html;this.fontFamily=a.fontFamily;this.fontSize=a.fontSize;this.color=a.color;this.bold=a.bold;this.italic=a.italic;this.Dc=a.Dc;this.lb=a.lb;this.letterSpacing=a.letterSpacing;this.lineHeight=a.lineHeight;this.Tc=a.Tc||[];this.textTransform=a.textTransform;this.index=
a.index}Mf.prototype.O=function(){return this.height};Mf.prototype.Z=function(){return this.width};Mf.prototype.Pe=function(){return this.filter};
function Gf(a){return new Mf({type:E("type",a),top:D("top",a),left:D("left",a),height:D("height",a),width:D("width",a),Cc:D("flipOrientation",a),backgroundColor:F("backgroundColor",a),Jc:J(Bf,"imageBox",a),Wc:F("mediaId",a),Yc:D("mediaVersion",a),Vc:H("mediaApproved",a),filter:J(Cf,"filter",a),html:F("html",a),fontFamily:F("fontFamily",a),fontSize:D("fontSize",a),color:F("color",a),bold:H("bold",a),italic:H("italic",a),Dc:J(Ca,"fontMedia",a),lb:F("justification",a),letterSpacing:D("letterSpacing",
a),lineHeight:D("lineHeight",a),Tc:la.Ca("lineLengths",a),textTransform:F("textTransform",a),index:C("index",a)})}function Nf(a){this.width=a.width}Nf.prototype.Z=function(){return this.width};function Df(a){return new Nf({width:C("width",a)})}function Of(a){this.ih=a.ih;this.Hf=a.Hf}function Ef(a){return new Of({ih:E("pair",a),Hf:C("adjustment",a)})}function Pf(a){this.type=a.type;this.width=a.width;this.height=a.height;this.children=a.children||[]}Pf.prototype.Z=function(){return this.width};
Pf.prototype.O=function(){return this.height};Pf.prototype.getChildren=function(){return this.children};function Ff(a){return new Pf({type:M(kf,"type",a),width:D("width",a),height:D("height",a),children:K(Ff,"children",a)})}function Qf(a){this.top=a.top;this.left=a.left;this.width=a.width;this.height=a.height}Qf.prototype.Z=function(){return this.width};Qf.prototype.O=function(){return this.height};
function Bf(a){return new Qf({top:C("top",a),left:C("left",a),width:C("width",a),height:C("height",a)})}function Rf(a){this.index=a.index;this.color=a.color}function Hf(a){return new Rf({index:C("index",a),color:E("color",a)})}function Sf(a){this.viewBox=a.viewBox;this.Wh=a.Wh||[];this.oh=a.oh||[];this.Rf=a.Rf;this.Yh=a.Yh}function If(a){return new Sf({viewBox:I(Bf,"viewBox",a),Wh:K(Bf,"textHolderBoxes",a),oh:K(Bf,"photoHolderBoxes",a),Rf:J(Bf,"centerBox",a),Yh:H("tile",a)})}
function Tf(a){this.blur=a.blur;this.brightness=a.brightness;this.contrast=a.contrast;this.saturation=a.saturation;this.Zh=a.Zh;this.vignette=a.vignette;this.ii=a.ii;this.$h=a.$h;this.name=a.name}Tf.prototype.getName=function(){return this.name};function Cf(a){return new Tf({blur:D("blur",a),brightness:D("brightness",a),contrast:D("contrast",a),saturation:D("saturation",a),Zh:D("tint",a),vignette:D("vignette",a),ii:D("xpro",a),$h:D("tintAmount",a),name:F("name",a)})}
function Uf(a){this.fill=a.fill;this.qg=a.qg;this.d=a.d}function Jf(a){return new Uf({fill:E("fill",a),qg:M(lf,"fillRule",a),d:E("d",a)})}function Vf(a){this.name=a.name;this.cells=a.cells||[]}Vf.prototype.getName=function(){return this.name};function Wf(a){return new Vf({name:F("name",a),cells:A.Ca("cells",a)})}function Xf(a){this.u=a.u||[]}function Yf(a){return new Xf({u:K(Wf,"columns",a)})}
function Zf(a){this.data=a.data;this.Ng=a.Ng;this.Pg=a.Pg;this.Og=a.Og;this.Wf=a.Wf;this.Gg=a.Gg;this.jh=a.jh;this.Tf=a.Tf;this.ph=a.ph;this.Jf=a.Jf;this.Tg=a.Tg;this.jg=a.jg}Zf.prototype.getData=function(){return this.data};
function Kf(a){return new Zf({data:I(Yf,"data",a),Ng:D("labelColumn",a),Pg:I(sf,"labelTextStyle",a),Og:J(Ca,"labelFontMedia",a),Wf:L(of,"coloringType",a),Gg:J($f,"interpolation",a),jh:J(ag,"palette",a),Tf:L(nf,"chartType",a),ph:J(bg,"pie",a),Jf:J(cg,"bar",a),Tg:J(dg,"line",a),jg:J(eg,"donut",a)})}function fg(a){this.spacing=a.spacing;this.padding=a.padding}function bg(a){return new fg({spacing:D("spacing",a),padding:D("padding",a)})}function gg(a){this.spacing=a.spacing;this.padding=a.padding}
function cg(a){return new gg({spacing:D("spacing",a),padding:D("padding",a)})}function hg(a){this.spacing=a.spacing;this.padding=a.padding}function dg(a){return new hg({spacing:D("spacing",a),padding:D("padding",a)})}function ig(a){this.spacing=a.spacing;this.padding=a.padding}function eg(a){return new ig({spacing:D("spacing",a),padding:D("padding",a)})}function jg(a){this.Vf=a.Vf;this.from=a.from;this.to=a.to}function $f(a){return new jg({Vf:L(pf,"colorSpace",a),from:E("from",a),to:E("to",a)})}
function mg(a){this.Xf=a.Xf||[]}function ag(a){return new mg({Xf:A.Ca("colors",a)})}function ng(a){this.id=a.id;this.version=a.version;this.type=a.type}ng.prototype.g=function(){return this.id};ng.prototype.getVersion=function(){return this.version};function Lf(a){return new ng({id:E("id",a),version:C("version",a),type:L(qf,"type",a)})};function og(a){this.id=a.id;this.pb=a.pb;this.eb=a.eb;this.origin=a.origin;this.Cb=a.Cb;this.tags=a.tags||[];this.Kb=a.Kb;this.ja=a.ja;this.version=a.version;this.timestamp=a.timestamp}og.prototype.g=function(){return this.id};og.prototype.Oe=function(){return this.ja};og.prototype.getVersion=function(){return this.version};
function pg(a){return new og({id:E("id",a),pb:E("owningBrand",a),eb:C("creationDate",a),origin:J(Gd,"origin",a),Cb:I(Ad,"extensions",a),tags:A.Ca("tags",a),Kb:J(sd,"acl",a),ja:I(qg,"draft",a),version:C("version",a),timestamp:D("timestamp",a)})}function rg(a){this.content=a.content;this.version=a.version;this.timestamp=a.timestamp;this.qa=a.qa;this.qb=a.qb;this.media=a.media||[];this.kb=a.kb;this.qc=a.qc}rg.prototype.getContent=function(){return this.content};rg.prototype.getVersion=function(){return this.version};
rg.prototype.getSession=function(){return this.qa};function qg(a){return new rg({content:I(wf,"content",a),version:C("version",a),timestamp:C("timestamp",a),qa:D("session",a),qb:C("pageCount",a),media:K(Ca,"media",a),kb:I(Md,"imageSets",a),qc:F("associatedMedia",a)})}function sg(a){this.document=a.document;this.qa=a.qa}sg.prototype.getDocument=function(){return this.document};sg.prototype.getSession=function(){return this.qa};
function tg(a){return new sg({document:I(pg,"document",a),qa:C("session",a)})}function ug(a){this.document=a.document;this.Xc=a.Xc||[];this.qa=a.qa;this.cb=a.cb;this.Yf=a.Yf}ug.prototype.getDocument=function(){return this.document};ug.prototype.getSession=function(){return this.qa};function vg(a){return new ug({document:I(pg,"document",a),Xc:K(Xd,"mediaMap",a),qa:D("session",a),cb:L(nd,"accessRole",a),Yf:M(qd,"conversionLoss",a)})};function wg(){this.remix=this.edit=this.view=this["default"]=null}function xg(){}function yg(a){return Object.freeze(x(xg,a))}xg.prototype.getDocument=function(){return zg(this.document)};xg.prototype.getSession=function(){return this.session};function Ag(){}function Bg(a){return Object.freeze(x(Ag,a))}Ag.prototype.getDocument=function(){return zg(this.document)};function Cg(){}function Dg(a){return Object.freeze(x(Cg,a))}function Eg(){}Eg.prototype.g=function(){return this.id};Eg.prototype.Oe=function(){return this.draft};
Eg.prototype.getVersion=function(){var a=this.draft;return a?a.version:-1};function Fg(a,b){switch(b){case "NONE":return"NONE";case "EDITOR":return"EDITOR";case "OWNER":return"OWNER";case "REMIXER":return"REMIXER";case "VIEWER":return"VIEWER";default:throw Error('unexpected accessRole type for property "'+a+'": '+b);}}function zg(a){var b=new Eg;$.extend(b,a);a=a.extensions;var c=new wg;a&&$.extend(c,a);b.extensions=c;return b};function Gg(a){this.v=a;this.path="/social"}function Hg(a,b){var c=b.Ie;return S(a.v,a.path+"/documents/"+encodeURIComponent(b.id)+"/profile"+(c?"?extension\x3d"+encodeURIComponent(c):"")).get(0).then(B).then(Ue)}function Ig(a,b){var c=b.Ub;return T(a.v,c?a.path+"/users/"+encodeURIComponent(c)+"/followees":a.path+"/user/followees",We(b)).get(0).then(B).then(Ye)}
function Jg(a,b){var c=b.Ub;return pc(a.v,c?a.path+"/users/"+encodeURIComponent(c)+"/followees/"+encodeURIComponent(b.ib):a.path+"/user/followees/"+encodeURIComponent(b.ib)).get(0).then(B).then(af)}function Kg(a,b){var c=b.$b;return T(a.v,c?a.path+encodeURIComponent(c)+"/likes":a.path+"/user/likes",cf(b)).get(0).then(B).then(ef)}
function Lg(a,b){var c=b.$b;return pc(a.v,c?a.path+"/users/"+encodeURIComponent(c)+"/likes/"+encodeURIComponent(b.ua):a.path+"/user/likes/"+encodeURIComponent(b.ua)).get(0).then(B).then(hf)};function Mg(a){Kc.call(this,a)}Mg.prototype=Object.create(Kc.prototype);Mg.prototype.constructor=Mg;function Ng(a){a=void 0===a?{}:a;this.id=a.id||"";this.thumbnail=a.R;this.systemFolder=a.me||null;this.acl=a.Kb;this.access=a.Ej;this.name=a.name||null;this.description=a.description||null;this.brand=a.W||"";this.itemCount=a.Kj||0;this.user=a.user||"";this.modifiedDate=a.Nj||0;this.shared=a.Oj||!1;this.type=a.type||Og;this.userSettings=a.Rj||null}var Og="DESIGN";function Pg(a){return Object.freeze(x(Ng,a))}e=Ng.prototype;e.g=function(){return this.id};
e.Ha=function(){if(this.thumbnail)return Object.freeze(x(Qg,this.thumbnail))};e.getName=function(){return this.name};e.ba=function(){return this.brand};e.Ia=function(){return this.user};Pg({brand:"",id:"FACEBOOK",itemCount:0,modifiedDate:0,name:"Facebook",systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/upload_folder_facebook.png",width:200},user:""});
Pg({brand:"",id:"UPLOADED_MEDIA",itemCount:0,modifiedDate:0,name:null,systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/default_folder_thumbnail_grey_bg.png",width:200},user:""});Pg({brand:"",id:"UNLIMITED_USE",itemCount:0,modifiedDate:0,name:null,systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/purchased_folder_thumbnail.png",width:200},user:""});function Qg(){}Qg.prototype.O=function(){return this.height};Qg.prototype.Z=function(){return this.width};Qg.prototype.ha=function(){return this.url};
function Rg(a){this.Ae=a.Ae;this.pf=a.pf;this.bf=a.bf;this.gd=a.gd;this.aa=a.aa;this.ya=a.ya;this.F=a.F;this.G=a.G}function Sg(){this.width=this.height=0;this.url="";this.version=0}Sg.prototype.Z=function(){return this.width};Sg.prototype.O=function(){return this.height};Sg.prototype.getVersion=function(){return this.version};Sg.prototype.ha=function(){return this.url};
function Tg(){this.type=Ug;this.name=this.id="";this.timestamp=this.version=0;this.trashedTimestamp=null;this.thumbnail=new Sg;this.tags=[];this.document=this.socialMetadata=this.folders=this.owner=this.marketplaceStatus=null}var Ug="DESIGN";
function Vg(a){a=$.extend(new Tg,a);a.owner&&(a.owner=Object.freeze(x(Wg,a.owner)));if(a.thumbnail){var b;b=(b=a.thumbnail)?$.extend(new Sg,b):null;a.thumbnail=b}a.socialMetadata&&(b=a.socialMetadata,b=new Rg({Ae:H("brandPublik",b),pf:H("publik",b),bf:M(Fg,"myRole",b),gd:C("remixCount",b),aa:C("likerCount",b),ya:C("commentCount",b),F:G("likedByMe",b),G:J(Xa,"owner",b)}),a.socialMetadata=b);a.document&&(a.document=zg(a.document));return a}e=Tg.prototype;e.g=function(){return this.id};e.getName=function(){return this.name};
e.getVersion=function(){return this.version};e.Ha=function(){return this.thumbnail};e.zg=function(){return this.folders};function Xg(a){return a.socialMetadata}e.getDocument=function(){return this.document};function Wg(){}Wg.prototype.Ia=function(){return this.user};Wg.prototype.ba=function(){return this.brand};function Yg(){}e=Yg.prototype;e.se=function(a){this.brand=a;return this};e.ba=function(){return this.brand||null};e.Ia=function(){return this.user||null};e.Pe=function(){return this.filter};e.te=function(a){this.continuation=a;return this};e.ma=function(){return this.continuation||null};e.ue=function(a){this.limit=a;return this};e.Db=function(){return this.limit};function Zg(){this.items=[];this.folders=this.continuation=null}Zg.prototype.Ld=function(){return this.items};Zg.prototype.ma=function(){return this.continuation};
Zg.prototype.zg=function(){return this.folders};function $g(a){if(!a)return null;a=$.extend(new Zg,a);a.items&&(a.items=a.items.map(Vg));a.folders&&(a.folders=a.folders.map(Pg));return a};function ah(a){this.v=a}ah.prototype.Uc=function(a,b){var c=b.Pe(),d=b.Db(),f=b.ma(),g=b.decorations;a="/vfolders/"+a+b.folder+"?"+(c?"filter\x3d"+encodeURIComponent(c):"")+(d?"\x26limit\x3d"+encodeURIComponent(String(d)):"")+(f?"\x26continuation\x3d"+encodeURIComponent(f):"")+(g?"\x26decorations\x3d"+encodeURIComponent(g.join(",")):"");return S(this.v,a).get(0).then($g)};function bh(a){this.Bb=a;this.Ci=$.isWindow(this.Bb[0]);this.Dg=_.throttle(this.dispatchEvent.bind(this),200)}function ch(){var a=window,a=$(a),b=a.data("CANVA_SCROLL_TARGET");if(!b){var c=b=new bh(a);c.stopListening();c.Bb.on("scroll",c.Dg);a.data("CANVA_SCROLL_TARGET",b)}return b}e=bh.prototype;e.stopListening=function(){this.Bb.off("scroll",this.Dg)};
function dh(a,b){var c;c=_.defaults({},c,{Li:!1});var d=b.offset().top;c=c.Li?parseInt(b.css("margin-bottom"),10):0;b=b.outerHeight();d=d+b+c;b=a.Ci?a.Bb.scrollTop():a.Bb.offset().top+parseInt(a.Bb.css("border-top-width"),10);a=a.Bb.innerHeight();return d-(b+a)}e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.off=Backbone.Events.off;e.trigger=Backbone.Events.trigger;e.dispatchEvent=function(){this.trigger("scroll",this)};function eh(a,b){this.name=a;this.defaultValue=b};function fh(a){this.values=a||{}}fh.prototype.get=function(a){var b;if({}.hasOwnProperty.call(this.values,a.name)){b=this.values[a.name];var c=typeof b;a=typeof a.defaultValue;O(c===a,"Type mismatch: Configured value ({}) deviates from default value type ({})",c,a)}else b=a.defaultValue;return b};function gh(a){this.tg=a}var hh=new eh("em","NONE"),ih=new eh("et",!0);gh.prototype.Ge=function(){return this.tg.get(hh)};gh.prototype.Eb=function(){return this.tg.get(ih)};function jh(a){this.v=a;this.path="/profile"}jh.prototype.Ia=P.method(function(a){return S(this.v,this.path+"/users/"+encodeURIComponent(a)).get(0).then(Wa)});
function kh(a,b){return S(a.v,a.path+"/users?"+(null!=b.ids?"\x26ids\x3d"+encodeURIComponent(b.ids):"")+(null!=b.emails?"\x26emails\x3d"+encodeURIComponent(b.emails):"")+(null!=b.query?"\x26query\x3d"+encodeURIComponent(b.query):"")+(null!=b.brand?"\x26brand\x3d"+encodeURIComponent(b.brand):"")+(null!=b.role?"\x26role\x3d"+encodeURIComponent(b.role):"")+(null!=b.skip?"\x26skip\x3d"+encodeURIComponent(b.skip):"")+(null!=b.limit?"\x26limit\x3d"+encodeURIComponent(b.limit):"")+(null!=b.includeAvatars?
"\x26includeAvatars\x3d"+encodeURIComponent(b.includeAvatars):"")).get(0).then(fb)}function lh(a,b){return T(a.v,a.path+"/users/"+encodeURIComponent(b.user),b).get(0).then(ob)}jh.prototype.ba=function(a){return S(this.v,this.path+"/brands/"+encodeURIComponent(a)).get(0).then(Ua)};P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ba())+"/invitations";return T(this.v,b,a).spread(xb)});
P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.ba())+"/invitations?"+(null!=a.ma()?"\x26continuation\x3d"+encodeURIComponent(a.ma()):"")+(null!=a.Db()?"\x26limit\x3d"+encodeURIComponent(a.Db()):"")+(a.countOnly?"\x26countOnly\x3d"+encodeURIComponent(a.countOnly):"");return S(this.v,a).spread(zb)});P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ba())+"/invitations?update\x3dtrue";return T(this.v,b,a).spread(Jb)});
jh.prototype.Fi=P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.ba())+"/members?"+(a.includeAvatars?"\x26includeAvatars\x3d"+encodeURIComponent(a.includeAvatars):"")+(a.includeEmails?"\x26includeEmails\x3d"+encodeURIComponent(a.includeEmails):"")+(a.countOnly?"\x26countOnly\x3d"+encodeURIComponent(a.countOnly):"")+(null!=a.ma()?"\x26continuation\x3d"+encodeURIComponent(a.ma()):"")+(null!=a.Db()?"\x26limit\x3d"+encodeURIComponent(a.Db()):"")+(null!=a.Xb()?"\x26users\x3d"+encodeURIComponent(a.Xb().join(",")):
"");return S(this.v,a).spread(Fb)});P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ba())+"/members";return T(this.v,b,a).spread(Hb)});
function mh(a,b){return S(a.v,a.path+"/names/available?"+("assignee"in b?"\x26assignee\x3d"+encodeURIComponent(b.assignee):"")+("username"in b?"\x26username\x3d"+encodeURIComponent(b.username):"")+("brandname"in b?"\x26brandname\x3d"+encodeURIComponent(b.brandname):"")+("email"in b?"\x26email\x3d"+encodeURIComponent(b.email):"")).get(0).then(tb)}function nh(a,b){return T(a.v,a.path+"/user/avatars",{mimeType:b}).get(0).then(vb)}
function oh(a,b,c){return T(a.v,a.path+"/user/avatars/"+b,{version:b,mimeType:c}).spread(function(a){if(!a.ok)return P.reject()})};function ph(a){this.wb=a.wb;this.va=a.va;this.nb=a.nb;this.Eb=a.Eb;this.Qd=new Map;this.hi=new Map;this.pd=qh(this)}function qh(a){if(!a.Eb)return P.resolve([]);var b=Db((new Cb).se(a.wb)).ue(100);return rh(a,b,[]).then(function(b){return b.map(function(b){b=b.Ia();a.Qd.set(b.g(),b);a.hi.set(b.H()||b.g(),b);return b})})}function rh(a,b,c){return a.va.Fi(b).then(function(d){c=c.concat(d.Ag());return d.ma()?rh(a,b.te(d.ma()),c):c})}ph.prototype.Xb=function(){return this.pd};
function sh(a,b){if(!a.Eb)return b;for(var c=/@[a-zA-Z0-9\._-]*[a-zA-Z0-9\_-](?=\s|$|\?|,|\!|\.)/gm,d="",f=0,g;g=c.exec(b);){var f=b.slice(f,g.index),h=a;g=g[0];var l=h.hi.get(g.slice(1)),d=d+(f+(l?"["+l.g()+":"+h.wb+"]":g)),f=c.lastIndex}return d+=b.slice(f)}
function th(a,b){var c=[];b.forEach(function(b){if(b)for(var f=/\[(U[a-zA-Z0-9_-]{10}):(B[a-zA-Z0-9_-]{10})\]/g,g;g=f.exec(b);)a.Qd.has(g[1])||c.push(g[1])});return c.length?kh(a.va,db(c)).then(function(c){c.Xb().forEach(function(b){return a.Qd.set(b.g(),b)});return uh(a,b)}).catch(function(){return uh(a,b,!0)}):uh(a,b)}function uh(a,b,c){var d=[];b.forEach(function(b){b?d.push(vh(a,_.escape(b),c)):d.push(b)});return P.resolve(d)}function wh(a,b){return th(a,[b]).then(function(a){return a[0]})}
function vh(a,b,c){for(var d=/\[(U[a-zA-Z0-9_-]{10}):(B[a-zA-Z0-9_-]{10})\]/g,f="",g=0,h;h=d.exec(b);){var g=b.slice(g,h.index),l=a,k=c;(h=l.Qd.get(h[1]))&&h.H()?(l=h.H(),h="/"+encodeURIComponent(h.H()),soy.asserts.assertType(goog.isString(l)||l instanceof goog.soy.data.SanitizedContent,"username",l,"string|goog.soy.data.SanitizedContent"),soy.asserts.assertType(goog.isString(h)||h instanceof goog.soy.data.SanitizedContent,"profilePath",h,"string|goog.soy.data.SanitizedContent"),h=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"mention__profileLink" href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(h))+'"\x3e@'+soy.$$escapeHtml(l)+"\x3c/a\x3e").toString()):(h=k?l.nb.format("mentionLookupError"):l.nb.format("mentionUnknownUserError"),soy.asserts.assertType(goog.isString(h)||h instanceof goog.soy.data.SanitizedContent,"title",h,"string|goog.soy.data.SanitizedContent"),h=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cspan class\x3d"mention__unknown" title\x3d'+soy.$$escapeHtmlAttributeNospace(h)+"\x3e@unknown\x3c/span\x3e").toString());f+=g+h;g=
d.lastIndex}return f+=b.slice(g)};function xh(){}xh=Backbone.View.extend({className:"tileListBusyIndicator"});e=xh.prototype;e.initialize=function(){this.transitionDelay=-1;this.ne=0};e.hide=function(){yh(this,function(){this.$el.removeClass("tileListBusyIndicatorOn")})};e.render=function(){this.$el.html(this.template());return this};function yh(a,b){0!=a.ne&&(window.clearTimeout(a.ne),a.ne=0);0<=a.transitionDelay?a.ne=window.setTimeout(b.bind(a),a.transitionDelay):b.call(a)}e.show=function(){yh(this,function(){this.$el.addClass("tileListBusyIndicatorOn")})};
e.template=function(){return _.range(8).map(function(){return"\x3cspan\x3e\x3c/span\x3e"}).join("")};var zh=xh;function Ah(a,b){this.$el=a;this.Ad=b.Ad||"";this.zb=b.zb}function Bh(a){var b=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"masonryLayout"\x3e\x3c/div\x3e').toString());return new Ah(b,a)}e=Ah.prototype;e.add=function(a,b){var c=this;this.u||Ch(this,Dh(this));var d=Eh(this);this.u.eq(0).append(a);var f=a.get().map(this.O,this);a.each(function(a,h){var l=Fh(c,d);d[l]+=f[a];b?c.u.eq(l).prepend(h):c.u.eq(l).append(h)})};e.contains=function(a){return!(!this.u||!this.u.children().filter(a).length)};
function Ch(a,b){var c="masonryLayoutColumn "+a.Ad;a.u=_.range(b).map(function(){return $("\x3cdiv\x3e").addClass(c).width(100/b+"%")}).reduce($.merge);a.u.appendTo(a.$el)}function Dh(a){if("function"===typeof a.zb){var b=a.$el.width();a=a.zb(b)}else a=a.zb;return Math.max(a,1)}
function Eh(a){return a.u.get().map(function(a){var c=$(a).children();if(!c.length)return 0;var c=c.last().get(0),d=window.getComputedStyle(c),d=parseInt(d.marginBottom,10)||0;return c.getBoundingClientRect().bottom+d-a.getBoundingClientRect().top})}function Fh(a,b){b||(b=Eh(a));return _.min(_.range(b.length),function(a){return b[a]})}
e.O=function(a){var b=window.getComputedStyle(a);a=a.getBoundingClientRect().height;var c=Math.pow(10,2);return Math.round(a*c)/c+(parseInt(b.marginBottom,10)||0)+(parseInt(b.marginTop,10)||0)};e.Ld=function(){var a=this.u&&this.u.children().get()||[];a.sort(function(a,c){return a.offsetTop!==c.offsetTop?a.offsetTop-c.offsetTop:a.offsetLeft-c.offsetLeft});return $(a)};
function Gh(a,b){function c(a){return a.offsetHeight+a.offsetTop}if(!a.contains(b))throw Error("The given element is not an item in the masonry layout.");var d=c(b[0]);return $(a.u.children().get().filter(function(a){return c(a)>d}))}e.Re=function(){if(this.u){var a=Fh(this),a=this.u.get(a);return $(a)}return null};e.isEmpty=function(){return!(this.u&&this.u.children().length)};e.push=function(a){this.add(a)};
e.qf=function(){var a=Dh(this),a=this.u&&a!==this.u.length;this.u&&a&&(a=this.Ld().detach(),this.u&&this.u.remove(),this.u=void 0,this.push(a),this.trigger("redraw"))};e.remove=function(a){this.u&&this.u.children().filter(a).remove()};e.removeAll=function(){this.u&&this.u.children().remove()};
e.split=function(a){if(!this.contains(a))throw Error("The given element is not an item in the masonry layout.");var b=Gh(this,a);if(0===b.length)return null;var c=Bh({Ad:this.Ad,zb:this.zb});Ch(c,this.u.length);this.u.each(function(a,f){f=$(f).children().filter(b);c.u.eq(a).append(f)});return c};e.unshift=function(a){this.add(a,!0)};e.on=Backbone.Events.on;e.off=Backbone.Events.off;e.trigger=Backbone.Events.trigger;function Hh(a){this.D=a.D;this.element=$(soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"modalContent"\x3e\x3cdiv class\x3d"modalContentMask"\x3e\x3c/div\x3e\x3c/div\x3e').toString());this.element.addClass(Ih(a.style));this.element.on("click",".modalContentMask",function(a){this.trigger("maskClick",a)}.bind(this));this.style=a.style;this.ud=""}e=Hh.prototype;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.trigger=Backbone.Events.trigger;
function Ih(a){switch(a){case Jh:return"modalContentBlurAndDarken";case Kh:return"modalContentDarken";case Lh:return"modalContentClear";case Mh:return"modalContentNone";default:throw Error();}}e.hide=function(){$("body").removeClass(this.ud).attr("data-modal-levels",$("body").attr("data-modal-levels")-1);"0"===$("body").attr("data-modal-levels")&&$("body").css("margin-right","");this.element.removeClass("modalContentOn");this.D.setTimeout(function(){this.element.detach()}.bind(this),300)};
e.show=function(a){this.element.children(":not(.modalContentMask)").remove();this.element.append(a).appendTo("body");cc(function(){var a=this,c=parseInt($("body").attr("data-modal-levels"),10)||0,d=window.innerWidth-$(window).width();$("body").attr("data-modal-levels",c+1);0===c&&$("body").css("margin-right",d);this.element.addClass("modalContentOn");["modalContentVisible",Ih(this.style)+"Visible"].forEach(function(c){$("body").hasClass(c)||(a.ud+=c+" ")});$("body").addClass(this.ud)}.bind(this))};
var Jh="BLUR_AND_DARKEN",Kh="DARKEN",Lh="CLEAR",Mh="NONE";function Nh(){}Nh=Backbone.View.extend();Nh.prototype.initialize=function(a){a=_.defaults({},a,{Be:!0,content:$(),tf:!0,kd:!0});this.D=a.D;this.Be=!!a.Be;this.content=a.content;this.af=new Hh({style:this.Bg(),D:this.D});this.listenTo(this.af,"maskClick",this.blur);this.result=1;this.tf=!!a.tf;this.Hh=!!a.Hh;this.kd=!!a.kd;this.title=a.kd?a.title:""};Nh.ji=300;e=Nh.prototype;e.blur=function(){this.Be&&(this.result=0,this.remove())};e.cancel=function(){this.result=1;this.remove()};
e.fail=function(){this.result=3;this.remove()};e.events=function(){return{"click .close":this.Xa,"click .dialogMaskCloseButton":this.Xa,"click button.done":this.ok}};e.Bg=function(){return Jh};e.ok=function(){this.result=2;this.remove()};e.Xa=function(a){a.preventDefault();this.cancel()};
e.remove=function(){var a=this;this.$el.children(".dialog").addClass("disappearing");this.af.hide();this.trigger("hide",this.result);this.D.setTimeout(function(){a.trigger("remove",a);Backbone.View.prototype.remove.call(a)},Nh.ji);return this};e.render=function(){this.$el.html(this.template(this.he()));this.$(".content").append(this.content);this.$(".dialog").data("Canva_Views_Dialog",this);return this};
e.he=function(){return{showCloseButton:this.tf,showDialogMaskCloseButton:this.Hh,showTitle:this.kd,title:this.title}};e.Dh=function(a){this.$("h2").text(a);this.title=a};e.show=function(){function a(d){d.target===d.currentTarget&&(b.off("animationend transitionend",a),c.trigger("showTransitionEnd",c))}var b,c=this;this.render();b=this.$el.children(".dialog");this.af.show(this.$el);this.trigger("show",this);cc(function(){b.removeClass("preparing");b.on("animationend transitionend",a)});return this};
e.template=_.template('\x3c% if (showDialogMaskCloseButton) { %\x3e\x3ca class\x3d"dialogMaskCloseButton"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3cdiv class\x3d"dialog preparing"\x3e\x3c% if (showTitle) { %\x3e\x3ch2 class\x3d"dialog__title"\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3c% } %\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3c% if (showCloseButton) { %\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this dialog"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3c/div\x3e');var Oh=Nh;var Ph={LEFT:"left",vj:"leftTop",Bj:"top",Cj:"topLeft",yj:"rightTop"};function Qh(){}Qh=Oh.extend();e=Qh.prototype;e.initialize=function(a){Oh.prototype.initialize.call(this,_.extend({D:bc},a));this.ig=a.ig||"Done";this.ie=void 0!==a.ie?a.ie:!0;this.pc=null;this.rh=a.position instanceof Array?a.position:[a.position||"top"];this.position=null;this.Ja=_.defaults({},a.Ja,{left:0,top:0});this.cd=a.cd||!1;this.on("hide",this.Zf);this.keydown=this.keydown.bind(this)};
function Rh(a){$(document).on("keydown",a.keydown)}e.dj=function(){$(document).off("keydown",this.keydown)};e.Bg=function(){return Kh};e.getCurrentPosition=function(){return this.position};
e.render=function(){Oh.prototype.render.call(this);this.$(".dialog").addClass("popover").addClass(this.cd?"paddingLess":"").prepend('\x3cdiv class\x3d"pointer"\x3e\x3c/div\x3e');this.ie&&this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button buttonBlock done"\x3e'+this.ig+"\x3c/button\x3e\x3c/p\x3e");return this};
function Sh(a,b){if(!a.pc){var c=_.debounce(a.fi.bind(a),300);window.addEventListener("resize",c,!1);a.on("remove",function(){window.removeEventListener("resize",c,!1)})}a.show();Rh(a);a.on("remove",a.dj);Th(a,b);a.fi()}function Uh(){this.lf=this.kf=this.dialogLeft=this.dialogTop=null}
e.fi=function(){for(var a,b,c=0;c<this.rh.length;c++){a=b=this.rh[c];var d=this.cd?5:13,f=this.cd?20:40,g=this.pc,h=g.offset(),l=h.top-$(document).scrollTop(),k=g.outerWidth(),q=g.outerHeight(),v=this.$(".dialog").outerHeight(),y=this.$(".dialog").outerWidth(),W=this.$el.width(),g=new Uh,X=Math.round(h.left+k/2-y/2);switch(a){case "top":g.dialogLeft=X+y+10>W?W-y-10:X;g.dialogLeft+=this.Ja.left;g.dialogTop=Math.round(l)+q+d+this.Ja.top;a=X-g.dialogLeft;g.kf="calc(50% - 7px + "+a+"px)";break;case "topLeft":g.dialogLeft=
h.left+y+10>W?W-y-10:h.left;g.dialogLeft+=this.Ja.left;g.dialogTop=Math.round(l)+q+d+this.Ja.top;g.kf=g.dialogLeft+d;break;case "left":g.dialogLeft=h.left+k+this.Ja.left;g.dialogTop=l-v/2+d+this.Ja.top;break;case "leftTop":g.dialogLeft=h.left+k+this.Ja.left+d;g.dialogTop=l+q/2-f+this.Ja.top;10>g.dialogTop&&(g.lf=g.dialogTop-10,g.dialogTop=10);break;case "rightTop":g.dialogLeft=h.left-y+this.Ja.left-d,g.dialogTop=l+q/2-f+this.Ja.top,10>g.dialogTop&&(g.lf=g.dialogTop-10,g.dialogTop=10)}d=a=g;f=this.$(".dialog");
if(!(d.dialogLeft+f.outerWidth()>$(window).width()||d.dialogTop+f.outerHeight()>$(window).height()))break}this.position=b;this.$(".dialog").css("top",a.dialogTop).css("left",a.dialogLeft);c=this.$(".pointer");c.removeClass(_.values(Ph).join(" ")).addClass(b);c.css("left",a.kf||"");c.css("margin-top",a.lf||"");return this};function Th(a,b){a.Zf();a.pc=b;b.addClass("on");b.blur()}e.Zf=function(){this.pc&&this.pc.removeClass("on")};
e.keydown=function(a){27===a.which&&(this.cancel(),a.stopPropagation(),a.preventDefault())};var Vh=Qh;function Wh(){}Wh=Vh.extend({className:"designCardMenuContainer"});
Wh.prototype.initialize=function(a){this.fg=a.fg;this.Fh=a.Fh||!1;this.Gf=a.Gf||null;this.Nh=!!a.Nh;this.Kh=!!a.Kh;this.Jh=!!a.Jh;this.Mh=!!a.Mh;this.Gh=!!a.Gh;this.Ih=!!a.Ih;this.Lh=!!a.Lh;this.Y=a.Y;Vh.prototype.initialize.call(this,{content:this.pi({docTypeName:this.fg,showCopyDesign:this.Fh,showTrashDesign:this.Nh,showRemoveFromFolder:this.Kh,showRemoveFromAllFolders:this.Jh,showRestoreDesign:this.Mh,showDeleteForever:this.Gh,showEditTemplate:this.Ih,showRemoveTemplate:this.Lh,copyDesign:this.Y.format("designCardMenuCopyDesign"),
trashDesign:this.Y.format("designCardMenuTrashDesign"),removeFromFolder:this.Y.format("designCardMenuRemoveFromFolder",this.Gf),removeFromAllFolders:this.Y.format("designCardMenuRemoveFromAllFolders"),restoreDesign:this.Y.format("designCardMenuRestoreDesign"),deleteForever:this.Y.format("designCardMenuDeleteForever"),editTemplate:this.Y.format("designCardMenuEditTemplate"),removeTemplate:this.Y.format("designCardMenuRemoveTemplate")}),ie:!1,position:["leftTop","rightTop"],cd:!0,kd:!1})};
Wh.prototype.events=function(){return{"click .designCardMenu__copyDesign":this.tb.bind(this,"copy"),"click .designCardMenu__trashDesign":this.tb.bind(this,"trash"),"click .designCardMenu__removeFromFolder":this.tb.bind(this,"removeFromFolder"),"click .designCardMenu__removeFromAllFolders":this.tb.bind(this,"removeFromAllFolders"),"click .designCardMenu__restoreDesign":this.tb.bind(this,"restore"),"click .designCardMenu__deleteForever":this.tb.bind(this,"deleteForever"),"click .designCardMenu__editTemplate":this.tb.bind(this,
"editTemplate"),"click .designCardMenu__removeTemplate":this.tb.bind(this,"removeTemplate")}};Wh.prototype.tb=function(a){this.trigger(a);this.remove()};Wh.prototype.pi=_.template('\x3cdiv class\x3d"infoPanel"\x3e\x3c%- docTypeName %\x3e\x3c/div\x3e\x3cdiv class\x3d"selectMenu"\x3e\x3c% if (showEditTemplate) { %\x3e\x3cdiv class\x3d"selectMenu__item designCardMenu__editTemplate"\x3e\x3c%- editTemplate %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (showCopyDesign) { %\x3e\x3cdiv class\x3d"selectMenu__item designCardMenu__copyDesign"\x3e\x3c%- copyDesign %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (showTrashDesign) { %\x3e\x3cdiv class\x3d"selectMenu__item designCardMenu__trashDesign"\x3e\x3c%- trashDesign %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (showRemoveFromFolder) { %\x3e\x3cdiv class\x3d"selectMenu__item designCardMenu__removeFromFolder"\x3e\x3c%- removeFromFolder %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (showRemoveFromAllFolders) { %\x3e\x3cdiv class\x3d"selectMenu__item designCardMenu__removeFromAllFolders"\x3e\x3c%- removeFromAllFolders %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (showRestoreDesign) { %\x3e\x3cdiv class\x3d"selectMenu__item designCardMenu__restoreDesign"\x3e\x3c%- restoreDesign %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (showDeleteForever) { %\x3e\x3cdiv class\x3d"selectMenu__item designCardMenu__deleteForever"\x3e\x3c%- deleteForever %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c% if (showRemoveTemplate) { %\x3e\x3cdiv class\x3d"selectMenu__item designCardMenu__removeTemplate"\x3e\x3c%- removeTemplate %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e');function Xh(){}Xh=Backbone.View.extend({className:"designCardFolderList",tagName:"ul"});Xh.prototype.initialize=function(a){this.Tb=[];this.Y=a.Y};
Xh.prototype.render=function(){function a(a){this.$el.append($(this.Gi({name:a.getName(),link:"/folder/"+a.g()})))}function b(a){return a.getName()||this.Y.format("designCardFolderLabelDefaultName")}var c;this.$el.empty();3>=this.Tb.length?this.Tb.forEach(a,this):(this.Tb.slice(0,2).forEach(a,this),c=this.Tb.slice(2),this.$el.append($(this.Si({moreText:this.Y.format("designCardMoreFolders",c.length),moreTitle:c.map(b,this).join(", ")}))));return this};Xh.prototype.Si=_.template('\x3cli class\x3d"designCardFolder designCardFolderMore"\x3e\x3cspan class\x3d"designCardFolderMoreLink" title\x3d"\x3c%- moreTitle %\x3e"\x3e\x3c%- moreText %\x3e\x3c/span\x3e\x3c/li\x3e');
Xh.prototype.Gi=_.template('\x3cli class\x3d"designCardFolder"\x3e\x3ca class\x3d"designCardFolderLink" href\x3d"\x3c%- link %\x3e" title\x3d"\x3c%- name %\x3e"\x3e\x3c%- name %\x3e\x3c/a\x3e\x3c/li\x3e');var Yh=Xh;function Zh(a){a=_.map(a,function(a,c){if(void 0!==a)return[encodeURIComponent(c),encodeURIComponent(a)].join("\x3d")});a=_.flatten(a).join("\x26");return window.signupLink||"/signup"+(a?"?"+a:"")};function $h(){}$h=Backbone.View.extend({className:"button buttonLike buttonSmall"});e=$h.prototype;e.attributes=function(){return{tabindex:0}};e.events=function(){return{click:this.$c}};e.initialize=function(a){this.fb=a.fb;this.na=a.na;this.F=a.F;this.aa=a.aa;this.N=a.N;this.pa=a.pa};e.Qe=function(){return window.location.pathname+window.location.search};
e.Sc=function(){var a=this;this.F=!0;this.aa++;this.render();Kg(this.N,new bf({ua:this.fb,type:"DOCUMENT"})).catch(function(){a.F=!1;a.aa--;a.render();a.trigger("unlike")});this.trigger("like")};e.navigate=function(a){window.location=a};e.$c=function(){this.$el.removeClass("buttonLike--noAnimation");this.na?this.navigate(Zh({loginRedirect:this.Qe()})):this.F?ai(this):this.Sc()};
e.render=function(){if(1>this.$el.children().length)this.$el.html(this.template(this.he())),this.$el.addClass("buttonLike--noAnimation");else if(this.Ue()){var a=this.F?this.pa.Sc():this.pa.ua();this.$(".buttonLike__text").attr("data-alternate-text",a)}this.$(".buttonLike__text").html(this.qj(this.he()));this.$el.toggleClass("buttonActive",this.F);this.$el.toggleClass("buttonLike__firstLike",this.Ue());return this};
e.he=function(){return{isFirstLike:this.Ue(),likedByMe:this.F,likerCount:this.aa,likeLabel:this.pa.Sc(),likedLabel:this.pa.ua()}};e.Ue=function(){return 1>this.aa-this.F};e.template=_.template('\x3cspan class\x3d"buttonLike__fill"\x3e\x3c/span\x3e\x3cspan class\x3d"buttonLike__icon"\x3e\x3c/span\x3e\x3cspan class\x3d"buttonLike__text"\x3c% if (isFirstLike) { %\x3e data-alternate-text\x3d"\x3c%- likedByMe ? likeLabel : likedLabel %\x3e"\x3c% } %\x3e\x3e\x3c/span\x3e');e.qj=_.template("\x3c% if (isFirstLike) { %\x3e\x3c%- likedByMe ? likedLabel : likeLabel %\x3e\x3c% } else { %\x3e\x3c%- likerCount %\x3e\x3c% } %\x3e");
function ai(a){a.F=!1;a.aa--;a.render();Lg(a.N,new ff({ua:a.fb})).catch(function(){a.F=!0;a.aa++;a.render();a.trigger("like")});a.trigger("unlike")}var bi=$h;var ci=new function(){"undefined"!==typeof window&&window.navigator.userAgent.match(/Macintosh/);this.ki=255};function di(a,b,c){a=a.trim();if(a.length<=b)return a;void 0===c&&(c="");var d=a.substr(0,b-c.length),f=a.substr(b-c.length).match(/^\S+/),g=d.match(/\S+$/);g&&f&&(d=d.substr(0,d.length-g[0].length));d=d.trim();""===d&&(d=a.substr(0,b-c.length));return d=d.trim()+c};function ei(a,b,c){this.text=b||null;b=tc(a);this.text&&this.text.toLocaleLowerCase()===b.format("documentUntitledDesign").toLocaleLowerCase()&&(this.text=null);this.wc=c||null;this.i=a}ei.prototype.on=Backbone.Events.on;ei.prototype.off=Backbone.Events.off;ei.prototype.trigger=Backbone.Events.trigger;function fi(a){var b=a.text||tc(a.i).format("documentUntitledDesign");a.wc&&(null===a.text||""===a.text)&&(b=a.wc+"  "+b);return b};function gi(a){soy.asserts.assertType(goog.isBoolean(a.rc)||1===a.rc||0===a.rc,"brandIsPublic",a.rc,"boolean");var b=!!a.rc;soy.asserts.assertType(goog.isNumber(a.ya),"commentCount",a.ya,"number");soy.asserts.assertType(goog.isString(a.Ab)||a.Ab instanceof goog.soy.data.SanitizedContent,"commentsLink",a.Ab,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isBoolean(a.ka)||1===a.ka||0===a.ka,"editingTitle",a.ka,"boolean");soy.asserts.assertType(goog.isBoolean(a.Kc)||1===a.Kc||0===
a.Kc,"isForSale",a.Kc,"boolean");var c=!!a.Kc;soy.asserts.assertType(goog.isBoolean(a.Lc)||1===a.Lc||0===a.Lc,"isOwner",a.Lc,"boolean");var d=!!a.Lc;soy.asserts.assertType(goog.isBoolean(a.Mc)||1===a.Mc||0===a.Mc,"isPublic",a.Mc,"boolean");var f=!!a.Mc;soy.asserts.assertType(goog.isBoolean(a.Nc)||1===a.Nc||0===a.Nc,"isUnderReview",a.Nc,"boolean");var g=!!a.Nc;soy.asserts.assertType(goog.isBoolean(a.Na)||1===a.Na||0===a.Na,"isViewOnly",a.Na,"boolean");var h=!!a.Na;soy.asserts.assertType(goog.isBoolean(a.Zc)||
1===a.Zc||0===a.Zc,"newMenuDesign",a.Zc,"boolean");var l=!!a.Zc;soy.asserts.assertType(null==a.Fb||goog.isObject(a.Fb),"ownerModel",a.Fb,"null|undefined|{avatarUrl: string, displayName: string, username: string}");soy.asserts.assertType(goog.isBoolean(a.ra)||1===a.ra||0===a.ra,"showEditTitle",a.ra,"boolean");soy.asserts.assertType(goog.isBoolean(a.Ka)||1===a.Ka||0===a.Ka,"showFolders",a.Ka,"boolean");var k=!!a.Ka;soy.asserts.assertType(goog.isBoolean(a.wa)||1===a.wa||0===a.wa,"showSocialSection",
a.wa,"boolean");var q=!!a.wa;soy.asserts.assertType(goog.isBoolean(a.Pa)||1===a.Pa||0===a.Pa,"showVisibilityIcon",a.Pa,"boolean");var v=!!a.Pa;soy.asserts.assertType(goog.isString(a.hc)||a.hc instanceof goog.soy.data.SanitizedContent,"stateBrandPublic",a.hc,"string|goog.soy.data.SanitizedContent");var y=a.hc;soy.asserts.assertType(goog.isString(a.ic)||a.ic instanceof goog.soy.data.SanitizedContent,"stateForSale",a.ic,"string|goog.soy.data.SanitizedContent");var W=a.ic;soy.asserts.assertType(goog.isString(a.jc)||
a.jc instanceof goog.soy.data.SanitizedContent,"statePublic",a.jc,"string|goog.soy.data.SanitizedContent");var X=a.jc;soy.asserts.assertType(goog.isString(a.kc)||a.kc instanceof goog.soy.data.SanitizedContent,"stateUnderReview",a.kc,"string|goog.soy.data.SanitizedContent");var Za=a.kc;soy.asserts.assertType(goog.isString(a.lc)||a.lc instanceof goog.soy.data.SanitizedContent,"stateViewOnly",a.lc,"string|goog.soy.data.SanitizedContent");var $a=a.lc;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof
goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(goog.isString(a.re)||a.re instanceof goog.soy.data.SanitizedContent,"viewOnlyIconText",a.re,"string|goog.soy.data.SanitizedContent");var ja=a.re;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designCard__clickBarrier"\x3e\x3c/div\x3e\x3cdiv class\x3d"designCardThumbnailContainer"\x3e'+(l?'\x3cbutton class\x3d"button buttonSmall designCardMenuTrigger"\x3e\x3c/button\x3e':
"")+(d&&g?'\x3cdiv class\x3d"designCard__statusIndicatorIcon designCardUnderReviewIcon" title\x3d"'+soy.$$escapeHtmlAttribute(Za)+'"\x3e\x3c/div\x3e':c?'\x3cdiv class\x3d"designCard__statusIndicatorIcon designCardForSaleIcon" title\x3d"'+soy.$$escapeHtmlAttribute(W)+'"\x3e\x3c/div\x3e':v?b?'\x3cdiv class\x3d"designCard__statusIndicatorIcon designCardBrandPublicIcon" title\x3d"'+soy.$$escapeHtmlAttribute(y)+'"\x3e\x3c/div\x3e':f?'\x3cdiv class\x3d"designCard__statusIndicatorIcon designCardPublicIcon" title\x3d"'+
soy.$$escapeHtmlAttribute(X)+'"\x3e\x3c/div\x3e':"":h?'\x3cdiv class\x3d"designCard__statusIndicatorText designCardViewOnlyIcon" title\x3d"'+soy.$$escapeHtmlAttribute($a)+'"\x3e'+soy.$$escapeHtml(ja)+"\x3c/div\x3e":"")+"\x3c/div\x3e"+hi(a)+(k?'\x3cdiv class\x3d"designCard__folderListContainer"\x3e\x3c/div\x3e':"")+(q?ii(a):""))}
function hi(a){soy.asserts.assertType(null==a.Fb||goog.isObject(a.Fb),"ownerModel",a.Fb,"null|undefined|{avatarUrl: string, displayName: string, username: string}");var b=a.Fb;soy.asserts.assertType(goog.isBoolean(a.ka)||1===a.ka||0===a.ka,"editingTitle",a.ka,"boolean");var c=!!a.ka;soy.asserts.assertType(goog.isBoolean(a.ra)||1===a.ra||0===a.ra,"showEditTitle",a.ra,"boolean");var d=!!a.ra;soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,
"string|goog.soy.data.SanitizedContent");a=a.title;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cfigcaption class\x3d"designCard__titleSection"\x3e'+(b?ji(b):"")+'\x3cdiv class\x3d"designCardTitle'+(d?" editable":"")+(c?" editing":"")+'" title\x3d"'+soy.$$escapeHtmlAttribute(a)+'"\x3e'+(c?'\x3cinput type\x3d"text" value\x3d"'+soy.$$escapeHtmlAttribute(a)+'" /\x3e':soy.$$escapeHtml(a))+"\x3c/div\x3e\x3c/figcaption\x3e")}
function ji(a){soy.asserts.assertType(goog.isString(a.username)||a.username instanceof goog.soy.data.SanitizedContent,"username",a.username,"string|goog.soy.data.SanitizedContent");var b=a.username;soy.asserts.assertType(goog.isString(a.Ra)||a.Ra instanceof goog.soy.data.SanitizedContent,"avatarUrl",a.Ra,"string|goog.soy.data.SanitizedContent");var c=a.Ra;soy.asserts.assertType(goog.isString(a.displayName)||a.displayName instanceof goog.soy.data.SanitizedContent,"displayName",a.displayName,"string|goog.soy.data.SanitizedContent");
a=a.displayName;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3ca class\x3d"designCardOwner" href\x3d"/'+soy.$$escapeHtmlAttribute(b)+'"\x3e\x3cimg src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(c))+'"\x3e'+soy.$$escapeHtml(a)+"\x3c/a\x3e")}
function ii(a){soy.asserts.assertType(goog.isNumber(a.ya),"commentCount",a.ya,"number");var b=a.ya;soy.asserts.assertType(goog.isString(a.Ab)||a.Ab instanceof goog.soy.data.SanitizedContent,"commentsLink",a.Ab,"string|goog.soy.data.SanitizedContent");return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designCard__socialSection"\x3e\x3ca class\x3d"designCard__commentsLink" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(a.Ab))+'"\x3e\x3cdiv class\x3d"designCard__commentsIconContainer"\x3e'+
soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"14px" height\x3d"14px" viewBox\x3d"0 0 14 14" version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cg stroke\x3d"none" stroke-width\x3d"1" fill-rule\x3d"evenodd"\x3e\x3cg transform\x3d"translate(-590.000000, -471.000000)"\x3e\x3cg transform\x3d"translate(575.000000, 114.000000)"\x3e\x3cpath d\x3d"M22,357 C18.13425,357 15,359.742687 15,363.125 C15,365.058312 16.0259375,366.779875 17.625,367.902062 L17.625,371 L20.6914375,369.139313 C21.1158125,369.209312 21.5524375,369.25 22,369.25 C25.86575,369.25 29,366.50775 29,363.125 C29,359.742687 25.86575,357 22,357" transform\x3d"translate(22.000000, 364.000000) scale(-1, 1) translate(-22.000000, -364.000000) "\x3e\x3c/path\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e')+
"\x3c/div\x3e"+(0<b?'\x3cspan class\x3d"designCard__commentsLinkText"\x3e'+soy.$$escapeHtml(b)+"\x3c/span\x3e":"")+"\x3c/a\x3e\x3c/div\x3e")}
function ki(a){soy.asserts.assertType(goog.isString(a.title)||a.title instanceof goog.soy.data.SanitizedContent,"title",a.title,"string|goog.soy.data.SanitizedContent");var b=a.title;soy.asserts.assertType(goog.isString(a.yd)||a.yd instanceof goog.soy.data.SanitizedContent,"callToAction",a.yd,"string|goog.soy.data.SanitizedContent");a=a.yd;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"designCard__generatingPreview"\x3e\x3cdiv class\x3d"designCard__generatingPreviewContent"\x3e\x3cp\x3e\x3cstrong\x3e'+soy.$$escapeHtml(b)+
"\x3c/strong\x3e\x3cbr\x3e\x3cem\x3e"+soy.$$escapeHtml(a)+"\x3c/em\x3e\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e")};function li(){}li=Backbone.View.extend({className:"designCard",tagName:"figure"});e=li.prototype;e.initialize=function(a){this.o=a.o||null;this.Lb=!!a.Lb;this.X=a.X;this.Vb=a.Vb;this.Ec=a.Ec;this.Od=a.Od;this.Te=a.Te;this.We=a.We;this.Na=a.Na;this.bc=null;this.Nb=a.Nb;this.G=a.G;this.Ka=!!a.Ka;this.jd=!!a.jd;this.wa=!!a.wa;this.Pa=!!a.Pa;this.ra=!!a.ra;this.item=a.item;this.N=a.N;this.i=a.i;this.ka=!1};
e.events=function(){return{"click .designCard__clickBarrier":this.hf,"click .designCardThumbnail":this.bd,"click .designCardTitle \x3e .more":this.Di,"click .designCardTitle":this.oj,"keydown .designCardTitle input":this.Zi,"blur .designCardTitle input":this.yf.bind(this,!0),"click .designCardMenuTrigger":this.hf}};e.Di=function(a){a.preventDefault();a=this.$(".designCardTitle");var b=a.data("fullText");void 0!==b&&a.text(b).removeData("fullText")};
e.oj=function(a){!this.ra||window.getSelection().toString().length||this.ka||this.$el.hasClass("titleEditPending")||this.$el.hasClass("designCardTrashed")||(this.ka=!0,a.preventDefault(),this.render(),this.$el.find(".designCardTitle input").select())};e.yf=function(a){if(this.ka){this.ka=!1;var b=di(this.$el.find(".designCardTitle input").val().toString(),ci.ki,"");a&&b!==this.item.getName()&&b!==fi(new ei(this.i,this.item.getName()))&&this.trigger("editTitle",b);this.render()}};
e.Zi=function(a){switch(a.keyCode){case 13:this.yf(!0);break;case 27:this.yf(!1)}};
e.hf=function(){function a(a){this.trigger(a);this.o&&Vb(this.o,a,"design_card_menu")}this.Nb&&(this.bc&&this.stopListening(this.bc),this.bc=this.Nb(),this.listenTo(this.bc,{copy:a.bind(this,"copy"),trash:a.bind(this,"trash"),removeFromFolder:a.bind(this,"removeFromFolder"),removeFromAllFolders:a.bind(this,"removeFromAllFolders"),restore:a.bind(this,"restore"),deleteForever:a.bind(this,"deleteForever"),editTemplate:a.bind(this,"editTemplate"),removeTemplate:a.bind(this,"removeTemplate")}),Sh(this.bc,
this.$(".designCardMenuTrigger")),this.$(".designCardMenuTrigger").toggleClass("pointLeft","rightTop"===this.bc.getCurrentPosition()),this.o&&Vb(this.o,"design_card_menu","design_card"))};e.bd=function(){this.Lb?this.hf():this.trigger("thumbnailClick")};e.Ha=function(){return this.$(".designCardThumbnail")};
e.render=function(){Q(!this.wa||!!this.Ec,"Cannot render social section without getCommentsLink.");Q(!this.wa||!!this.X,"Cannot render social section without currentUser.");var a=ya(Xg(this.item),"items must have socialMetadata"),b="OWNER"===a.bf,c=vc(this.i);this.$el.data("id",this.item.g());this.$el.html(gi({rc:!!a.Ae,ya:a.ya,Ab:this.Ec?this.Ec().href:"",ka:this.ka,Kc:"APPROVED"==this.item.marketplaceStatus,Lc:b,Mc:!!a.pf,Nc:"UNDER_REVIEW"==this.item.marketplaceStatus,Na:this.Na,Zc:void 0!==this.Nb,
Fb:this.jd?mi(this):void 0,ra:this.ra,Ka:!!this.Ka,wa:this.wa,Pa:this.Pa,hc:c.hc(),ic:c.ic(),jc:c.jc(),kc:c.kc(),lc:c.lc(),title:fi(new ei(this.i,this.item.getName())),re:c.format("designCardViewOnlyIcon")}).toString());a=this.$(".designCardTitle");b=a.text().trim();c=di(b,100);b!=c&&a.data("fullText",b).text(c+" ").append('\x3cbutton class\x3d"more" tabindex\x3d"-1"\x3eSeemore\x3c/button\x3e');this.$el.toggleClass("designCardOwnerVisible",this.jd);this.$el.toggleClass("designCard--clickTriggersMenu",
this.Lb);ni(this);this.Ka&&(a=this.$(".designCard__folderListContainer"),Q(a,'Cannot render the folder list without a ".designCard__folderListContainer"'),this.Ke||(this.Ke=new Yh({Y:vc(this.i)})),this.Ke.delegateEvents(),this.Ke.render().$el.appendTo(a));this.wa&&(this.oa=new bi({fb:this.item.g(),na:this.X.na(),F:Xg(this.item).F,aa:Xg(this.item).aa,N:this.N,pa:xc(this.i)}),this.oa.render().$el.appendTo(this.$(".designCard__socialSection")));return this};
function mi(a){Q(!!a.G,"Cannot build owner model without an owner User");return{Ra:a.G.Se(),displayName:a.G.Aa(),username:a.G.H()}}
function ni(a){var b=$("\x3ca\x3e").addClass("designCardThumbnail");if(!a.Lb){var c=a.Vb();b.attr("href",c.href);c.aj&&b.attr("target","_blank")}b.css({backgroundImage:"url('"+a.Od()+"')",paddingBottom:100/function(){var b=a.item.Ha();return b.Z()/b.O()}()+"%"});a.We&&(c=vc(a.i),b.append(ki({title:c.format("designCardGeneratingPreview"),yd:c.format("designCardGeneratingPreviewAction")}).toString()),b.toggleClass("designCard--hasGeneratedThumbnail",a.Te));a.$(".designCardThumbnailContainer").prepend(b)}
var oi=li;var pi={uj:"edit",wj:"remix",xj:"render",zj:"screen",Aj:"share",Dj:"view"};function qi(a,b,c){return location.protocol+"//"+location.host+"/design/"+encodeURIComponent(a)+(c?"/"+encodeURIComponent(c):"")+(b?"/"+encodeURIComponent(b):"")}function ri(a){a=a.split("?")[0].split("/").pop();for(var b=Object.keys(pi).map(function(a){return pi[a]}),c=0;c<b.length;c++){var d=b[c];if(a===d)return d}return null}
function si(a){return qi(a,"view",null)+"?"+["utm_content\x3d"+encodeURIComponent(a),"utm_campaign\x3d"+encodeURIComponent("designshare"),"utm_medium\x3d"+encodeURIComponent("embeds"),"utm_source\x3d"+encodeURIComponent("link")].join("\x26")};function ti(a){var b=ui.bind(null,a.item),c=vi.bind(null,a.item);this.X=a.X;this.ti=a.ti||null;this.item=a.item;var d=a.o,f=a.Lb,g=a.Nb,h=this.X,l=a.Vb,b=a.Od||b,k=0<a.item.Ha().getVersion(),q;q=a.item;var v=q.getDocument();null==v?q=!1:(v=v.Oe(),q=null==v||null==v.version?!1:v.version>q.Ha().getVersion());this.view=new oi({o:d,Lb:f,Nb:g,X:h,Ec:c,Vb:l,Od:b,Te:k,We:q,Na:!!a.Na,i:a.i,G:a.G,ra:!!a.ra,Ka:!!a.Ka,jd:!!a.jd,wa:!!a.wa,Pa:!!a.Pa,item:a.item,N:a.N});this.listenTo(this.view,{thumbnailClick:this.trigger.bind(this,
"thumbnailClick"),editTitle:this.trigger.bind(this,"editTitle"),copy:this.trigger.bind(this,"copy"),trash:this.trigger.bind(this,"trash"),removeFromFolder:this.trigger.bind(this,"removeFromFolder"),removeFromAllFolders:this.trigger.bind(this,"removeFromAllFolders"),restore:this.trigger.bind(this,"restore"),deleteForever:this.trigger.bind(this,"deleteForever"),editTemplate:this.trigger.bind(this,"editTemplate"),removeTemplate:this.trigger.bind(this,"removeTemplate")})}
function ui(a){return a.Ha().ha()}function vi(a){return{href:qi(a.g(),"view",void 0),aj:!1}}e=ti.prototype;e.listenTo=Backbone.Events.listenTo;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.trigger=Backbone.Events.trigger;e.getElement=function(){return this.view.$el};e.getItem=function(){return this.item};e.render=function(){this.view.render();return this};function wi(){}wi=Backbone.View.extend();wi.li=250;e=wi.prototype;e.initialize=function(a){this.xb=a.xb;this.Wa=a.Wa;this.df=a.df};e.events=function(){return{"click .designCardThumbnail":this.bd,"click .designCard__commentsLink":this.Ui}};e.bd=function(a){if(!(a.ctrlKey||a.metaKey||1<a.which)&&this.df){var b=$(a.currentTarget).closest(".designCard");this.trigger("thumbnailClick",a,b.data("id"))}};
e.Ui=function(a){a.ctrlKey||a.metaKey||1<a.which||(a.preventDefault(),a=$(a.currentTarget).closest(".designCard"),this.trigger("commentsClick",a.data("id")))};e.render=function(){this.$el.append(this.Wa.$el,this.xb.$el);return this};e.qf=function(){this.Wa.qf()};e.Re=function(){return this.Wa.Re()};function xi(a,b){b?a.xb.show():a.xb.hide()}e.yh=function(){return'\x3cp class\x3d"designCardListEmptyMessage"\x3eNo designs found\x3c/p\x3e'};e.zh=function(){return'\x3cp class\x3d"designCardListErrorMessage"\x3eAn error occurred and we weren\'t able to load any designs\x3c/p\x3e'};
e.push=function(a){var b=Array.prototype.slice.call(arguments,0);0!==b.length&&(b=b.map(function(a){return a.render().getElement()[0]}),this.Wa.push($(b)))};e.unshift=function(a){var b=Array.prototype.slice.call(arguments,0);0!==b.length&&(b=b.map(function(a){return a.render().getElement()[0]}),this.Wa.unshift($(b)))};var yi=wi;function zi(){}zi=yi.extend();zi.create=function(a){var b=(new zh).render(),c=Bh({zb:function(a){return Math.floor(a/yi.li)}});return new zi({l:a.l,xb:b,Zb:a.Zb,Wa:c,nc:a.nc})};e=zi.prototype;e.initialize=function(a){yi.prototype.initialize.call(this,{xb:a.xb,Wa:a.Wa,df:!0});this.l=a.l;this.Zb=a.Zb;this.nc=a.nc};e.yh=function(){return this.Ai({emptyMessage:this.Zb?this.l.format("userProfileEmptyDesignListMessageOwnProfile"):this.l.format("userProfileEmptyDesignListMessageOtherProfile",this.nc)})};
e.Ai=_.template('\x3cp class\x3d"designCardListEmptyMessage userDesignsEmpty"\x3e\x3c%- emptyMessage %\x3e\x3c/p\x3e');e.zh=function(){return this.Bi({errorMessage:this.Zb?this.l.format("userProfileDesignListErrorMessageOwnProfile"):this.l.format("userProfileDesignListErrorMessageOtherProfile",this.nc)})};e.Bi=_.template('\x3cp class\x3d"designCardListErrorMessage"\x3e\x3c%- errorMessage %\x3e\x3c/p\x3e');var Ai=zi;function Bi(a){var b;soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var c=a.attributes;soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var d=a.block;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||
goog.isString(a.type),"type",a.type,"null|string|undefined");var f=a.type;soy.asserts.assertType(null==a.j||a.j instanceof goog.soy.data.SanitizedContent||goog.isString(a.j),"classes",a.j,"null|string|undefined");var g=a.j;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var h=a.disabled;soy.asserts.assertType(null==a.href||a.href instanceof goog.soy.data.SanitizedContent||goog.isString(a.href),"href",
a.href,"null|string|undefined");var l=a.href;soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var k=a.id;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");var q=a.small;soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");
var v=a.tagName;soy.asserts.assertType(goog.isString(a.text)||a.text instanceof goog.soy.data.SanitizedContent,"text",a.text,"string|goog.soy.data.SanitizedContent");a=a.text;var y=null==(b=v)?"button":b,c=""+("\x3c"+soy.$$filterHtmlElementName(y)+" "+(c?" "+soy.$$filterHtmlAttributes(c):"")+' type\x3d"'+soy.$$escapeHtmlAttribute(null==(b=f)?"button":b)+'" class\x3d"button'+(d?" buttonBlock":"")+(g?" "+soy.$$escapeHtmlAttribute(g):"")+(h&&"a"==v?" disabled":"")+(q?" buttonSmall":"")+'"'+(l?' href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(l))+'"':"")+(k?' id\x3d"'+soy.$$escapeHtmlAttribute(k)+'"':"")+(h&&"a"!=v?" disabled":"")+"\x3e"+soy.$$escapeHtml(a)+"\x3c/"+soy.$$filterHtmlElementName(y)+"\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(c)};function Ci(a){var b;soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.j||a.j instanceof goog.soy.data.SanitizedContent||goog.isString(a.j),"classes",a.j,"null|string|undefined");
var f=a.j;soy.asserts.assertType(null==a.uc||goog.isBoolean(a.uc)||1===a.uc||0===a.uc,"dark",a.uc,"boolean|null|undefined");var g=a.uc;soy.asserts.assertType(null==a.blur||goog.isBoolean(a.blur)||1===a.blur||0===a.blur,"blur",a.blur,"boolean|null|undefined");a=a.blur;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"mask2'+(d?" mask2--visible":"")+(null==(b=g)||b?" mask2--dark":"")+(null==(b=a)||b?" mask2--blur":"")+(f?" "+soy.$$escapeHtmlAttribute(f):"")+'"\x3e'+soy.$$escapeHtml(c)+
"\x3c/div\x3e")}
function Di(a){var b;a=a||{};soy.asserts.assertType(null==a.content||a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"?soydata.SanitizedHtml|string|undefined");var c=a.content;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var d=a.visible;soy.asserts.assertType(null==a.td||goog.isBoolean(a.td)||1===a.td||0===a.td,"withShadow",
a.td,"boolean|null|undefined");var f=a.td;soy.asserts.assertType(null==a.sd||goog.isBoolean(a.sd)||1===a.sd||0===a.sd,"withRoundedCorners",a.sd,"boolean|null|undefined");var g=a.sd;soy.asserts.assertType(null==a.rd||goog.isBoolean(a.rd)||1===a.rd||0===a.rd,"withCloseButton",a.rd,"boolean|null|undefined");var h=a.rd;soy.asserts.assertType(null==a.j||a.j instanceof goog.soy.data.SanitizedContent||goog.isString(a.j),"classes",a.j,"null|string|undefined");var l=a.j;soy.asserts.assertType(null==a.Bd||
a.Bd instanceof goog.soy.data.SanitizedContent||goog.isString(a.Bd),"contentClasses",a.Bd,"null|string|undefined");a=a.Bd;return soydata.VERY_UNSAFE.ordainSanitizedHtml(Ci({visible:d,j:soydata.$$markUnsanitizedTextForInternalBlocks("dialog2"+(l?" "+l:"")),content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks('\x3cdiv class\x3d"dialog2__container"\x3e\x3cdiv class\x3d"dialog2__box'+(null==(b=f)||b?" dialog2__box--withShadow":"")+(null==(b=g)||b?" dialog2__box--withRoundedBorders":"")+
(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e'+(null==(b=h)||b?'\x3cbutton class\x3d"dialog2__closeButton"\x3e'+soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg viewBox\x3d"0 0 24 24" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3crect fill-opacity\x3d".2" fill\x3d"#000" width\x3d"24" height\x3d"24" rx\x3d"12"/\x3e\x3cpath d\x3d"M4 4h16v16H4"/\x3e\x3cpath fill\x3d"#FFF" d\x3d"M16.5 8.406l-.906-.906L12 11.094 8.406 7.5l-.906.906L11.094 12 7.5 15.594l.906.906L12 12.906l3.594 3.594.906-.906L12.906 12"/\x3e\x3c/g\x3e\x3c/svg\x3e')+
"\x3c/button\x3e":"")+'\x3cdiv class\x3d"dialog2__content"\x3e'+soy.$$escapeHtml(null==(b=c)?"":b)+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")}))};function Ei(a){soy.asserts.assertType(goog.isBoolean(a.F)||1===a.F||0===a.F,"likedByMe",a.F,"boolean");var b=!!a.F;soy.asserts.assertType(goog.isString(a.Ud)||a.Ud instanceof goog.soy.data.SanitizedContent,"likeLabel",a.Ud,"string|goog.soy.data.SanitizedContent");var c=a.Ud;soy.asserts.assertType(goog.isString(a.Vd)||a.Vd instanceof goog.soy.data.SanitizedContent,"likedLabel",a.Vd,"string|goog.soy.data.SanitizedContent");var d=a.Vd,f=goog.asserts.assertNumber(a.aa,"expected parameter 'likerCount' of type int.");
soy.asserts.assertType(null==a.j||a.j instanceof goog.soy.data.SanitizedContent||goog.isString(a.j),"classes",a.j,"null|string|undefined");a=a.j;var g=b?1==f:0==f,b=""+('\x3cdiv class\x3d"button buttonLike'+(g?" buttonLike--firstLike":"")+(b?" buttonActive":"")+(a?" "+soy.$$escapeHtmlAttribute(a):"")+'"\x3e\x3cspan class\x3d"buttonLike__fill"\x3e\x3c/span\x3e\x3cspan class\x3d"buttonLike__icon"\x3e\x3c/span\x3e\x3cspan class\x3d"buttonLike__text '+(g?b?" buttonLike__text--liked ":"buttonLike__text--like":
"")+'" data-like-msg\x3d"'+soy.$$escapeHtmlAttribute(c)+'" data-liked-msg\x3d"'+soy.$$escapeHtmlAttribute(d)+'" data-like-count\x3d"'+soy.$$escapeHtmlAttribute(f)+'"\x3e\x3c/span\x3e\x3c/div\x3e');return soydata.VERY_UNSAFE.ordainSanitizedHtml(b)};function Fi(a){soy.asserts.assertType(goog.isString(a.ta)||a.ta instanceof goog.soy.data.SanitizedContent,"errorText",a.ta,"string|goog.soy.data.SanitizedContent");var b=a.ta;soy.asserts.assertType(null==a.frames||goog.isArray(a.frames),"frames",a.frames,"?Array\x3c{errorText: string, previewSrc: (null|string|undefined), thumbnailSrc: (null|string|undefined), unvailableText: string, visible: (boolean|null|undefined)}\x3e|undefined");var c=a.frames;soy.asserts.assertType(null==a.Oa||goog.isBoolean(a.Oa)||
1===a.Oa||0===a.Oa,"loading",a.Oa,"boolean|null|undefined");var d=a.Oa;soy.asserts.assertType(a.Ya instanceof soydata.SanitizedHtml||a.Ya instanceof soydata.UnsanitizedText||goog.isString(a.Ya),"pagination",a.Ya,"soydata.SanitizedHtml");var f=a.Ya;soy.asserts.assertType(a.sidebar instanceof soydata.SanitizedHtml||a.sidebar instanceof soydata.UnsanitizedText||goog.isString(a.sidebar),"sidebar",a.sidebar,"soydata.SanitizedHtml");a=a.sidebar;d='\x3cdiv class\x3d"lightbox'+(null==d||d?" lightbox--loading":
"")+'" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"lightbox__frames"\x3e';if(c)for(var g=c.length,h=0;h<g;h++)d+=Gi(c[h],void 0);d+='\x3cdiv class\x3d"lightbox__framesBackstop"\x3e\x3c/div\x3e'+soy.$$escapeHtml(f)+'\x3cdiv class\x3d"lightbox__error lightbox__documentError"\x3e'+soy.$$escapeHtml(b)+'\x3c/div\x3e\x3cdiv class\x3d"lightbox__loadingIndicator"\x3e\x3c/div\x3e\x3c/div\x3e'+soy.$$escapeHtml(a)+"\x3c/div\x3e";return soydata.VERY_UNSAFE.ordainSanitizedHtml(d)}
function Hi(a){var b;a=a||{};soy.asserts.assertType(null==a.title||a.title instanceof goog.soy.data.SanitizedContent||goog.isString(a.title),"title",a.title,"null|string|undefined");var c=a.title;soy.asserts.assertType(null==a.La||a.La instanceof soydata.SanitizedHtml||a.La instanceof soydata.UnsanitizedText||goog.isString(a.La),"byline",a.La,"?soydata.SanitizedHtml|string|undefined");var d=a.La;soy.asserts.assertType(null==a.oa||goog.isObject(a.oa),"likeButton",a.oa,"null|undefined|{likeLabel: string, likedByMe: boolean, likedLabel: string, likerCount: number}");
var f=a.oa;soy.asserts.assertType(null==a.gb||goog.isObject(a.gb),"editButton",a.gb,"null|undefined|{label: string, url: string}");var g=a.gb;soy.asserts.assertType(null==a.rb||goog.isObject(a.rb),"remixButton",a.rb,"null|undefined|{label: string, url: string}");a=a.rb;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cheader class\x3d"lightbox__header"\x3e\x3ch1 class\x3d"lightbox__title"\x3e'+soy.$$escapeHtml(null==(b=c)?"":b)+'\x3c/h1\x3e\x3cp class\x3d"lightbox__byline"\x3e'+soy.$$escapeHtml(null==
(b=d)?"":b)+'\x3c/h1\x3e\x3csection class\x3d"lightbox__actionButtons"\x3e'+(g?Ii(soy.$$assignDefaults({j:"lightbox__actionButton--edit"},g)):'\x3cspan class\x3d"lightbox_editButtonPlaceholder"\x3e\x3c/span\x3e')+(a?Ii(soy.$$assignDefaults({j:"lightbox__actionButton--remix"},a)):'\x3cspan class\x3d"lightbox_remixButtonPlaceholder"\x3e\x3c/span\x3e')+(f?Ei(soy.$$assignDefaults({j:"lightbox__actionButton lightbox__likeButton"},f)):'\x3cspan class\x3d"lightbox__likeButtonPlaceholder"\x3e\x3c/span\x3e')+
"\x3csection\x3e\x3c/header\x3e")}
function Ii(a){soy.asserts.assertType(goog.isString(a.url)||a.url instanceof goog.soy.data.SanitizedContent,"url",a.url,"string|goog.soy.data.SanitizedContent");var b=a.url;soy.asserts.assertType(goog.isString(a.label)||a.label instanceof goog.soy.data.SanitizedContent,"label",a.label,"string|goog.soy.data.SanitizedContent");var c=a.label;soy.asserts.assertType(null==a.j||a.j instanceof goog.soy.data.SanitizedContent||goog.isString(a.j),"classes",a.j,"null|string|undefined");a=a.j;return soydata.VERY_UNSAFE.ordainSanitizedHtml(Bi({tagName:"a",
small:!0,href:b,text:c,j:soydata.$$markUnsanitizedTextForInternalBlocks("lightbox__actionButton"+(a?" "+a:"")),attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('title\x3d"'+soy.$$escapeHtmlAttribute(c)+'" target\x3d"_blank"')}))}
function Gi(a,b){b=b||{};soy.asserts.assertType(goog.isString(a.ta)||a.ta instanceof goog.soy.data.SanitizedContent,"errorText",a.ta,"string|goog.soy.data.SanitizedContent");var c=a.ta;soy.asserts.assertType(null==a.ed||a.ed instanceof goog.soy.data.SanitizedContent||goog.isString(a.ed),"previewSrc",a.ed,"null|string|undefined");var d=a.ed;soy.asserts.assertType(null==a.ld||a.ld instanceof goog.soy.data.SanitizedContent||goog.isString(a.ld),"thumbnailSrc",a.ld,"null|string|undefined");var f=a.ld;
soy.asserts.assertType(goog.isString(a.oe)||a.oe instanceof goog.soy.data.SanitizedContent,"unavailableText",a.oe,"string|goog.soy.data.SanitizedContent");var g=a.oe;soy.asserts.assertType(null==a.visible||goog.isBoolean(a.visible)||1===a.visible||0===a.visible,"visible",a.visible,"boolean|null|undefined");var h=a.visible;soy.asserts.assertType(null==a.be||a.be instanceof goog.soy.data.SanitizedContent||goog.isString(a.be),"previewAltText",a.be,"null|string|undefined");var l=a.be;soy.asserts.assertType(null==
a.ce||a.ce instanceof goog.soy.data.SanitizedContent||goog.isString(a.ce),"previewCaption",a.ce,"null|string|undefined");a=a.ce;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"lightbox__frame'+(h?" lightbox__frame--visible":"")+(d?"":" lightbox__frame--unavailable")+'"\x3e\x3cimg class\x3d"lightbox__imageLoader lightbox__thumbnailLoader"'+(f?' src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(f))+'"':"")+'\x3e\x3cdiv class\x3d"lightbox__image lightbox__thumbnail"'+
(f?' style\x3d"'+(b.Sa?"/*"+b.Sa+"*/":"")+"background-image: url("+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(f))+');"':"")+'\x3e\x3c/div\x3e\x3cfigure\x3e\x3cimg class\x3d"lightbox__imageLoader lightbox__previewLoader"'+(d?' src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(d))+'"':"")+(l?' alt\x3d"'+soy.$$escapeHtmlAttribute(l)+'"':"")+'\x3e\x3cdiv class\x3d"lightbox__image lightbox__preview"'+(d?' style\x3d"'+(b.Sa?"/*"+b.Sa+"*/":"")+"background-image: url("+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(d))+
');"':"")+"\x3e\x3c/div\x3e"+(a?'\x3cfigcaption class\x3d"lightbox__frameCaption"\x3e'+soy.$$escapeHtml(a)+"\x3c/figcaption\x3e":"")+'\x3c/figure\x3e\x3cp class\x3d"lightbox__error lightbox__frameError"\x3e'+soy.$$escapeHtml(c)+'\x3c/p\x3e\x3cp class\x3d"lightbox__error lightbox__frameUnavailable"\x3e'+soy.$$escapeHtml(g)+"\x3c/p\x3e\x3c/div\x3e")};function Ji(a){this.$el=a}Ji.prototype.remove=function(){this.$el.remove()};function Y(a){this.$el=a;this.ac={}}Y.prototype.remove=function(){this.$el.off();this.$el.remove()};Y.prototype.on=function(a,b){O(!this.ac[a],"listener already registered for event {}",a);this.ac[a]=b};Y.prototype.off=function(a,b){null==a?this.ac={}:null!=b&&this.ac[a]!=b||delete this.ac[a]};Y.prototype.trigger=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];(d=this.ac[a])&&d.apply(null,[].concat(r(c)))};function Ki(a){var b;b={};soy.asserts.assertType(null==a.j||a.j instanceof goog.soy.data.SanitizedContent||goog.isString(a.j),"classes",a.j,"null|string|undefined");var c=a.j;soy.asserts.assertType(goog.isString(a.url)||a.url instanceof goog.soy.data.SanitizedContent,"url",a.url,"string|goog.soy.data.SanitizedContent");a=a.url;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"avatar'+(c?" "+soy.$$escapeHtmlAttribute(c):"")+'" style\x3d"'+(b.Sa?"/*"+b.Sa+"*/":"")+"background-image: url("+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(a))+');"\x3e\x3c/div\x3e')};function Li(a){a=a||{};soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");soy.asserts.assertType(null==a.j||a.j instanceof goog.soy.data.SanitizedContent||goog.isString(a.j),
"classes",a.j,"null|string|undefined");soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,"null|string|undefined");soy.asserts.assertType(null==
a.placeholder||a.placeholder instanceof goog.soy.data.SanitizedContent||goog.isString(a.placeholder),"placeholder",a.placeholder,"null|string|undefined");soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");var b=a.tagName;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||goog.isString(a.type),"type",a.type,"null|string|undefined");soy.asserts.assertType(null==
a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");soy.asserts.assertType(null==a.value||a.value instanceof goog.soy.data.SanitizedContent||goog.isString(a.value),"value",a.value,"null|string|undefined");var c=a.value,b=null==b?"input":b;a=""+("textarea"==b?"\x3ctextarea "+Mi(a)+"\x3e"+(c?soy.$$escapeHtmlRcdata(c):"")+"\x3c/textarea\x3e":"\x3c"+soy.$$filterHtmlElementName(b)+" "+Mi(a)+"\x3e");return soydata.VERY_UNSAFE.ordainSanitizedHtml(a)}
function Mi(a){a=a||{};soy.asserts.assertType(null==a.attributes||a.attributes instanceof soydata.SanitizedHtmlAttribute||a.attributes instanceof soydata.UnsanitizedText||goog.isString(a.attributes),"attributes",a.attributes,"?soydata.SanitizedHtmlAttribute|string|undefined");var b=a.attributes;soy.asserts.assertType(null==a.block||goog.isBoolean(a.block)||1===a.block||0===a.block,"block",a.block,"boolean|null|undefined");var c=a.block;soy.asserts.assertType(null==a.j||a.j instanceof goog.soy.data.SanitizedContent||
goog.isString(a.j),"classes",a.j,"null|string|undefined");var d=a.j;soy.asserts.assertType(null==a.disabled||goog.isBoolean(a.disabled)||1===a.disabled||0===a.disabled,"disabled",a.disabled,"boolean|null|undefined");var f=a.disabled;soy.asserts.assertType(null==a.id||a.id instanceof goog.soy.data.SanitizedContent||goog.isString(a.id),"id",a.id,"null|string|undefined");var g=a.id;soy.asserts.assertType(null==a.name||a.name instanceof goog.soy.data.SanitizedContent||goog.isString(a.name),"name",a.name,
"null|string|undefined");var h=a.name;soy.asserts.assertType(null==a.placeholder||a.placeholder instanceof goog.soy.data.SanitizedContent||goog.isString(a.placeholder),"placeholder",a.placeholder,"null|string|undefined");var l=a.placeholder;soy.asserts.assertType(null==a.tagName||a.tagName instanceof goog.soy.data.SanitizedContent||goog.isString(a.tagName),"tagName",a.tagName,"null|string|undefined");var k=a.tagName;soy.asserts.assertType(null==a.type||a.type instanceof goog.soy.data.SanitizedContent||
goog.isString(a.type),"type",a.type,"null|string|undefined");var q=a.type;soy.asserts.assertType(null==a.small||goog.isBoolean(a.small)||1===a.small||0===a.small,"small",a.small,"boolean|null|undefined");var v=a.small;soy.asserts.assertType(null==a.value||a.value instanceof goog.soy.data.SanitizedContent||goog.isString(a.value),"value",a.value,"null|string|undefined");a=a.value;return soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute((b?" "+soy.$$filterHtmlAttributes(b):"")+' class\x3d"textInput'+
(c?" textInputBlock":"")+(d?" "+soy.$$escapeHtmlAttribute(d):"")+(v?" textInputSmall":"")+'"'+(f?" disabled":"")+(g?' id\x3d"'+soy.$$escapeHtmlAttribute(g)+'"':"")+(h?' name\x3d"'+soy.$$escapeHtmlAttribute(h)+'"':"")+(l?' placeholder\x3d"'+soy.$$escapeHtmlAttribute(l)+'"':"")+("textarea"!=k?' type\x3d"'+soy.$$escapeHtmlAttribute(null==q?"text":q)+'"'+(a?' value\x3d"'+soy.$$escapeHtmlAttribute(a)+'"':""):""))};function Ni(a){var b=this;Backbone.View.call(this,{el:a.el,events:{"mouseover li":function(a){return $(a.currentTarget).addClass("hovering")},"mouseout li":function(a){return $(a.currentTarget).removeClass("hovering")},"hover li.selectable":function(a){b.Ve||b.trigger("hover",$(a.currentTarget).index()-$(a.currentTarget).prevAll("li").not(".selectable").length)},"mouseup li.selectable":function(a){b.trigger("trigger",$(a.currentTarget).index()-$(a.currentTarget).prevAll("li").not(".selectable").length,
a)},"click li:not(.selectable)":function(){b.trigger("clickNonSelectable")}}});this.Ve=!1;this.xf=_.debounce(this.xf,500);this.Yd=this.Yd.bind(this);$(document).on("keydown",this.Yd)}t(Ni,Backbone.View);function Oi(a){var b=$(Pi({className:a.className?" "+a.className:""}));a=a.elements.map(function(a){return $("\x3cli\x3e").toggleClass("selectable",a.Ch).toggleClass("toolbar__menuHeader",a.Ni).append(a.element)});var c;(c=b.find("ul")).append.apply(c,[].concat(r(a)));return new Ni({el:b[0]})}e=Ni.prototype;
e.select=function(a){this.$("li.active").removeClass("active");this.$("li.selectable").eq(a).addClass("active")};e.ge=function(a){var b=this.$("li.active").position().top,c=this.$(".menuList__inner"),d=this.$el.outerHeight(),b=c.scrollTop()+b-d/2;a?c.scrollTop(b):c.stop().animate({scrollTop:b},100)};e.remove=function(){$(document).off("keydown",this.Yd);Backbone.View.prototype.remove.call(this)};e.xf=function(){this.Ve=!1};
e.Yd=function(a){if("visible"===this.$el.css("visibility")){this.Ve=!0;this.xf();if(38===a.which)this.trigger("keyUp",a);else if(40===a.which)this.trigger("keyDown",a);else if(9===a.which&&a.shiftKey)this.trigger("keyShiftTab",a);else if(9===a.which)this.trigger("keyTab",a);else if(13===a.which)this.trigger("keyEnter",a);else if(27===a.which)this.trigger("keyEsc",a);else return;a.preventDefault();return!1}};function Qi(a){this.element=a instanceof jQuery?a:$(a);this.Ch=!0;this.Ni=!1}var Pi=_.template('\n  \x3cdiv class\x3d"menuList\x3c%- className %\x3e"\x3e\n    \x3cul class\x3d"menuList__inner"\x3e\x3c/ul\x3e\n  \x3c/div\x3e\n');function Ri(a){var b=this;this.index=a.index;this.$a=a.$a;this.view=a.view;this.listenTo(this.view,{keyUp:function(){return Si(b,!1)},keyDown:function(){return Ti(b,!1)},keyTab:function(){return Ti(b,!0)},keyShiftTab:function(){return Si(b,!0)},keyEnter:function(a){return Ui(b,a)},keyEsc:function(){return b.trigger("cancel")},hover:function(a){b.index=a;b.view.select(a)},trigger:function(a,d){b.trigger("select",a,b.$a[a],d)},clickNonSelectable:function(){return b.trigger("cancel")}})}
function Vi(a){var b=Oi({elements:a.elements,className:a.className});"undefined"!==typeof a.Ed&&b.select(a.Ed);return new Ri({index:"undefined"===typeof a.Ed?null:a.Ed,$a:a.elements.filter(function(a){return a.Ch}),view:b})}function Si(a,b){a.index||(a.index=0);a.index--;0>a.index&&(a.index=b?a.$a.length-1:0);a.view.select(a.index);a.view.ge();a.trigger("activeChange",a.$a[a.index])}e=Ri.prototype;e.ge=function(a){this.view.ge(a)};
function Ti(a,b){a.index||(a.index=0);a.index++;a.index>=a.$a.length&&(a.index=b?0:a.$a.length-1);a.view.select(a.index);a.view.ge();a.trigger("activeChange",a.$a[a.index])}function Ui(a,b){null!==a.index&&a.trigger("select",a.index,a.$a[a.index||0],b)}e.remove=function(){this.stopListening();this.view.remove()};e.listenTo=Backbone.Events.listenTo;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;e.off=Backbone.Events.off;e.on=Backbone.Events.on;function Wi(a){var b=this;Y.call(this,a);this.Ba=null;a.on("input",function(a){return b.gf(a)});a.on("keydown",function(a){return b.ad(a)});a.on("blur",function(){b.Ba&&!b.Ba.view.$("li").hasClass("hovering")&&b.Xa()})}t(Wi,Y);Wi.prototype.gf=function(a){a=$(a.target);this.trigger(Xi,a.val(),a[0].selectionEnd)};Wi.prototype.ad=function(a){13==a.keyCode&&!a.shiftKey&&this.Ba&&(a.stopImmediatePropagation(),a.preventDefault(),Ui(this.Ba,a))};
Wi.prototype.Xa=function(){this.Ba&&(this.Ba.remove(),this.Ba=null)};
Wi.prototype.show=function(a){var b=this;a=a.map(function(a){var b=$,f;soy.asserts.assertType(goog.isString(a.Ra)||a.Ra instanceof goog.soy.data.SanitizedContent,"avatarUrl",a.Ra,"string|goog.soy.data.SanitizedContent");f=a.Ra;soy.asserts.assertType(null==a.displayName||a.displayName instanceof goog.soy.data.SanitizedContent||goog.isString(a.displayName),"displayName",a.displayName,"null|string|undefined");var g=a.displayName;soy.asserts.assertType(goog.isString(a.username)||a.username instanceof
goog.soy.data.SanitizedContent,"username",a.username,"string|goog.soy.data.SanitizedContent");a=a.username;f=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cimg class\x3d"mention__userAvatar avatar" src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeMediaUri(f))+'" /\x3e\x3cdiv class\x3d"mention__user"\x3e\x3cspan class\x3d"mention__userDisplayName"\x3e'+soy.$$escapeHtml(g)+'\x3c/span\x3e\x3cspan class\x3d"mention__username"\x3e'+soy.$$escapeHtml(a)+"\x3c/span\x3e\x3c/div\x3e");return new Qi(b(f.toString()))});
this.Ba=Vi({elements:a,Ed:0,className:"mentionList"});this.Ba.on("select",function(a){return b.trigger(Yi,a)});this.Ba.on("cancel",function(){return b.Xa()});this.Ba.view.$el.outerWidth(this.$el.outerWidth());this.$el.after(this.Ba.view.$el)};var Xi="INPUT",Yi="SELECT";function Zi(a,b){var c=this;Y.call(this,a);this.Ri=b;this.Jb=a.find(".commentList__comments");this.ub=a.find(".commentList__form__input");a.on("input",".commentList__form__input",function(){return $i(c)});a.on("keydown",".commentList__form__input",function(a){return c.ad(a)});this.Jb.on("scroll",function(){var a=c.Jb[0].getBoundingClientRect().bottom,b=c.$el.find(".comment:last-child")[0];100>(b?b.getBoundingClientRect().bottom:Infinity)-a&&c.trigger(aj)});a.on("click",".comment__metadata__delete",
function(a){a=new bj($(a.target).closest(".comment"));c.trigger(cj,a)})}t(Zi,Y);function dj(a){var b=a.find(".commentList__form__input"),b=new Wi(b);return new Zi(a,b)}function ej(a,b){a.ub.val(b);$i(a)}function $i(a){var b=getComputedStyle(a.ub[0]),b=parseInt(b.borderBottomWidth,10)+parseInt(b.borderTopWidth,10);a.ub.css("height","");a.ub.css("height",a.ub.prop("scrollHeight")+b)}Zi.prototype.prepend=function(a){a=fj(a);this.Jb.prepend(a.$el);return a};
Zi.prototype.replace=function(a,b){b=fj(b);a.$el.replaceWith(b.$el);return b};Zi.prototype.append=function(a){a=fj(a);this.Jb.append(a.$el);return a};Zi.prototype.ad=function(a){13!=a.keyCode||a.shiftKey||(a.preventDefault(),this.trigger(gj,this.ub.val()))};var gj="SUBMIT",cj="DELETE",aj="NEAR_BOTTOM";function bj(a){Ji.apply(this,arguments)}t(bj,Ji);
function fj(a){var b=$,c;soy.asserts.assertType(goog.isString(a.vd)||a.vd instanceof goog.soy.data.SanitizedContent,"authorAvatarUrl",a.vd,"string|goog.soy.data.SanitizedContent");c=a.vd;soy.asserts.assertType(goog.isString(a.wd)||a.wd instanceof goog.soy.data.SanitizedContent,"authorName",a.wd,"string|goog.soy.data.SanitizedContent");var d=a.wd;soy.asserts.assertType(goog.isString(a.xd)||a.xd instanceof goog.soy.data.SanitizedContent,"authorProfileUrl",a.xd,"string|goog.soy.data.SanitizedContent");
var f=a.xd;soy.asserts.assertType(a.content instanceof soydata.SanitizedHtml||a.content instanceof soydata.UnsanitizedText||goog.isString(a.content),"content",a.content,"soydata.SanitizedHtml");var g=a.content;soy.asserts.assertType(goog.isString(a.K)||a.K instanceof goog.soy.data.SanitizedContent,"created",a.K,"string|goog.soy.data.SanitizedContent");var h=a.K;soy.asserts.assertType(goog.isString(a.Pb)||a.Pb instanceof goog.soy.data.SanitizedContent,"deleteLabel",a.Pb,"string|goog.soy.data.SanitizedContent");
var l=a.Pb;soy.asserts.assertType(goog.isString(a.Wd)||a.Wd instanceof goog.soy.data.SanitizedContent,"modelId",a.Wd,"string|goog.soy.data.SanitizedContent");var k=a.Wd;soy.asserts.assertType(goog.isBoolean(a.hd)||1===a.hd||0===a.hd,"showDelete",a.hd,"boolean");a=!!a.hd;c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"comment'+(a?" comment--deletable":"")+'" data-model-id\x3d"'+soy.$$escapeHtmlAttribute(k)+'"\x3e'+Ki({j:"comment__avatar",url:c})+'\x3cdiv class\x3d"comment__metadata"\x3e\x3ca class\x3d"comment__metadata__authorName" href\x3d"'+
soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(f))+'"\x3e'+soy.$$escapeHtml(d)+'\x3c/a\x3e \x3cspan class\x3d"comment__metadata__created"\x3e'+soy.$$escapeHtml(h)+"\x3c/span\x3e "+(a?'\x3cbutton class\x3d"comment__metadata__delete" title\x3d"'+soy.$$escapeHtmlAttribute(l)+'"\x3e\x3c/button\x3e':"")+'\x3c/div\x3e\x3cdiv class\x3d"comment__content"\x3e'+soy.$$escapeHtml(g)+"\x3c/div\x3e\x3c/div\x3e");b=b(c.toString());return new bj(b)};function hj(a){return new P(function(b){function c(f){f.target===a&&(d.off("transitionend",c),b())}var d=$(a);d.on("transitionend",c)})};function ij(a){this.$el=a}t(ij,Ji);function jj(a){O(a.hasClass("mask2"),'$el must have "mask2" in its classList');return new ij(a)}ij.prototype.show=function(){this.Da(!0);this.$el.hasClass("mask2--blur")&&kj(this,!0)};ij.prototype.hide=function(){this.Da(!1);this.$el.hasClass("mask2--blur")&&kj(this,!1);return hj(this.$el[0])};ij.prototype.Da=function(a){this.$el.toggleClass("mask2--visible",a);$("body").toggleClass("mask2Visible",a)};ij.prototype.Xe=function(){return this.$el.hasClass("mask2--visible")};
function kj(a,b){a.$el.siblings(".mask2Background").toggleClass("mask2Background--blurred",b)};function lj(a,b){var c=this;Y.call(this,a);this.Ef=b;this.$g=this.Xi.bind(this);this.$el.on("click",function(a){return c.$c(a)});this.Ef.on("keyup",this.$g)}t(lj,Y);e=lj.prototype;e.remove=function(){Y.prototype.remove.call(this);this.Ef.off("keyup",this.$g)};e.show=function(){var a=this;cc(function(){return jj(a.$el).show()})};e.hide=function(){return jj(this.$el).hide()};e.Xe=function(){return jj(this.$el).Xe()};e.$c=function(a){!$(a.target).closest(".dialog2__content").length&&mj(this)&&this.trigger(nj)};
e.Xi=function(a){27===a.keyCode&&mj(this)&&this.trigger(nj)};function mj(a){return!!a.$el.find(".dialog2__closeButton").length}var nj="CLOSE";function oj(a,b){this.$el=a;this.className=b}t(oj,Ji);function pj(a){a.$el.addClass(a.className);a=a.$el.get(0);var b=a.webkitRequestFullScreen||a.mozRequestFullScreen||a.msRequestFullscreen||a.requestFullscreen;ya(b,"browser doesn't implement Element::requestFullscreen");b.call(a)}
oj.prototype.exitFullscreen=function(){this.$el.removeClass(this.className);var a=document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen||document.exitFullscreen;ya(a,"browser doesn't implement Document::exitFullscreen");a&&a.call(document)};
function qj(a){function b(){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||(a(),$(document).off("fullscreenchange mozfullscreenchange webkitfullscreenchange MSFullscreenChange",b))}$(document).on("fullscreenchange mozfullscreenchange webkitfullscreenchange MSFullscreenChange",b)};function rj(a){var b=this;Y.call(this,a);a.on("click",function(){return b.trigger(sj)})}t(rj,Y);rj.prototype.getCount=function(){return parseInt(this.$el.find(".buttonLike__text").attr("data-like-count"),10)};function tj(a,b){a.$el.toggleClass("buttonActive",b);var c=a.$el.find(".buttonLike__text");c.toggleClass("buttonLike__text--like",!b);c.toggleClass("buttonLike__text--liked",b);b?uj(a,a.getCount()+1):uj(a,a.getCount()-1)}
function uj(a,b){a.$el.find(".buttonLike__text").attr("data-like-count",b)}var sj="CLICK";function vj(a,b,c){var d=this;Y.call(this,a);this.da=b;this.oa=c;a.on("click",".lightbox__enterPresentation",function(){return d.trigger(wj)});a.on("mousemove",function(){return d.trigger(xj)});a.on("click",".lightbox__exitPresentation",function(){(new oj(d.$el,"lightbox--fullscreen")).exitFullscreen()});a.on("click",".lightbox__previousFrame",function(){return d.trigger(yj)});a.on("click",".lightbox__nextFrame",function(){return d.trigger(zj)});a.on("click",".lightbox__shareItem--more",function(){return d.trigger(Aj)});
a.on("click",".lightbox__shareItem--share",function(){return d.trigger(Aj)});a.on("click",".lightboxShare__close",function(){return d.trigger(Bj)});a.on("click",".lightboxShare__button--embed",function(){return d.trigger(Cj)});a.on("click",".lightboxShare__button--copy",function(){return d.trigger(Dj)});a.on("click",".lightboxShare__shareItem",function(a){return d.trigger(Ej,a.target.dataset.medium)});a.on("click",".lightboxShare__embedTextArea",function(){return d.trigger(Fj)});a.on("click",".lightboxShare__shareItem",
function(a){return d.trigger(Ej,a.target.getAttribute["data-medium"],"overlay")});a.on("click",".lightbox__shareItem",function(a){return d.trigger(Ej,a.target.getAttribute["data-medium"],"footer")});a.on("click",".lightbox__actionButton--edit",function(){return d.trigger(Gj)});a.on("click",".lightbox__actionButton--remix",function(){return d.trigger(Hj)});a.on("keydown",function(a){return d.ad(a)})}t(vj,Y);
function Ij(a){var b=a.find(".lightbox__commentList").children().first(),c=null;b.length&&(c=dj(b));var b=a.find(".lightbox__likeButton"),d=null;b.length&&(d=new rj(b));a=new vj(a,c,d);a.$el.find(".lightbox__frame").get().forEach(function(a){return Jj($(a))});return a}function Kj(a){return a.$el.find(".lightbox__frame").get().map(function(a){return new Lj($(a))})}e=vj.prototype;e.focus=function(){this.$el.focus()};
function Mj(a,b){b=Nj(b);b.$el.insertBefore(a.$el.find(".lightbox__framesBackstop"));return b}function Oj(a,b){a.$el.toggleClass("lightbox--presentation",b);var c=new oj(a.$el,"lightbox--fullscreen");b&&(pj(c),qj(function(){a.trigger(Pj)}));a.focus()}function Qj(a,b){a.$el.find(".lightbox__currentFrameText").text(b)}function Rj(a,b){a.$el.find(".lightbox__pagination").toggleClass("lightbox__pagination--hidden",b)}
e.je=function(){this.$el.toggleClass("lightbox--error",!0);this.$el.toggleClass("lightbox--loading",!1)};e.Dh=function(a){this.$el.find(".lightbox__title, .lightboxShare__title").text(a)};function Sj(a,b){a.$el.find(".lightbox__byline, .lightboxShare__byline").html(b)}function Tj(a,b){b=$(Ei(b).toString());b=new rj(b);a.oa?(b.$el.insertAfter(a.oa.$el),a.oa.remove()):a.$el.find(".lightbox__likeButtonPlaceholder").replaceWith(b.$el);return a.oa=b}
function Uj(a,b){b=$(Ii(b).toString());var c=a.$el.find(".lightbox_editButtonPlaceholder");c.length||(c=a.$el.find(".lightbox__actionButton--edit"));c.replaceWith(b)}function Vj(a,b){b=$(Ii(b).toString());var c=a.$el.find(".lightbox_remixButtonPlaceholder");c.length||(c=a.$el.find(".lightbox__actionButton--remix"));c.replaceWith(b)}
function Wj(a){var b=a.$el.find(".lightbox__frame"),c=$(b[0]).hasClass("lightbox__frame--visible");a.$el.find(".lightbox__previousFrame").toggleClass("lightbox__previousFrame--disabled",c);b=$(b[b.length-1]).hasClass("lightbox__frame--visible");a.$el.find(".lightbox__nextFrame").toggleClass("lightbox__nextFrame--disabled",b)}e.vf=function(){this.$el.find(".lightboxShare__modal").removeClass("lightboxShare__modal--embedVisible");this.$el.find(".lightboxShare__modal").addClass("lightboxShare__modal--visible")};
e.ad=function(a){if(!$(a.target).hasClass("commentList__form__input"))switch(a.keyCode){case 37:a.preventDefault();this.trigger(yj);break;case 39:a.preventDefault(),this.trigger(zj)}};var zj="NEXT_FRAME",yj="PREVIOUS_FRAME",wj="ENTER_PRESENTATION",xj="MOVEMENT",Pj="EXIT_PRESENTATION",Aj="SHOW_SHARING",Bj="CLOSE_SHARING",Ej="SHARE_ITEM",Cj="SHOW_EMBED",Dj="COPY_EMBED",Fj="EMBED_TEXTAREA_CLICKED",Gj="EDIT",Hj="REMIX";function Lj(a){Ji.apply(this,arguments)}t(Lj,Ji);
function Nj(a){a=$(Gi(a).toString());return Jj(a)}function Jj(a){a=new Lj(a);Xj(a);Yj(a);return a}function Xj(a){var b=a.$el.find(".lightbox__thumbnailLoader");if(b.prop("src")&&!b.prop("complete")){var c=a.$el;c.toggleClass("lightbox__frame--thumbnailLoading",!0);b.on("load error",function f(){c.toggleClass("lightbox__frame--thumbnailLoading",!1);b.off("load error",f)})}}
function Yj(a){function b(){f.toggleClass("lightbox__frame--previewLoading",!1);d.off("load",b);d.off("error",c)}function c(){f.toggleClass("lightbox__frame--error",!0);f.toggleClass("lightbox__frame--previewLoading",!1);d.off("load",b);d.off("error",c)}var d=a.$el.find(".lightbox__previewLoader");if(d.prop("src")&&!d.prop("complete")){var f=a.$el;f.toggleClass("lightbox__frame--previewLoading",!0);d.on("load",b);d.on("error",c)}}
Lj.prototype.Da=function(a){this.$el.toggleClass("lightbox__frame--visible",a)};function Zj(a,b,c){Y.call(this,a);this.Qb=b;this.Ze=c}t(Zj,Y);function ak(a){var b=new lj(a,$(document)),c=Ij(a.find(".lightbox"));return new Zj(a,b,c)}Zj.prototype.remove=function(){this.Ze.remove();this.Qb.remove();Y.prototype.remove.call(this)};function bk(a){var b;b=b||{};soy.asserts.assertType(a.Ga instanceof soydata.SanitizedTrustedResourceUri||a.Ga instanceof soydata.UnsanitizedText||goog.isString(a.Ga),"embedScriptUrl",a.Ga,"soydata.SanitizedTrustedResourceUri");var c=a.Ga;soy.asserts.assertType(goog.isNumber(a.zf),"thumbnailHeight",a.zf,"number");var d=a.zf;soy.asserts.assertType(goog.isNumber(a.Af),"thumbnailWidth",a.Af,"number");var f=a.Af;soy.asserts.assertType(goog.isString(a.Fd)||a.Fd instanceof goog.soy.data.SanitizedContent,
"designId",a.Fd,"string|goog.soy.data.SanitizedContent");var g=a.Fd;soy.asserts.assertType(a.sc instanceof soydata.SanitizedHtml||a.sc instanceof soydata.UnsanitizedText||goog.isString(a.sc),"byLineHtml",a.sc,"soydata.SanitizedHtml");a=a.sc;return soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"canva-embed" data-height-ratio\x3d"'+soy.$$escapeHtmlAttribute(Math.round(d/f*1E4)/1E4)+'" data-design-id\x3d"'+soy.$$escapeHtmlAttribute(g)+'" style\x3d"'+(b.Sa?"/*"+b.Sa+"*/":"")+"padding:"+soy.$$escapeHtmlAttribute(soy.$$filterCssValue(Math.round(d/
f*1E4)/1E4*100))+'% 5px 5px 5px;background:rgba(0,0,0,0.03);border-radius:8px;"\x3e\x3c/div\x3e\x3cscript async src\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterTrustedResourceUri(c))+'"'+(b.Sa?' nonce\x3d"'+b.Sa+'"':"")+"\x3e\x3c/script\x3e"+soy.$$escapeHtml(a))};function ck(a,b){var c=this;this.view=b;this.pd=a.pd;this.Cf=[];this.Ye=[];this.Sd=[];this.jf=null;this.w=a.w||null;this.view.on(Xi,function(a,b){return c.gf(a,b)});this.view.on(Yi,function(a){var b=c.view;a=c.Ye[0]+(c.Sd[a].H()||c.Sd[a].g())+(c.Ye[1]||" ");a.length<=b.$el.attr("maxlength")&&b.$el.val(a).trigger("input");b.Xa()})}function dk(a,b){return new ck(a,b)}ck.prototype.ob=function(){var a=this;this.pd.then(function(b){a.Cf=b;a.jf&&a.autocomplete(a.jf)})};
ck.prototype.gf=function(a,b){var c=a.lastIndexOf("@",b-1);if(-1===c)this.view.Xa();else if(c+=1,a.lastIndexOf(" ",b-1)>c)this.view.Xa();else{b=a.indexOf(" ",c);b=-1===b?a.length:b;var d=a.slice(c,b);this.Ye=[a.slice(0,c),a.slice(b)];this.autocomplete(d)}};ck.prototype.autocomplete=function(a){var b=this;0===this.Cf.length?this.jf=a:(this.Sd=this.Cf.filter(function(c){return!(null!==b.w&&c.g()===b.w.g())&&ek(a,c)}),fk(this,this.Sd))};
function ek(a,b){function c(a,b){return!!b&&-1!==b.toLowerCase().indexOf(a.toLowerCase())}return c(a,b.H())||c(a,b.Aa())}function fk(a,b){a.view.Xa();if(b.length){var c=bb.sizes.get("50").ha();b=b.map(function(a){return{Ra:a.Se()||c,displayName:a.Aa(),username:"@"+a.H()}});a.view.show(b)}};function gk(a,b,c,d,f){var g=this;this.view=b;this.alert=d;this.confirm=f;this.i=a.i;this.J=a.J;this.ca=a.ca;this.Wg=c;this.w=a.w;this.C=a.da&&a.da.C;this.Ma=!1;this.Ti=0;this.object=a.object;this.accessToken=a.accessToken;this.ke=!!a.da&&!a.da.C;this.le=!1;this.o=a.o;this.ve=a.ve;this.view.on(gj,function(a){return hk(g,String(a))});this.view.on(cj,function(a){return ik(g,a)});this.view.on(aj,function(){g.Ma||g.ke||g.le||g.fetch()})}
function jk(a,b){var c=null;a.ca.Eb&&(c=dk({pd:a.ca.Xb(),w:a.w},b.Ri));return new gk(a,b,c,function(a){return window.alert(a)},function(a){return window.confirm(a)})}gk.prototype.ob=function(){function a(){var c;if(!(c=b.ke||b.le)){c=b.view;var d=c.Jb.prop("clientHeight");c=c.Jb.prop("scrollHeight")>d}return c?P.resolve():b.fetch().then(a)}var b=this;a();this.Wg&&this.Wg.ob()};gk.prototype.destroy=function(){this.view.remove()};
function kk(a,b){var c=b.sa.vb.sizes.get("200").url;O(null==b.Ta,"can't render a deleted comment");ya(c,"can't render a comment with no author avatar");var d=!!a.w&&a.w.g()==b.sa.id,f=0==b.id.indexOf("pending_comment_");return{vd:c,wd:b.sa.displayName||b.sa.username||"",xd:"/"+encodeURIComponent(b.sa.username||""),content:soydata.VERY_UNSAFE.ordainSanitizedHtml(b.content),K:moment(b.K).fromNow(),Pb:a.i.Pb(),Wd:b.id,hd:d&&!f}}
gk.prototype.fetch=function(){var a=this;Q(!this.Ma);Q(!this.ke);Q(!this.le);this.Ma=!0;return jd(this.J,new cd({object:this.object,accessToken:this.accessToken,limit:20,C:this.C})).then(function(b){lk(a,b.J);a.C=b.C;a.ke=!b.C}).catch(function(b){a.alert(a.i.format("commentListListError"));a.le=!0;throw b;}).finally(function(){return a.Ma=!1})};
function lk(a,b){var c=b.map(function(a){return a.content});th(a.ca,c).then(function(c){b.forEach(function(b,g){b=new Vc({object:b.object,id:b.id,Qa:b.Qa,sa:b.sa,content:c[g],K:b.K,bb:b.bb,Ta:b.Ta,fc:b.fc,Td:b.Td,ec:b.ec});b.Ta||a.view.append(kk(a,b))})})}
function ik(a,b){if(a.confirm(a.i.format("commentListDeleteConfirmation"))){var c=new fd({object:a.object,id:b.$el.data("model-id")});b.$el.toggleClass("comment--hidden",!0);kd(a.J,c).then(function(){return b.remove()}).catch(function(){b.$el.toggleClass("comment--hidden",!1);a.alert(a.i.format("commentListDeleteError"))});a.track(mk)}}
function hk(a,b){O(1023>=b.length,"comment too long");if(""==b.trim())a.view.ub.blur();else{var c=Date.now(),d=sh(a.ca,b),f=d!==b;wh(a.ca,d).then(function(f){var h=new Vc({object:a.object,id:"pending_comment_"+String(a.Ti++),Qa:a.w.g(),sa:a.w.md(),content:f,K:c,bb:c,fc:!1,ec:0}),l=a.view.prepend(kk(a,h));ej(a.view,"");a.J.createComment(new Zc({object:a.object,accessToken:a.accessToken,content:d})).then(function(b){b=new Vc({object:a.object,id:b.id,Qa:a.w.g(),sa:a.w.md(),content:f,K:b.K,bb:b.K,fc:!1,
ec:0});a.view.replace(l,kk(a,b));l.remove()}).catch(function(){l.remove();ej(a.view,b);a.alert(a.i.format("commentListCreateError"))})}).catch(function(){ej(a.view,b);a.alert(a.i.format("commentListCreateError"))});f&&a.track(nk);a.track(ok)}}gk.prototype.track=function(a){Wb(this.o,a(this.ve))};function pk(a,b){Xb.call(this,a);R(this,"section",b.gj);R(this,"subsection",b.pj);R(this,"location","comment_list")}t(pk,Xb);function ok(a){return new pk("comment",a)}
function nk(a){return new pk("comment_with_mention",a)}function mk(a){return new pk("delete_comment",a)};function qk(a,b,c){var d=this;this.da=c;this.i=a.i;this.pa=a.pa;this.D=a.D;this.J=a.J;this.xa=a.xa;this.o=a.o;this.view=b;this.ea=0;this.document=a.document;this.w=a.w;this.Ga=a.Ga;this.Gc=null;this.mf=!1;this.ia=a.ia;this.view.on(wj,function(){d.mf=!0;Oj(d.view,!0);rk(d);d.track(sk)});this.view.on(xj,function(){d.mf&&(tk(d),Rj(d.view,!1),rk(d))});this.view.on(Pj,function(){tk(d);Rj(d.view,!1);Oj(d.view,!1);d.mf=!1});this.view.on(yj,function(){if(0!=d.ea){var a=d.document.ja.qb,b=Kj(d.view);d.ea==
a-1?(b[0].Da(!0),b[1].Da(!1)):(b[0].Da(!0),b[1].Da(!1),b[2].remove());d.ea--;Qj(d.view,d.i.ea(d.ea+1,a));0<d.ea&&(a=d.view,b=uk(d,d.ea-1),b=Nj(b),0<a.$el.find(".lightboxShare__modal").length?b.$el.insertAfter(a.$el.find(".lightboxShare__modal")):b.$el.prependTo(a.$el.find(".lightbox__frames")));Wj(d.view);d.track(vk)}});this.view.on(zj,function(){var a=d.document.ja.qb;if(d.ea!=a-1){var b=Kj(d.view);0==d.ea?(b[0].Da(!1),b[1].Da(!0)):(b[0].remove(),b[1].Da(!1),b[2].Da(!0));d.ea++;Qj(d.view,d.i.ea(d.ea+
1,a));d.ea<a-1&&Mj(d.view,uk(d,d.ea+1));Wj(d.view);d.track(wk)}});this.view.on(Aj,function(){return d.vf()});this.view.on(Bj,function(){d.view.$el.find(".lightboxShare__modal").removeClass("lightboxShare__modal--visible")});this.view.on(Cj,function(){d.view.$el.find(".lightboxShare__modal").addClass("lightboxShare__modal--embedVisible")});this.view.on(Dj,function(){document.execCommand("copy",!1,d.view.$el.find(".lightboxShare__embedTextArea")[0].select());d.track(xk)});this.view.on(Ej,function(a,
b){var c=d.o,l=d.document.id;a=new Z("design_share",d.ia,b,a);R(a,"design",l);Wb(c,a)});this.view.on(Fj,function(){d.view.$el.find(".lightboxShare__embedTextArea").select()});this.view.on(Gj,function(){return d.track(yk)});this.view.on(Hj,function(){return d.track(zk)});(a=this.view.oa)&&a.on(sj,function(){return Ak(d)})}
function Bk(a,b,c){(a.yi?P.resolve(a.yi):Hg(a.xa,new Se({id:a.fb})).then(function(a){return{gc:a.document,cb:a.cb}}).catch(function(a){c.je();throw a;})).then(function(a){return Ck(b,a)})}qk.prototype.ob=function(){this.view.focus();this.da&&this.da.ob()};qk.prototype.destroy=function(){this.da&&this.da.destroy();this.view.remove()};
function uk(a,b){var c=a.document.ja.kb,d=c.R.images,c=c.ae&&c.ae.images||[];return{ld:d[b]&&d[b].url,ed:c[b]&&c[b].url,ta:a.i.format("newLightboxFrameError"),oe:a.i.format("newLightboxFrameUnavailable")}}qk.prototype.track=function(a){Wb(this.o,a(this.ia))};
function Ck(a,b){var c=b.gc,d=b.cb;a.document=c.document;b=a.document.ja.qb;var f=c.G.displayName||c.G.username||"",g=c.G.username?"/"+encodeURIComponent(c.G.username):"",h=a.document.ja.content.title||a.i.format("newLightboxUntitled");a.view.$el.toggleClass("lightbox--loading",!1);Mj(a.view,uk(a,0)).Da(!0);1<b&&Mj(a.view,uk(a,1));Qj(a.view,a.i.ea(1,b));a.view.Dh(h);Sj(a.view,Jc(a.i,g,_.escape(f)));if(a.w&&!a.w.na())Tj(a.view,{F:c.F,Ud:a.pa.Sc(),Vd:a.pa.ua(),aa:c.aa,j:"lightbox__actionButton lightbox__likeButton"}).on(sj,
function(){return Ak(a)});d=(g="OWNER"===d||"EDITOR"===d)||"REMIXER"===d;g&&Uj(a.view,{url:qi(c.document.id,"edit",void 0),label:a.i.format("newLightboxEditLabel"),j:"lightbox__actionButton--edit"});d&&Vj(a.view,{url:qi(c.document.id,"remix",void 0),label:a.i.format("newLightboxUseAsTemplateLabel"),j:"lightbox__actionButton--remix"});a.Ga&&(c=bk({Fd:a.document.id,zf:a.document.ja.kb.R.height,Af:a.document.ja.kb.R.width,Ga:soydata.VERY_UNSAFE.ordainSanitizedTrustedResourceUri(a.Ga),sc:soydata.VERY_UNSAFE.ordainSanitizedHtml(Ic(a.i,
_.escape(h),si(a.document.id),location.protocol+"//"+location.host+("/"+encodeURIComponent(c.G.username||""))+"?"+["utm_campaign\x3d"+encodeURIComponent("designshare"),"utm_medium\x3d"+encodeURIComponent("embeds"),"utm_source\x3d"+encodeURIComponent("link")].join("\x26"),_.escape(f)))}).toString(),a.view.$el.find(".lightboxShare__embedTextArea").val(c));Wj(a.view);Wb(a.o,Dk(a.ia,a.document.id,a.document.ja.content.mb,b))}qk.prototype.vf=function(){this.view.vf();this.track(Ek)};
function rk(a){a.Gc=a.D.setTimeout(function(){a.Gc=null;Rj(a.view,!0)},3E3)}function tk(a){null!=a.Gc&&(a.D.clearTimeout(a.Gc),a.Gc=null)}
function Ak(a){var b=a.view.oa,c=!b.$el.hasClass("buttonActive");tj(b,c);b.$el.toggleClass("buttonLike--disabled",!0);(c?Kg(a.xa,new bf({type:"DOCUMENT",ua:a.document.id,accessToken:a.document.Cb.default})):Lg(a.xa,new ff({type:"DOCUMENT",ua:a.document.id}))).catch(function(){return tj(b,!c)}).finally(function(){b.$el.toggleClass("buttonLike--disabled",!1)});a.track(Fk)}function Gk(a,b){var c=this;this.Rc=a.Rc;this.view=b;this.dh=!1;this.yb=null;b.Qb.on(nj,function(){return Hk(c)})}
function Ik(a,b){var c=b.Ze,d=c.da,f=null;d&&(ya(a.ca,"Cannot have CommentListView with null MentionConverter"),f=jk({i:Dc(a.i),J:a.J,ca:a.ca,w:a.w,object:a.fb,accessToken:a.gc&&a.gc.document.Cb.default,o:a.o,ve:{gj:a.ia,pj:"lightbox"}},d));a=new qk({o:a.o,i:Fc(a.i),D:a.D,J:a.J,xa:a.xa,document:a.gc?a.gc.document:null,Ga:a.Ga,w:a.w,pa:xc(a.i),ia:a.ia},c,f);return new Gk({Rc:a},b)}Gk.prototype.ob=function(){this.Rc.ob()};
Gk.prototype.show=function(){Q(!this.dh,"the dialog has been opened already");this.dh=!0;this.view.Qb.show()};Gk.prototype.destroy=function(){this.Rc.destroy();this.view.Qb.remove()};function Jk(a,b){a.yb=b}function Hk(a){a.view.Qb.hide().then(function(){a.yb&&a.yb();a.destroy()})}function Z(a,b,c,d){Xb.call(this,a);R(this,"section",b);R(this,"subsection","lightbox");c&&R(this,"location",c);d&&R(this,"type",d)}t(Z,Xb);
function Dk(a,b,c,d){a=new Z("design_view",a,"lightbox");R(a,"design",b);c&&R(a,"template",c);R(a,"design_page_count",d);return a}function sk(a){return new Z("fullscreen_mode",a,"navigation_toolbar")}function wk(a){return new Z("button_click",a,"navigation_toolbar","next_page")}function vk(a){return new Z("button_click",a,"navigation_toolbar","previous_page")}function Fk(a){return new Z("button_click",a,"header","like")}function yk(a){return new Z("button_click",a,"header","edit")}
function zk(a){return new Z("button_click",a,"header","remix")}function Ek(a){return new Z("button_click",a,"footer","more_options")}function xk(a){return new Z("button_click",a,"overlay","embed_copy")};function Kk(a){this.De=a.De;this.eg={};this.error=!1;this.Hb=a.Hb;this.Va=a.Va;this.o=a.o;this.og=a.og;this.i=a.i;this.D=a.D;this.J=a.J;this.xa=a.xa;this.ca=a.ca;this.X=a.X;this.uf=a.uf;this.ug=!!a.ug;this.ia=a.ia;this.view=a.view}e=Kk.prototype;e.listenTo=Backbone.Events.listenTo;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.once=Backbone.Events.once;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;
e.init=function(){this.listenTo(this.Va,{error:this.ff,fetch:this.ef});this.listenTo(this.view,{thumbnailClick:this.bd,commentsClick:this.bh});return this};e.remove=function(){this.stopListening()};e.Je=function(){function a(){this.off("fetch",b)}function b(){this.off("error",a);this.Je()}if(!this.error&&this.Va.Xd&&!this.Va.Ma){var c=this.view.Re();c&&800<=dh(this.Hb,c)||(this.once("error",a,this),this.once("fetch",b,this),this.fetch())}};
e.fetch=function(){this.error||!this.Va.Xd||this.Va.Ma||(xi(this.view,!0),this.Va.fetch())};e.ef=function(a){this.Va.isEmpty()?(a=this.view,0<a.$(".designCardListEmptyMessage").length||a.$el.append(a.yh())):this.push(a);xi(this.view,!1);this.trigger("fetch")};e.push=function(a){var b=[];a.forEach(function(a){a=this.De(a);b.push(a);var d=a.getItem().g();this.eg[d]=a},this);this.view.push.apply(this.view,b)};
e.ff=function(){this.error=!0;var a=this.view;1>a.$(".designCardListEmptyMessage").length&&a.$el.append(a.zh());xi(this.view,!1);this.trigger("error")};e.bh=function(a){this.uf({o:this.o,i:this.i,D:this.D,J:this.J,xa:this.xa,ca:this.ca,X:this.X,ia:this.ia},a)};e.bd=function(a,b){var c=this.eg[b];if(!c)throw Error("no DesignCard for design: "+b);c=c.view.Ha().attr("href").toString();c=ri(c);if("view"===c||"remix"===c||this.ug)a.preventDefault(),this.bh(b)};
function Lk(a,b){var c=a.X,d=a.ia;b={o:a.o,i:a.i,D:a.D,J:a.J,xa:a.xa,ca:a.ca,fb:b,w:c.na()?null:c,ia:d};var c=Fc(b.i),c={oi:Dc(b.i).Mi(),tj:b.w&&b.w.Id("200"),Oh:b.w?null:{message:c.format("newLightboxSignupCtaMessage"),label:c.format("newLightboxSignupCtaLabel"),title:c.format("newLightboxSignupCtaTitle"),url:Zh(),yc:c.Ji("newLightboxSignupCtaDisclaimerHtml","https://about.canva.com/terms-of-use","https://about.canva.com/privacy-policy")},Rb:c.format("newLightboxEnterPresentation"),ta:c.format("newLightboxDocumentError"),
Sb:c.format("newLightboxExitPresentation"),cc:c.format("newLightboxNextFrame"),dc:c.format("newLightboxPreviousFrame")},f;if(c.Oh){var g=c.Oh;soy.asserts.assertType(goog.isString(g.message)||g.message instanceof goog.soy.data.SanitizedContent,"message",g.message,"string|goog.soy.data.SanitizedContent");d=g.message;soy.asserts.assertType(goog.isString(g.label)||g.label instanceof goog.soy.data.SanitizedContent,"label",g.label,"string|goog.soy.data.SanitizedContent");var h=g.label;soy.asserts.assertType(goog.isString(g.title)||
g.title instanceof goog.soy.data.SanitizedContent,"title",g.title,"string|goog.soy.data.SanitizedContent");f=g.title;soy.asserts.assertType(goog.isString(g.url)||g.url instanceof goog.soy.data.SanitizedContent,"url",g.url,"string|goog.soy.data.SanitizedContent");var l=g.url;soy.asserts.assertType(g.yc instanceof soydata.SanitizedHtml||g.yc instanceof soydata.UnsanitizedText||goog.isString(g.yc),"disclaimer",g.yc,"soydata.SanitizedHtml");g=g.yc;f=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"lightbox__sidebar lightbox__sidebar--signupCta"\x3e\x3cdiv class\x3d"lightbox__signupCta"\x3e\x3cspan class\x3d"lightbox__signupCtaCanvaLogo"\x3e'+
soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3csvg width\x3d"100" height\x3d"100" viewBox\x3d"0 -1 100 100" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3ccircle cx\x3d"50" cy\x3d"50" r\x3d"49" fill\x3d"#20C4CB"/\x3e\x3cpath d\x3d"M62.65 58.163c-1.986 2.176-4.772 3.278-6.078 3.278-1.509 0-2.334-.926-2.504-2.315a5.73 5.73 0 0 1 .056-1.6c.499-3.115 1.645-5.051 1.574-5.64-.021-.169-.116-.253-.241-.253-.965 0-4.352 3.494-4.866 5.81l-.4 1.852c-.262 1.305-1.542 2.146-2.421 2.146-.42 0-.74-.21-.796-.673a1.998 1.998 0 0 1 .05-.632l.188-.976c-1.826 1.365-3.796 2.287-4.718 2.287-1.258 0-1.968-.673-2.217-1.684-.831 1.095-1.932 1.684-3.106 1.684-1.498 0-2.94-.99-3.634-2.458-.987 1.109-2.158 2.193-3.556 3.09-2.062 1.305-4.364 2.357-7.088 2.357-2.516 0-4.651-1.347-5.832-2.441-1.752-1.642-2.679-4.084-2.951-6.315-.86-7.03 3.42-16.25 10.051-20.29 1.522-.927 3.226-1.39 4.776-1.39 3.186 0 5.564 2.28 5.897 5.003.3 2.455-.682 4.574-3.402 5.947-1.39.703-2.078.67-2.295.335-.145-.224-.063-.602.217-.836 2.558-2.138 2.607-3.892 2.305-6.366-.195-1.59-1.242-2.61-2.415-2.61-5.03 0-12.243 11.282-11.24 19.491.391 3.2 2.353 6.904 6.377 6.904 1.341 0 2.762-.379 4.026-1.01 2.207-1.128 3.454-2.02 4.708-3.48-.307-3.796 2.95-8.56 7.794-8.56 2.095 0 3.833.842 4.039 2.526.257 2.104-1.536 2.526-2.207 2.526-.587 0-1.53-.169-1.596-.716-.072-.59 1.269-.252 1.104-1.6-.103-.841-.977-1.136-1.816-1.136-3.018 0-4.683 4.21-4.364 6.82.144 1.179.75 2.357 1.84 2.357.88 0 2.15-1.263 2.636-3.115.307-1.263 1.504-2.105 2.384-2.105.461 0 .78.21.837.673.02.169.004.38-.049.632-.1.547-.52 2.368-.501 2.746.015.329.204.78.774.78.453 0 2.115-.898 3.655-2.28.484-2.501 1.081-5.591 1.127-5.835.188-1.013.551-2.056 2.605-2.056.42 0 .739.21.8.715.02.168.005.38-.048.631l-.574 2.599c1.802-2.4 4.604-4.167 6.28-4.167.714 0 1.263.378 1.356 1.136.051.421-.071 1.137-.35 1.937-.597 1.641-1.268 4.107-1.712 6.23-.095.45.062 1.132.887 1.132.658 0 2.774-.806 4.482-3.062-.011-.32-.016-.644-.016-.97 0-1.768.125-3.199.46-4.251.335-1.095 1.72-2.146 2.641-2.146.462 0 .797.252.797.757 0 .169-.042.38-.126.589-.629 1.852-.964 3.579-.964 5.305 0 .968.21 2.526.42 3.325.041.169.082.337.25.337.294 0 2.264-1.936 3.689-4.294-1.258-.8-1.97-2.273-1.97-4.084 0-3.03 1.803-4.588 3.563-4.588 1.384 0 2.641 1.01 2.641 3.03 0 1.264-.503 2.695-1.215 4.085 0 0 .293.042.418.042 1.09 0 1.928-.506 2.39-1.053.21-.237.404-.425.591-.532 1.404-1.696 3.46-2.92 5.874-2.92 2.054 0 3.828.8 4.033 2.484.263 2.146-1.57 2.568-2.2 2.568-.628 0-1.572-.169-1.638-.716-.067-.547 1.31-.252 1.15-1.557-.102-.843-.981-1.179-1.82-1.179-2.809 0-4.74 3.746-4.369 6.778.149 1.22.712 2.4 1.802 2.4.88 0 2.194-1.264 2.68-3.116.312-1.221 1.502-2.105 2.383-2.105.419 0 .78.21.842.716.031.253-.07.8-.54 2.778-.191.842-.23 1.558-.158 2.147.15 1.22.709 2.02 1.226 2.484.189.168.298.378.314.505.04.336-.216.631-.636.631-.126 0-.293 0-.43-.084-2.16-.884-3.054-2.357-3.308-3.746-.834 1.052-1.937 1.641-3.068 1.641-1.929 0-3.812-1.684-4.079-3.873-.11-.9-.001-1.865.293-2.815-.782.484-1.625.752-2.38.752-.252 0-.46 0-.712-.041-1.886 2.735-3.857 4.63-5.366 5.472-.628.337-1.214.505-1.634.505-.336 0-.713-.083-.88-.379-.384-.65-.644-1.687-.797-2.905zm6.832-8.966c0 1.18.586 2.4 1.34 3.2.295-.8.462-1.6.462-2.4 0-1.516-.587-2.19-1.048-2.19-.545 0-.754.758-.754 1.39z" fill\x3d"#FFF"/\x3e\x3c/g\x3e\x3cimage src\x3d"https://static.canva.com/static/images/canva_logo_100x100.png"/\x3e\x3c/svg\x3e')+
'\x3c/span\x3e\x3ch1 class\x3d"lightbox__signupCtaTitle"\x3e'+soy.$$escapeHtml(f)+'\x3c/h1\x3e\x3cp class\x3d"lightbox__signupCtaMessage"\x3e'+soy.$$escapeHtml(d)+'\x3c/p\x3e\x3ca class\x3d"lightbox__signupCtaButton button" href\x3d"'+soy.$$escapeHtmlAttribute(soy.$$filterNormalizeUri(l))+'" title\x3d"'+soy.$$escapeHtmlAttribute(f)+'"\x3e'+soy.$$escapeHtml(h)+'\x3c/a\x3e\x3cp class\x3d"lightbox__signupCtaDisclaimer"\x3e'+soy.$$escapeHtml(g)+"\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e")}else d=c.tj,h=c.oi,
soy.asserts.assertType(null==d||d instanceof goog.soy.data.SanitizedContent||goog.isString(d),"avatarUrl",d,"null|string|undefined"),soy.asserts.assertType(goog.isString(h)||h instanceof goog.soy.data.SanitizedContent,"inputPlaceholder",h,"string|goog.soy.data.SanitizedContent"),d={da:soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"commentList"\x3e'+(null!=d?'\x3cdiv class\x3d"commentList__form"\x3e'+Ki({j:"commentList__form__avatar",url:d})+Li({attributes:soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks('maxlength\x3d"1023" rows\x3d"1"'),
block:!0,j:"commentList__form__input",placeholder:h,tagName:"textarea"})+"\x3c/div\x3e":"")+'\x3cdiv class\x3d"commentList__comments"\x3e\x3c/div\x3e\x3c/div\x3e'),gb:c.gb,rb:c.rb},soy.asserts.assertType(null==d.title||d.title instanceof goog.soy.data.SanitizedContent||goog.isString(d.title),"title",d.title,"null|string|undefined"),soy.asserts.assertType(null==d.La||d.La instanceof soydata.SanitizedHtml||d.La instanceof soydata.UnsanitizedText||goog.isString(d.La),"byline",d.La,"?soydata.SanitizedHtml|string|undefined"),
soy.asserts.assertType(d.da instanceof soydata.SanitizedHtml||d.da instanceof soydata.UnsanitizedText||goog.isString(d.da),"commentList",d.da,"soydata.SanitizedHtml"),h=d.da,soy.asserts.assertType(null==d.oa||goog.isObject(d.oa),"likeButton",d.oa,"null|undefined|{likeLabel: string, likedByMe: boolean, likedLabel: string, likerCount: number}"),soy.asserts.assertType(null==d.gb||goog.isObject(d.gb),"editButton",d.gb,"null|undefined|{label: string, url: string}"),soy.asserts.assertType(null==d.rb||goog.isObject(d.rb),
"remixButton",d.rb,"null|undefined|{label: string, url: string}"),f=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"lightbox__sidebar"\x3e'+Hi(d)+'\x3cdiv class\x3d"lightbox__commentList"\x3e'+soy.$$escapeHtml(h)+"\x3c/div\x3e\x3c/div\x3e");var d=$,h=c.ta,k={Rb:c.Rb,Sb:c.Sb,cc:c.cc,dc:c.dc};soy.asserts.assertType(null==k.Dd||k.Dd instanceof goog.soy.data.SanitizedContent||goog.isString(k.Dd),"currentFrameText",k.Dd,"null|string|undefined");c=k.Dd;soy.asserts.assertType(goog.isString(k.Rb)||
k.Rb instanceof goog.soy.data.SanitizedContent,"enterPresentationTitle",k.Rb,"string|goog.soy.data.SanitizedContent");l=k.Rb;soy.asserts.assertType(goog.isString(k.Sb)||k.Sb instanceof goog.soy.data.SanitizedContent,"exitPresentationTitle",k.Sb,"string|goog.soy.data.SanitizedContent");g=k.Sb;soy.asserts.assertType(goog.isString(k.cc)||k.cc instanceof goog.soy.data.SanitizedContent,"nextFrameTitle",k.cc,"string|goog.soy.data.SanitizedContent");var q=k.cc;soy.asserts.assertType(goog.isString(k.dc)||
k.dc instanceof goog.soy.data.SanitizedContent,"previousFrameTitle",k.dc,"string|goog.soy.data.SanitizedContent");k=k.dc;c=soydata.VERY_UNSAFE.ordainSanitizedHtml('\x3cdiv class\x3d"lightbox__pagination"\x3e\x3cbutton class\x3d"lightbox__paginationButton lightbox__enterPresentation" title\x3d"'+soy.$$escapeHtmlAttribute(l)+'"\x3e\x3c/button\x3e\x3cbutton class\x3d"lightbox__paginationButton lightbox__exitPresentation" title\x3d"'+soy.$$escapeHtmlAttribute(g)+'"\x3e\x3c/button\x3e\x3cspan class\x3d"lightbox__paginationSeparator"\x3e\x3c/span\x3e\x3cbutton class\x3d"lightbox__paginationButton lightbox__previousFrame" title\x3d"'+
soy.$$escapeHtmlAttribute(k)+'"\x3e\x3c/button\x3e\x3cspan class\x3d"lightbox__currentFrameText"\x3e'+soy.$$escapeHtml(null==c?"":c)+'\x3c/span\x3e\x3cbutton class\x3d"lightbox__paginationButton lightbox__nextFrame" title\x3d"'+soy.$$escapeHtmlAttribute(q)+'"\x3e\x3c/button\x3e\x3c/div\x3e');c={ta:h,sidebar:f,Ya:c};soy.asserts.assertType(null==c.visible||goog.isBoolean(c.visible)||1===c.visible||0===c.visible,"visible",c.visible,"boolean|null|undefined");h=c.visible;soy.asserts.assertType(goog.isString(c.ta)||
c.ta instanceof goog.soy.data.SanitizedContent,"errorText",c.ta,"string|goog.soy.data.SanitizedContent");soy.asserts.assertType(null==c.frames||goog.isArray(c.frames),"frames",c.frames,"?Array\x3c{errorText: string, previewSrc: (null|string|undefined), thumbnailSrc: (null|string|undefined), unvailableText: string, visible: (boolean|null|undefined)}\x3e|undefined");soy.asserts.assertType(null==c.Oa||goog.isBoolean(c.Oa)||1===c.Oa||0===c.Oa,"loading",c.Oa,"boolean|null|undefined");soy.asserts.assertType(c.Ya instanceof
soydata.SanitizedHtml||c.Ya instanceof soydata.UnsanitizedText||goog.isString(c.Ya),"pagination",c.Ya,"soydata.SanitizedHtml");soy.asserts.assertType(c.sidebar instanceof soydata.SanitizedHtml||c.sidebar instanceof soydata.UnsanitizedText||goog.isString(c.sidebar),"sidebar",c.sidebar,"soydata.SanitizedHtml");c=soydata.VERY_UNSAFE.ordainSanitizedHtml(Di({visible:h,j:"lightboxDialog",content:soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks(""+Fi(c))}));c=d(c.toString());c=ak(c);d=Ik(b,c);
Bk(b,d.Rc,c.Ze);c.$el.appendTo("body");d.ob();d.show();a.yb&&(d.yb=a.yb)}function Mk(a,b){var c=window.location.pathname;window.history&&window.history.replaceState({},"",qi(b,"view",void 0));Lk(Object.assign({},a,{yb:function(){return window.history&&window.history.replaceState({},"",c)}}),b)};function Nk(){return"undefined"!==typeof Rollbar?new Ok:new Pk}function Ok(){}Ok.prototype.log=function(a,b){b=void 0===b?{}:b;Rollbar.log(a,b.error,b.data)};function Pk(){}Pk.prototype.log=function(a,b){b=void 0===b?{}:b;var c=b.error;console[c instanceof Error?"error":"log"](a,c,b.data)};function Qk(a){this.wb=a.wb||null;this.C=a.C||null;this.$f=a.$f||["SOCIAL","INGESTION_STATUS"];this.Ma=this.empty=!1;this.Tb={};this.filter=a.filter||null;this.rg=!0;this.Hd=a.Hd;this.Xd=!0;this.dd=a.dd;this.me=a.me;this.Ea=a.Ea||null;this.Ib=a.Ib}e=Qk.prototype;e.off=Backbone.Events.off;e.on=Backbone.Events.on;e.trigger=Backbone.Events.trigger;e.fetch=function(){function a(){this.Ma=!1}!this.Ma&&this.Xd&&(this.Ma=!0,this.Uc().bind(this).finally(a).then(this.ef).catch(this.ff))};
e.Uc=function(){var a=(new Yg).se(this.wb);a.user=this.Ea;a.folder=this.me;a.decorations=this.$f;a.filter=this.filter;a=a.ue(this.dd).te(this.C);switch(this.Hd){case 0:var b=this.Ib,c=a.ba();return b.Uc("brands/"+(c?encodeURIComponent(c):"~"),a);case 1:var b=this.Ib,c=a.ba(),d=a.Ia();return b.Uc("brands/"+(c?encodeURIComponent(c):"~")+"/users/"+(d?encodeURIComponent(d):"~"),a);case 2:return b=this.Ib,c=a.Ia(),b.Uc("users/"+(c?encodeURIComponent(c):"~"),a);default:throw Error("unknown folder type "+
this.Hd);}};e.ef=function(a){var b=a.Ld(),c=a.zg()||[];this.rg&&(this.empty=0===b.length,this.rg=!1);c.forEach(function(a){this.Tb[a.g()]=a},this);this.C=a.ma();this.Xd=!!this.C;this.trigger("fetch",b)};e.ff=function(a){Nk().log("Something went wrong when listing folders",{error:a});this.trigger("error")};e.isEmpty=function(){return this.empty};function Rk(a){Kk.call(this,a)}Rk.prototype=Object.create(Kk.prototype);Rk.prototype.constructor=Rk;function Sk(a,b,c,d){return new ti({X:a,Vb:vi.bind(null,d),G:Xg(d).G||void 0,wa:!0,item:d,N:b,i:c})};function Tk(a,b,c){this.v=a;this.Ge=b;this.fj=c;this.path="/documents"}function Uk(a,b){var c=Nk();a:switch(b=b.Ge(),b){case "NONE":b="NONE";break a;case "LOG":b="LOG";break a;case "THROW":b="THROW";break a;default:throw Error("unknown DocumentDeserializationMode: "+b);}return new Tk(a,b,c)}e=Tk.prototype;e.duplicate=function(a){return T(this.v,this.path+"?duplicate\x3d"+encodeURIComponent(a.id),a).get(0).tap(Vk(this,"CreateDocumentResponseProto (duplicate)",tg)).then(yg)};
e.delete=function(a){return T(this.v,this.path+"/"+encodeURIComponent(a)+"?delete",null).return()};e.move=function(a,b,c){return T(this.v,this.path+"/"+encodeURIComponent(a)+"?move",{owner:{user:b,brand:c}}).get(0).get("doc")};e.getDocument=function(a){a=[this.path,null!=a.xi?"/"+encodeURIComponent(a.xi):"","?includePages\x3d"+encodeURIComponent(String(!!a.Jj))].join("");return S(this.v,a).get(0).tap(Vk(this,"GetDocumentResponseProto",vg)).then(Bg)};
e.search=function(a){return S(this.v,this.path+"/search?query\x3d"+encodeURIComponent(a.query)).get(0).tap(Vk(this,"SearchDocumentsResponseProto",ke)).then(Dg)};function Vk(a,b,c){return function(d){try{c(B(d))}catch(f){switch(a.Ge){case "THROW":throw f;case "LOG":a.fj.log("Failed deserialization of "+b,{error:f})}}}};function Wk(a){0<a.length&&(a=window.getComputedStyle(a.get(0)))&&a.getPropertyValue("left")};function Xk(a){this.profiles=a.profiles;this.submit=a.submit;this.fa=a.fa}Xk.prototype.je=function(a,b){$(a).next(".formError").remove();if(null!=b){var c=$('\x3cspan class\x3d"formError"\x3e');c.text(b);$(a).after(c).focus().select()}a=0<$(".formError").length;this.submit&&$(this.submit).prop("disabled",a);return null==b};function Yk(a,b,c){var d=$(b).val().toString();mh(a.profiles,c?rb(d,c):qb(d)).then(function(c){a.je(b,c.H()?null:this.fa.format("formValidatorInvalidNameUnavailable"))})};function Zk(){}Zk=Oh.extend();Zk.prototype.initialize=function(a){Oh.prototype.initialize.call(this,_.extend(a,{D:bc}));this.Fe=a.Fe};Zk.prototype.render=function(){Oh.prototype.render.call(this);this.$(".dialog").addClass("alert");this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3e'+(this.Fe?this.Fe:"OK")+"\x3c/button\x3e\x3c/p\x3e");return this};var $k=Zk;function al(a){this.si=a}function bl(){return new al(function(){return new FormData})}
function cl(a){var b=bl();return new P(function(c,d){var f=b.si();Object.keys(a.Le).forEach(function(b){f.append(b,a.Le[b])});f.append("file",a.file);var g=new XMLHttpRequest;g.onerror=d;g.onreadystatechange=function(){if(4===g.readyState){var b=g.status,f=(b=200<=b&&300>b)&&(a.Ki||g.getResponseHeader("x-amz-version-id"));b&&f?c(f):d()}};g.upload.addEventListener("progress",a.progress||function(){});g.open("POST",a.url,!0);g.send(f)})};function dl(a,b,c,d,f,g,h,l){var k=this;this.user=b;this.va=c;this.Hc=f;this.o=g;this.$el=a;this.Cd=this.pe=this.Za=this.mc=null;this.l=h;this.fa=l;this.ye=!1;this.$el.on("change","input",function(){var a=$(this),b=a.get(0),c=a.data("originalValue");if(0<a.parent(".userName").length){var a=k.Me,d=$(b).val().toString(),f=null;255<d.length?f=a.fa.format("formValidatorInvalidNameTooLong"):6>d.length&&c!==d?f=a.fa.format("formValidatorInvalidNameTooShort"):d.match(/[^a-zA-Z0-9._-]/)&&(f=a.fa.format("formValidatorInvalidNameSyntax"));
a.je(b,f)&&Yk(k.Me,b,k.user.g())}}).on("keypress","input",function(a){13===a.keyCode&&k.Gd(!0)}).on("click","#editInfo",function(){k.mi()}).on("click","button.cancel",function(){k.Gd(!1)}).on("click","button.save",function(){k.Gd(!0)}).on("click",".avatar",function(){k.$el.find("#avatarUpload").trigger("click")}).on("change","#avatarUpload",function(a){el(k,a.target.files[0])});window.addEventListener("beforeunload",function(a){var b=k.l.format("userProfileUploadingAvatarMessage");if(k.mc||k.Za)return(a||
window.event).returnValue=b})}_.extend(dl.prototype,Backbone.Events);dl.prototype.on=Backbone.Events.on;dl.prototype.trigger=Backbone.Events.trigger;var fl=_.template("\x3c% var angle \x3d percentage / 100 * 360 %\x3e\x3c% var radians \x3d angle * (Math.PI / 180) %\x3e\x3c% var x \x3d size/2 + Math.cos(radians) * radius %\x3e\x3c% var y \x3d size/2 + Math.sin(radians) * radius %\x3e\x3c% var largeArc \x3d percentage \x3e 50 ? 1 : 0 %\x3eM\x3c%\x3d size/2 + radius %\x3e,\x3c%\x3d size/2 %\x3e A\x3c%\x3d radius %\x3e,\x3c%\x3d radius %\x3e 0 \x3c%\x3d largeArc %\x3e,1 \x3c%\x3d x %\x3e,\x3c%\x3d y %\x3e");
function gl(a){a=a.get(0);return(void 0!==a.innerText?a.innerText:a.textContent).trim()}e=dl.prototype;e.Ia=function(){return this.user};e.H=function(){return this.$el.find(".editable.userName").text()};
e.render=function(){var a=this;this.$el.find(".displayName").text(this.user.Aa()||this.user.H());this.$el.find(".userName").text(this.user.H());this.$el.find(".homepage").text(this.user.Kd()||"");this.$el.find(".city").text(this.user.Jd()||"");var b=this.$el.find(".country"),c=this.user.Fc();b.data("countryCode",c||"");b.text(c?this.Cd.get(c):"");(b=this.user.Id("200"))&&hl(this,b);["displayName","userName","homepage","city","country"].forEach(function(b){b=a.$el.find("."+b);b.toggleClass("empty",
0===gl(b).length)})};e.Ii=_.template('\x3cspan class\x3d"editing formButtons"\x3e\x3cbutton class\x3d"button buttonSmall save"\x3e\x3c%- saveButtonText %\x3e\x3c/button\x3e\x3cbutton class\x3d"cancel button buttonSmall buttonSecondary"\x3e\x3c%- cancelButtonText %\x3e\x3c/button\x3e\x3c/span\x3e');
e.mi=function(){function a(a){var f=$("\x3cselect\x3e\x3c/select\x3e");$('\x3coption value\x3d"ZZ"\x3e\x3c/option\x3e').text(c.l.format("userProfileSelectCountry")).appendTo(f);var g=$('\x3cinput class\x3d"textInput textInputSmall" type\x3d"text" readonly tabindex\x3d"-1"\x3e').attr("placeholder",c.l.format("userProfileCountryPlaceholder")),h=$('\x3cspan class\x3d"countryWrapper"\x3e');[].concat(r(c.Cd.entries())).sort(function(a,b){return a[1].localeCompare(b[1])}).forEach(function(a){$("\x3coption\x3e").attr("value",
a[0]).text(a[1]).appendTo(f)});var l=a.data("countryCode")||"ZZ";f.val(l).data("originalValue",l).appendTo(h);g.val(f.find("option:selected").text());a.empty().append(g).append(h);a.on("change","select",b).on("focus","select",function(){g.addClass("focus")}).on("blur","select",function(){g.removeClass("focus")})}function b(a){var b=c.$el.find(".country input");a=$(a.target);"ZZ"!==a.val()?b.val(a.find("option:selected").text()):b.val("Select a country")}var c=this;this.$el.find(".editable").each(function(){var b=
$(this);if(b.hasClass("country"))a(b);else if(b.hasClass("avatar")){var c=bb.sizes.get("200").ha(),c=b.data("currentUrl")===c;$('\x3cinput id\x3d"avatarUpload" type\x3d"file" accept\x3d"image/*"\x3e').insertAfter(b);b.toggleClass("default",c)}else{var c=gl(b),g=$('\x3cinput type\x3d"text"\x3e'),h=b.data("placeholder");g.addClass("textInput textInputSmall").val(c).data("originalValue",c).attr("placeholder",h).css("font-weight",b.css("font-weight"));b.html(g)}});this.$el.find(".formButtons").after(this.Ii({saveButtonText:c.l.format("userProfileSaveChangesButton"),
cancelButtonText:c.l.format("userProfileCancelButton")}));this.$el.addClass("editing");this.Me=new Xk({profiles:this.va,submit:this.$el.find(".save").get(0),fa:this.fa});this.trigger("beginEditing");this.ye=!1};
e.Gd=function(a){function b(){f.pe=window.setTimeout(function(){f.mc||f.Za?b():(il(f),f.Gd(!0))},1E3)}function c(){function a(){function h(b){if(b&&"FAILED"===b.status)throw Error("Avatar processing has failed");b&&b.sizes&&0!==b.sizes.size&&"PENDING"!==b.status?(c(),$(".currentUser").find(".avatar").css("background-image",'url("'+b.sizes.get("50").ha()+'")')):a()}d=Math.min(1.4*d,15E3);setTimeout(function(){var a=f.va;S(a.v,a.path+"/user/avatars/"+g).get(0).then(Oa).then(h).catch(b)},d)}function b(){window.alert("user update failed");
f.render()}function c(){T(f.Hc,"/session/user?invalidateCache",null)}var d=1E3,g=f.$el.find(".avatar").data("uploadedVersion"),k=f.$el.find(".avatar").data("uploadedType"),q=mb(lb(kb(jb(ib(hb(f.user.g()),gl(f.$el.find(".userName"))||null),gl(f.$el.find(".displayName"))||null),gl(f.$el.find(".homepage"))),gl(f.$el.find(".city"))),f.$el.find(".country").data("countryCode")||null);lh(f.va,q).then(function(a){$.extend(f.user,a.user);(h||l)&&c()}).catch(b);void 0!==g&&void 0!==k&&oh(f.va,g,k).then(a).catch(b)}
function d(){var b=$(this);if(b.hasClass("country")){var c=b.find(".countryWrapper"),d=c.find("select"),d=(a?d.val():d.data("originalValue")).trim().replace(/\s+/g," ");b.empty().text(f.Cd.get(d)||"").data("countryCode",d).toggleClass("empty","ZZ"==d);c.remove()}else b.hasClass("avatar")?(b=b.next("input[type\x3dfile]"),a||jl(f),b.remove()):(b=$(this).find("input"),b=(a?b.val():b.data("originalValue")).trim().replace(/\s+/g," "),$(this).text(b).toggleClass("empty",""==b))}var f=this,g=this.$el.find(".displayName input"),
h=g.data("originalValue")!==g.val(),g=this.$el.find(".userName input"),l=g.data("originalValue")!==g.val(),g=this.$el.find(".homepage input"),g=g.data("originalValue")!==g.val(),k=this.$el.find(".city input"),k=k.data("originalValue")!==k.val(),q=this.$el.find(".country select"),v=q.data("originalValue")!==q.val(),q=this.$el.find("button.save"),g=f.ye||h||l||g||k||v;a&&(f.mc||f.Za)?(q.prop("disabled",!0).val("Finishing upload..."),!f.pe&&b()):(f.$el.find(".editing.formButtons").remove(),f.$el.find(".editable").each(d),
f.$el.removeClass("editing"),a&&c());this.trigger("endEditing",g);this.Me=null};
function el(a,b){function c(a,b){var c=$('\x3cimg class\x3d"offscreen"\x3e');c.one("load",function(){c.remove();b()});c.appendTo($("body")).attr("src",a)}if(2097152<b.size)(new $k({title:a.l.format("userProfileAvatarUploadErrorTitle"),content:$(a.l.format("userProfileAvatarUploadErrorFileTooLargeHtml",b.name))})).show();else{var d=window.URL||window.webkitURL;if(!d)throw Error("Failed to create object url. Unsupported browser.");var f=d.createObjectURL(b);c(f,function(){hl(a,f);window.setTimeout(function(){d.revokeObjectURL(f)},
500)});jl(a);kl(a,b)}}
function kl(a,b){function c(a){a.lengthComputable&&(a=a.loaded/a.total*9E3/100,90>a?f.wf(a):l||(l=window.setInterval(function(){k+=.1;f.wf(Math.min(k,99))},200)))}function d(){window.alert("There was an error uploading your avatar. Please try again later.");il(f);hl(f,g.data("currentUrl"))}var f=a,g=a.$el.find(".avatar"),h=b.type,l,k=90;g.addClass("uploading");nh(a.va,h).then(function(a){function k(a){return function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];y===f.Za&&a.apply(null,
[].concat(r(c)))}}var y={file:b,Le:a.formFields,url:a.formPostUrl,progress:k(c),Ki:!0};f.Za=y;cl(y).then(k(function(){f.Za=null;window.clearInterval(l);l=null;f.wf(100);g.data("uploadedVersion",a.getVersion());g.data("uploadedType",h);window.setTimeout(function(){il(f)},2200);f.ye=!0})).catch(k(function(){d();f.Za=null}))}).catch(d)}
e.wf=_.throttle(function(a){function b(a){a=Math.min(a,99.9999);return{size:140,radius:65,percentage:a}}var c=this.$el.find("svg.progress");0===c.length&&(c=$('\x3csvg class\x3d"progress" data-progress\x3d"0"\x3e\x3cpath fill\x3d"none" stroke\x3d"#00c4cc" stroke-width\x3d"10"\x3e\x3canimate id\x3d"uploading" attributeName\x3d"d" fill\x3d"freeze" begin \x3d "indefinite" dur \x3d "200ms"/\x3e\x3canimate id\x3d"processing" attributeName\x3d"stroke" begin\x3d"indefinite" values\x3d"#00c4cc; #99c432; #00c4cc" dur\x3d"1s" repeatCount\x3d"2"/\x3e\x3c/path\x3e\x3c/svg\x3e'),c.prependTo(this.$el.find(".avatar")),
Wk(c),c.css("opacity",1));for(var d=c.find("#uploading")[0],f=parseFloat(c.data("progress")),g=fl(b(f)),h=!!d.beginElement,l=Math.ceil(a-f),k=[],q,v=0;v<=l;v++)q=f+v/l*(a-f),k.push(fl(b(q)));c.find("path").attr("d",g);c.data("progress",a);d.setAttribute("values",k.join(";"));h?(d.beginElement(),100===a&&c.find("#processing").get(0).beginElementAt(.2)):c.find("path").attr("d",_.last(k))},200);
function il(a){var b=a.$el.find("svg.progress"),c=a.$el.find(".avatar");b.css("opacity",0);window.setTimeout(function(){b.remove();c.removeClass("uploading")},200)}function jl(a){var b=a.$el.find(".avatar").data("currentUrl");a.mc&&a.mc.abort();a.mc=null;a.Za&&il(a);a.Za=null;window.clearTimeout(a.pe);a.pe=null;hl(a,b)}
function hl(a,b){var c=bb.sizes.get("200").ha();a=a.$el.find(".avatar");var d="url("+b+")";a.toggleClass("default",b===c);a.css("background-image")!=d&&a.css("background-image",d)};function ll(){}ll=Backbone.View.extend({className:"button buttonFollow buttonSmall",tagName:"button"});e=ll.prototype;e.events=function(){return{click:this.$c,mouseout:this.Yi}};e.initialize=function(a){this.hb=a.hb;this.jb=a.jb;this.na=a.na;this.N=a.N};
e.Hi=function(){var a=this;this.$el.addClass("buttonActive buttonFollowJustClicked");this.$el.attr("disabled","disabled");this.hb=!0;Ig(this.N,new Ve({ib:this.jb,type:"USER"})).finally(function(){a.$el.removeAttr("disabled")}).catch(function(){window.alert("Oh no, following failed. Refresh the page and try again.");a.$el.removeClass("buttonActive buttonFollowJustClicked");a.hb=!1;a.trigger("unfollow",a.jb)});this.trigger("follow",this.jb)};e.Qe=function(){return window.location.pathname+window.location.search};
e.navigate=function(a){window.location=a};e.$c=function(){this.na?this.navigate(Zh({loginRedirect:this.Qe()})):this.hb?this.sj():this.Hi()};e.Yi=function(a){0===$(a.relatedTarget).closest(this.el).length&&this.$el.removeClass("buttonFollowJustClicked")};e.render=function(){this.$el.html(this.template());this.$el.toggleClass("buttonActive",this.hb);return this};e.template=_.template('\x3cspan class\x3d"buttonFollowOff"\x3eFollow\x3c/span\x3e\x3cspan class\x3d"buttonFollowOn"\x3eFollowing\x3c/span\x3e\x3cspan class\x3d"buttonFollowOnHover"\x3eUnfollow\x3c/span\x3e');
e.sj=function(){var a=this;this.$el.attr("disabled","disabled");this.$el.removeClass("buttonActive");this.hb=!1;Jg(this.N,new Ze({ib:this.jb})).finally(function(){a.$el.removeAttr("disabled")}).catch(function(){window.alert("Oh no, unfollowing failed. Refresh the page and try again.");a.$el.addClass("buttonActive");a.hb=!0;a.trigger("follow",a.jb)});this.trigger("unfollow",this.jb)};var ml=ll;function nl(a,b){this.ze=a;this.namespace=void 0===b?null:b}function ol(){if(window.localStorage)return new nl(window.localStorage,void 0);throw Error("ClientStore: localStorage is not defined on window, likely an unsupported browser");}nl.prototype.setItem=function(a,b){try{return this.ze.setItem(null==this.namespace?a:this.namespace+"."+a,b),!0}catch(c){return!1}};nl.prototype.getItem=function(a){return this.ze.getItem(null==this.namespace?a:this.namespace+"."+a)};
nl.prototype.removeItem=function(a){this.ze.removeItem(null==this.namespace?a:this.namespace+"."+a)};function pl(a,b,c){window.open(a,"","scrollbars\x3dyes,resizable\x3dyes,toolbar\x3dno,location\x3dyes,width\x3d"+b+",height\x3d"+c+",left\x3d"+((window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-b/2+(void 0!==window.screenLeft?window.screenLeft:screen.left))+",top\x3d"+((window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-c/2+(void 0!==window.screenTop?
window.screenTop:screen.top)))};function ql(){}ql=Backbone.View.extend({className:"shareProfileView"});ql.Ff="shareProfileViewDismissed";e=ql.prototype;e.events=function(){return{"click .buttonFacebook":this.kj,"click .buttonLinkedIn":this.lj,"click .buttonTwitter":this.mj,"click .shareProfileViewDismiss":this.vi}};e.initialize=function(a){this.l=a.l;this.Sh=a.ni;this.user=a.user;this.Df=a.Df};e.vi=function(){this.hide();this.Sh.setItem(ql.Ff,"true")};
function rl(a,b){return[window.location.protocol+"//"+window.location.host,"/"+encodeURIComponent(a.user.H()),"?utm_campaign\x3dprofileshare","\x26utm_source\x3d"+encodeURIComponent(a.Df),"\x26utm_medium\x3d"+encodeURIComponent(b)].join("")}e.hide=function(){this.$el.addClass("shareProfileViewHidden")};
e.render=function(){this.$el.html(this.template({shareText:this.l.nj(),facebookButtonText:this.l.format("userProfileShareFacebookButton"),twitterButtonText:this.l.format("userProfileShareTwitterButton"),linkedInButtonText:this.l.format("userProfileShareLinkedInButton"),dismissTitle:this.l.wi()}));null!==this.Sh.getItem(ql.Ff)&&this.hide();return this};e.kj=function(){pl("https://www.facebook.com/sharer/sharer.php?u\x3d"+encodeURIComponent(rl(this,"facebook")),550,420)};
e.lj=function(){pl("https://www.linkedin.com/shareArticle?mini\x3dtrue\x26url\x3d"+encodeURIComponent(rl(this,"linkedIn")),606,445)};e.mj=function(){var a;a=[this.l.format("userProfileShareTwitterText1"),this.l.format("userProfileShareTwitterText2"),this.l.format("userProfileShareTwitterText3")];var b=rl(this,"twitter");pl("https://twitter.com/intent/tweet?url\x3d"+encodeURIComponent(b)+"\x26text\x3d"+encodeURIComponent(a[Math.floor(Math.random()*a.length)]),550,420)};e.show=function(){this.$el.removeClass("shareProfileViewHidden")};
e.template=_.template('\x3c%- shareText %\x3e\x3cbutton class\x3d"button buttonFacebook buttonSmall"\x3e\x3c%- facebookButtonText %\x3e\x3c/button\x3e\x3cbutton class\x3d"button buttonSmall buttonTwitter"\x3e\x3c%- twitterButtonText %\x3e\x3c/button\x3e\x3cbutton class\x3d"button buttonLinkedIn buttonSmall"\x3e\x3c%- linkedInButtonText %\x3e\x3c/button\x3e\x3cbutton class\x3d"shareProfileViewDismiss" title\x3d"\x3c%- dismissTitle %\x3e"\x3e\x3c/button\x3e');var sl=ql;function tl(a){this.l=a.l;this.o=a.o;this.gg=a.gg;this.Hc=a.Hc;this.na=a.X.na();this.Lg=a.X.g()===a.user.g();this.va=a.va;this.N=a.N;this.user=a.user;this.od=a.od;this.qe=a.qe;this.Hb=a.Hb;this.listenTo(this.Hb,"scroll",this.od.Je.bind(this.od));this.fa=a.fa}e=tl.prototype;
e.start=function(){this.getWindow().on({resize:_.debounce(this.$i.bind(this),300)});tl.prototype.ah=function(){this.o.track("profile_page_visit",{profile_username:this.user.H(),profile_user_id:this.user.g()})};ul(this);this.Lg&&(this.ee=new dl($(".headerInfo"),this.user,this.va,0,this.Hc,this.o,this.l,this.fa),this.ee.on({beginEditing:this.Wi,endEditing:this.Vi},this));vl(this);this.Lg&&(new sl({l:this.l,ni:ol(),user:this.user,Df:"profile_page"})).render().$el.insertBefore("#designs");this.qe.render().$el.appendTo("#designs");
this.od.init().Je();return this};function ul(a){var b=$(".buttonFollow");1>b.length||(b=(new ml({el:b[0],hb:b.hasClass("buttonActive"),jb:b.data("userId"),na:a.na,N:a.N})).render(),b.on({follow:a.ei.bind(a,1),unfollow:a.ei.bind(a,-1)}))}e.getWindow=function(){return $(window)};e.Vi=function(){var a;$("body").removeClass("editingProfile");a=this.ee.H();window.history.replaceState({},"","/"+encodeURIComponent(a))};
e.Wi=function(){var a=$("body");a.addClass("editingProfile");a.animate({scrollTop:0},500,"easeOutSine")};e.$i=function(){this.qe.qf()};
function vl(a){var b=$(".headerInfo .country"),c=b.data("countryCode").toString(),d=new Map([["AD","Andorra"],["AE","United Arab Emirates"],["AF","Afghanistan"],["AG","Antigua and Barbuda"],["AI","Anguilla"],["AL","Albania"],["AM","Armenia"],["AO","Angola"],["AQ","Antarctica"],["AR","Argentina"],["AS","American Samoa"],["AT","Austria"],["AU","Australia"],["AW","Aruba"],["AX","land Islands"],["AZ","Azerbaijan"],["BA","Bosnia and Herzegovina"],["BB","Barbados"],["BD","Bangladesh"],["BE","Belgium"],
["BF","Burkina Faso"],["BG","Bulgaria"],["BH","Bahrain"],["BI","Burundi"],["BJ","Benin"],["BL","Saint Barthlemy"],["BM","Bermuda"],["BN","Brunei Darussalam"],["BO","Bolivia"],["BQ","Bonaire, Sint Eustatius and Saba"],["BR","Brazil"],["BS","Bahamas"],["BT","Bhutan"],["BV","Bouvet Island"],["BW","Botswana"],["BY","Belarus"],["BZ","Belize"],["CA","Canada"],["CC","Cocos (Keeling) Islands"],["CD","Congo, the Democratic Republic of the"],["CF","Central African Republic"],["CG","Congo"],["CH","Switzerland"],
["CI","Cte d'Ivoire"],["CK","Cook Islands"],["CL","Chile"],["CM","Cameroon"],["CN","China"],["CO","Colombia"],["CR","Costa Rica"],["CU","Cuba"],["CV","Cape Verde"],["CW","Curaao"],["CX","Christmas Island"],["CY","Cyprus"],["CZ","Czech Republic"],["DE","Germany"],["DJ","Djibouti"],["DK","Denmark"],["DM","Dominica"],["DO","Dominican Republic"],["DZ","Algeria"],["EC","Ecuador"],["EE","Estonia"],["EG","Egypt"],["EH","Western Sahara"],["ER","Eritrea"],["ES","Spain"],["ET","Ethiopia"],["FI","Finland"],
["FJ","Fiji"],["FK","Falkland Islands (Malvinas)"],["FM","Micronesia, Federated States of"],["FO","Faroe Islands"],["FR","France"],["GA","Gabon"],["GB","United Kingdom"],["GD","Grenada"],["GE","Georgia"],["GF","French Guiana"],["GG","Guernsey"],["GH","Ghana"],["GI","Gibraltar"],["GL","Greenland"],["GM","Gambia"],["GN","Guinea"],["GP","Guadeloupe"],["GQ","Equatorial Guinea"],["GR","Greece"],["GS","South Georgia and the South Sandwich Islands"],["GT","Guatemala"],["GU","Guam"],["GW","Guinea-Bissau"],
["GY","Guyana"],["HK","Hong Kong"],["HM","Heard Island and McDonald Islands"],["HN","Honduras"],["HR","Croatia"],["HT","Haiti"],["HU","Hungary"],["ID","Indonesia"],["IE","Ireland"],["IL","Israel"],["IM","Isle of Man"],["IN","India"],["IO","British Indian Ocean Territory"],["IQ","Iraq"],["IR","Iran"],["IS","Iceland"],["IT","Italy"],["JE","Jersey"],["JM","Jamaica"],["JO","Jordan"],["JP","Japan"],["KE","Kenya"],["KG","Kyrgyzstan"],["KH","Cambodia"],["KI","Kiribati"],["KM","Comoros"],["KN","Saint Kitts and Nevis"],
["KP","North Korea"],["KR","South Korea"],["KW","Kuwait"],["KY","Cayman Islands"],["KZ","Kazakhstan"],["LA","Laos"],["LB","Lebanon"],["LC","Saint Lucia"],["LI","Liechtenstein"],["LK","Sri Lanka"],["LR","Liberia"],["LS","Lesotho"],["LT","Lithuania"],["LU","Luxembourg"],["LV","Latvia"],["LY","Libya"],["MA","Morocco"],["MC","Monaco"],["MD","Moldova"],["ME","Montenegro"],["MF","Saint Martin"],["MG","Madagascar"],["MH","Marshall Islands"],["MK","Macedonia"],["ML","Mali"],["MM","Myanmar"],["MN","Mongolia"],
["MO","Macao"],["MP","Northern Mariana Islands"],["MQ","Martinique"],["MR","Mauritania"],["MS","Montserrat"],["MT","Malta"],["MU","Mauritius"],["MV","Maldives"],["MW","Malawi"],["MX","Mexico"],["MY","Malaysia"],["MZ","Mozambique"],["NA","Namibia"],["NC","New Caledonia"],["NE","Niger"],["NF","Norfolk Island"],["NG","Nigeria"],["NI","Nicaragua"],["NL","Netherlands"],["NO","Norway"],["NP","Nepal"],["NR","Nauru"],["NU","Niue"],["NZ","New Zealand"],["OM","Oman"],["PA","Panama"],["PE","Peru"],["PF","French Polynesia"],
["PG","Papua New Guinea"],["PH","Philippines"],["PK","Pakistan"],["PL","Poland"],["PM","Saint Pierre and Miquelon"],["PN","Pitcairn"],["PR","Puerto Rico"],["PS","Palestinian Territory"],["PT","Portugal"],["PW","Palau"],["PY","Paraguay"],["QA","Qatar"],["RE","Runion"],["RO","Romania"],["RS","Serbia"],["RU","Russia"],["RW","Rwanda"],["SA","Saudi Arabia"],["SB","Solomon Islands"],["SC","Seychelles"],["SD","Sudan"],["SE","Sweden"],["SG","Singapore"],["SH","Saint Helena, Ascension and Tristan da Cunha"],
["SI","Slovenia"],["SJ","Svalbard and Jan Mayen"],["SK","Slovakia"],["SL","Sierra Leone"],["SM","San Marino"],["SN","Senegal"],["SO","Somalia"],["SR","Suriname"],["SS","South Sudan"],["ST","Sao Tome and Principe"],["SV","El Salvador"],["SX","Sint Maarten"],["SY","Syria"],["SZ","Swaziland"],["TC","Turks and Caicos Islands"],["TD","Chad"],["TF","French Southern Territories"],["TG","Togo"],["TH","Thailand"],["TJ","Tajikistan"],["TK","Tokelau"],["TL","Timor-Leste"],["TM","Turkmenistan"],["TN","Tunisia"],
["TO","Tonga"],["TR","Turkey"],["TT","Trinidad and Tobago"],["TV","Tuvalu"],["TW","Taiwan"],["TZ","Tanzania"],["UA","Ukraine"],["UG","Uganda"],["UM","United States Minor Outlying Islands"],["US","United States"],["UY","Uruguay"],["UZ","Uzbekistan"],["VA","Holy See (Vatican City State)"],["VC","Saint Vincent and the Grenadines"],["VE","Venezuela"],["VG","Virgin Islands, British"],["VI","Virgin Islands, U.S."],["VN","Viet Nam"],["VU","Vanuatu"],["WF","Wallis and Futuna"],["WS","Samoa"],["YE","Yemen"],
["YT","Mayotte"],["ZA","South Africa"],["ZM","Zambia"],["ZW","Zimbabwe"]]);b.text(d.get(c));a.ee&&(a.ee.Cd=d)}e.ei=function(a){var b=$(".followers.stat .number");a=parseInt(b.data("value"),10)+a;b.data("value",a);b.text(a.toString())};e.listenTo=Backbone.Events.listenTo;e.stopListening=Backbone.Events.stopListening;e.trigger=Backbone.Events.trigger;e.off=Backbone.Events.off;e.on=Backbone.Events.on;$(function(){function a(a){a=$(a);$("#page \x3e .inner").append(a.find(".headerInfo")).append(a.find("#designs"));$("body").addClass("profileLoaded")}function b(){var a=Ai.create({l:Bc(g),X:k,Zb:d.g()===k.g(),nc:d.Aa()||d.H(),N:y}),b={dd:24,Ea:d.g(),Ib:W},b=new Qk({C:b.C,Hd:2,dd:b.dd,me:"/designs/portfolio",Ea:b.Ea,Ib:b.Ib}),b=new Rk({l:Bc(g),De:Sk.bind(null,k,y,g),Hb:Za,Va:b,o:c,og:q,i:g,D:$a,J:v,xa:y,ca:lg,X:k,ia:"view_design",uf:Mk,view:a});ja=(new tl({l:Bc(g),o:c,od:b,qe:a,Hb:Za,gg:Uk(f,q),X:k,
Hc:f,va:X,N:y,user:d,fa:zc(g)})).start();ld.Qb.Xe()||ja.ah()}var c=jc(),d=Wa(window.author),f=new lc(window.httpServiceConfig);if(!window.cmsg)throw Error("window['cmsg'] isn't defined");var g=new sc,h=Sc(),l=h.brandInfo.ba(),k=h.user.md(),q=new gh(new fh(B(window.cflags))),v=new id(f),y=new Gg(f),W=new ah(f),X=new jh(f),Za=ch(),$a=bc,ja,ld,kg,h=l.g();g.nb||(g.nb=new Hc(g.config));var lg=new ph({wb:h,va:X,nb:g.nb,Eb:q.Eb()}),h=Re(window.socialDocument);kg=h.G.username;$(".lightboxDialog").appendTo("body");
ld=ak($(".lightboxDialog"));h=Ik({o:c,i:g,D:$a,J:v,xa:y,fb:h.document.id,gc:h,ca:lg,w:k,ia:"view_design"},ld);h.ob();Jk(h,function(){ja&&ja.ah();window.history&&window.history.replaceState({},"","/"+encodeURIComponent(d.H()))});$(window).one("load",function(){P.resolve($.get("/"+encodeURIComponent(kg||""))).then(a).then(b)})});})();
